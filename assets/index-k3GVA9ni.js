var XA=Object.defineProperty;var Qg=i=>{throw TypeError(i)};var YA=(i,t,e)=>t in i?XA(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var ut=(i,t,e)=>YA(i,typeof t!="symbol"?t+"":t,e),Iu=(i,t,e)=>t.has(i)||Qg("Cannot "+e);var c=(i,t,e)=>(Iu(i,t,"read from private field"),e?e.call(i):t.get(i)),A=(i,t,e)=>t.has(i)?Qg("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e),y=(i,t,e,n)=>(Iu(i,t,"write to private field"),n?n.call(i,e):t.set(i,e),e),w=(i,t,e)=>(Iu(i,t,"access private method"),e);var Ye=(i,t,e,n)=>({set _(s){y(i,t,s,e)},get _(){return c(i,t,n)}});import{b as R,q,C as KA,d as Bv,A as zv,B as jv}from"./index-Bxrc-UJ2.js";function cn(i,t,{checkForDefaultPrevented:e=!0}={}){return function(s){if(i==null||i(s),e===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Jg(i,t){if(typeof i=="function")return i(t);i!=null&&(i.current=t)}function $v(...i){return t=>{let e=!1;const n=i.map(s=>{const r=Jg(s,t);return!e&&typeof r=="function"&&(e=!0),r});if(e)return()=>{for(let s=0;s<n.length;s++){const r=n[s];typeof r=="function"?r():Jg(i[s],null)}}}}function Xi(...i){return R.useCallback($v(...i),i)}function vT(i,t){const e=R.createContext(t),n=r=>{const{children:a,...o}=r,l=R.useMemo(()=>o,Object.values(o));return q.jsx(e.Provider,{value:l,children:a})};n.displayName=i+"Provider";function s(r){const a=R.useContext(e);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${r}\` must be used within \`${i}\``)}return[n,s]}function Zp(i,t=[]){let e=[];function n(r,a){const o=R.createContext(a),l=e.length;e=[...e,a];const d=u=>{var v;const{scope:f,children:p,...g}=u,m=((v=f==null?void 0:f[i])==null?void 0:v[l])||o,b=R.useMemo(()=>g,Object.values(g));return q.jsx(m.Provider,{value:b,children:p})};d.displayName=r+"Provider";function h(u,f){var m;const p=((m=f==null?void 0:f[i])==null?void 0:m[l])||o,g=R.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${u}\` must be used within \`${r}\``)}return[d,h]}const s=()=>{const r=e.map(a=>R.createContext(a));return function(o){const l=(o==null?void 0:o[i])||r;return R.useMemo(()=>({[`__scope${i}`]:{...o,[i]:l}}),[o,l])}};return s.scopeName=i,[n,QA(s,...t)]}function QA(...i){const t=i[0];if(i.length===1)return t;const e=()=>{const n=i.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(r){const a=n.reduce((o,{useScope:l,scopeName:d})=>{const u=l(r)[`__scope${d}`];return{...o,...u}},{});return R.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return e.scopeName=t.scopeName,e}var No=globalThis!=null&&globalThis.document?R.useLayoutEffect:()=>{},JA=KA[" useInsertionEffect ".trim().toString()]||No;function ZA({prop:i,defaultProp:t,onChange:e=()=>{},caller:n}){const[s,r,a]=t0({defaultProp:t,onChange:e}),o=i!==void 0,l=o?i:s;{const h=R.useRef(i!==void 0);R.useEffect(()=>{const u=h.current;u!==o&&console.warn(`${n} is changing from ${u?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=o},[o,n])}const d=R.useCallback(h=>{var u;if(o){const f=e0(h)?h(i):h;f!==i&&((u=a.current)==null||u.call(a,f))}else r(h)},[o,i,r,a]);return[l,d]}function t0({defaultProp:i,onChange:t}){const[e,n]=R.useState(i),s=R.useRef(e),r=R.useRef(t);return JA(()=>{r.current=t},[t]),R.useEffect(()=>{var a;s.current!==e&&((a=r.current)==null||a.call(r,e),s.current=e)},[e,s]),[e,n,r]}function e0(i){return typeof i=="function"}function Uv(i){const t=s0(i),e=R.forwardRef((n,s)=>{const{children:r,...a}=n,o=R.Children.toArray(r),l=o.find(r0);if(l){const d=l.props.children,h=o.map(u=>u===l?R.Children.count(d)>1?R.Children.only(null):R.isValidElement(d)?d.props.children:null:u);return q.jsx(t,{...a,ref:s,children:R.isValidElement(d)?R.cloneElement(d,void 0,h):null})}return q.jsx(t,{...a,ref:s,children:r})});return e.displayName=`${i}.Slot`,e}var n0=Uv("Slot");function s0(i){const t=R.forwardRef((e,n)=>{const{children:s,...r}=e;if(R.isValidElement(s)){const a=o0(s),o=a0(r,s.props);return s.type!==R.Fragment&&(o.ref=n?$v(n,a):a),R.cloneElement(s,o)}return R.Children.count(s)>1?R.Children.only(null):null});return t.displayName=`${i}.SlotClone`,t}var i0=Symbol("radix.slottable");function r0(i){return R.isValidElement(i)&&typeof i.type=="function"&&"__radixId"in i.type&&i.type.__radixId===i0}function a0(i,t){const e={...t};for(const n in t){const s=i[n],r=t[n];/^on[A-Z]/.test(n)?s&&r?e[n]=(...o)=>{const l=r(...o);return s(...o),l}:s&&(e[n]=s):n==="style"?e[n]={...s,...r}:n==="className"&&(e[n]=[s,r].filter(Boolean).join(" "))}return{...i,...e}}function o0(i){var n,s;let t=(n=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:n.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?i.ref:(t=(s=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:s.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?i.props.ref:i.props.ref||i.ref)}var l0=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Yi=l0.reduce((i,t)=>{const e=Uv(`Primitive.${t}`),n=R.forwardRef((s,r)=>{const{asChild:a,...o}=s,l=a?e:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),q.jsx(l,{...o,ref:r})});return n.displayName=`Primitive.${t}`,{...i,[t]:n}},{});function c0(i,t){i&&Bv.flushSync(()=>i.dispatchEvent(t))}function iu(i){const t=R.useRef(i);return R.useEffect(()=>{t.current=i}),R.useMemo(()=>(...e)=>{var n;return(n=t.current)==null?void 0:n.call(t,...e)},[])}function d0(i,t=globalThis==null?void 0:globalThis.document){const e=iu(i);R.useEffect(()=>{const n=s=>{s.key==="Escape"&&e(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[e,t])}var h0="DismissableLayer",af="dismissableLayer.update",u0="dismissableLayer.pointerDownOutside",f0="dismissableLayer.focusOutside",Zg,Wv=R.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vv=R.forwardRef((i,t)=>{const{disableOutsidePointerEvents:e=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:r,onInteractOutside:a,onDismiss:o,...l}=i,d=R.useContext(Wv),[h,u]=R.useState(null),f=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=R.useState({}),g=Xi(t,L=>u(L)),m=Array.from(d.layers),[b]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(b),E=h?m.indexOf(h):-1,x=d.layersWithOutsidePointerEventsDisabled.size>0,C=E>=v,S=m0(L=>{const T=L.target,M=[...d.branches].some(_=>_.contains(T));!C||M||(s==null||s(L),a==null||a(L),L.defaultPrevented||o==null||o())},f),k=v0(L=>{const T=L.target;[...d.branches].some(_=>_.contains(T))||(r==null||r(L),a==null||a(L),L.defaultPrevented||o==null||o())},f);return d0(L=>{E===d.layers.size-1&&(n==null||n(L),!L.defaultPrevented&&o&&(L.preventDefault(),o()))},f),R.useEffect(()=>{if(h)return e&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Zg=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),tm(),()=>{e&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Zg)}},[h,f,e,d]),R.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),tm())},[h,d]),R.useEffect(()=>{const L=()=>p({});return document.addEventListener(af,L),()=>document.removeEventListener(af,L)},[]),q.jsx(Yi.div,{...l,ref:g,style:{pointerEvents:x?C?"auto":"none":void 0,...i.style},onFocusCapture:cn(i.onFocusCapture,k.onFocusCapture),onBlurCapture:cn(i.onBlurCapture,k.onBlurCapture),onPointerDownCapture:cn(i.onPointerDownCapture,S.onPointerDownCapture)})});Vv.displayName=h0;var p0="DismissableLayerBranch",g0=R.forwardRef((i,t)=>{const e=R.useContext(Wv),n=R.useRef(null),s=Xi(t,n);return R.useEffect(()=>{const r=n.current;if(r)return e.branches.add(r),()=>{e.branches.delete(r)}},[e.branches]),q.jsx(Yi.div,{...i,ref:s})});g0.displayName=p0;function m0(i,t=globalThis==null?void 0:globalThis.document){const e=iu(i),n=R.useRef(!1),s=R.useRef(()=>{});return R.useEffect(()=>{const r=o=>{if(o.target&&!n.current){let l=function(){qv(u0,e,d,{discrete:!0})};const d={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",r)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",r),t.removeEventListener("click",s.current)}},[t,e]),{onPointerDownCapture:()=>n.current=!0}}function v0(i,t=globalThis==null?void 0:globalThis.document){const e=iu(i),n=R.useRef(!1);return R.useEffect(()=>{const s=r=>{r.target&&!n.current&&qv(f0,e,{originalEvent:r},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,e]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function tm(){const i=new CustomEvent(af);document.dispatchEvent(i)}function qv(i,t,e,{discrete:n}){const s=e.originalEvent.target,r=new CustomEvent(i,{bubbles:!1,cancelable:!0,detail:e});t&&s.addEventListener(i,t,{once:!0}),n?c0(s,r):s.dispatchEvent(r)}const b0=["top","right","bottom","left"],zi=Math.min,on=Math.max,wh=Math.round,Id=Math.floor,ds=i=>({x:i,y:i}),y0={left:"right",right:"left",bottom:"top",top:"bottom"},w0={start:"end",end:"start"};function of(i,t,e){return on(i,zi(t,e))}function ti(i,t){return typeof i=="function"?i(t):i}function ei(i){return i.split("-")[0]}function zo(i){return i.split("-")[1]}function tg(i){return i==="x"?"y":"x"}function eg(i){return i==="y"?"height":"width"}const A0=new Set(["top","bottom"]);function os(i){return A0.has(ei(i))?"y":"x"}function ng(i){return tg(os(i))}function E0(i,t,e){e===void 0&&(e=!1);const n=zo(i),s=ng(i),r=eg(s);let a=s==="x"?n===(e?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[r]>t.floating[r]&&(a=Ah(a)),[a,Ah(a)]}function x0(i){const t=Ah(i);return[lf(i),t,lf(t)]}function lf(i){return i.replace(/start|end/g,t=>w0[t])}const em=["left","right"],nm=["right","left"],S0=["top","bottom"],C0=["bottom","top"];function _0(i,t,e){switch(i){case"top":case"bottom":return e?t?nm:em:t?em:nm;case"left":case"right":return t?S0:C0;default:return[]}}function k0(i,t,e,n){const s=zo(i);let r=_0(ei(i),e==="start",n);return s&&(r=r.map(a=>a+"-"+s),t&&(r=r.concat(r.map(lf)))),r}function Ah(i){return i.replace(/left|right|bottom|top/g,t=>y0[t])}function R0(i){return{top:0,right:0,bottom:0,left:0,...i}}function Gv(i){return typeof i!="number"?R0(i):{top:i,right:i,bottom:i,left:i}}function Eh(i){const{x:t,y:e,width:n,height:s}=i;return{width:n,height:s,top:e,left:t,right:t+n,bottom:e+s,x:t,y:e}}function sm(i,t,e){let{reference:n,floating:s}=i;const r=os(t),a=ng(t),o=eg(a),l=ei(t),d=r==="y",h=n.x+n.width/2-s.width/2,u=n.y+n.height/2-s.height/2,f=n[o]/2-s[o]/2;let p;switch(l){case"top":p={x:h,y:n.y-s.height};break;case"bottom":p={x:h,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:u};break;case"left":p={x:n.x-s.width,y:u};break;default:p={x:n.x,y:n.y}}switch(zo(t)){case"start":p[a]-=f*(e&&d?-1:1);break;case"end":p[a]+=f*(e&&d?-1:1);break}return p}const P0=async(i,t,e)=>{const{placement:n="bottom",strategy:s="absolute",middleware:r=[],platform:a}=e,o=r.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let d=await a.getElementRects({reference:i,floating:t,strategy:s}),{x:h,y:u}=sm(d,n,l),f=n,p={},g=0;for(let m=0;m<o.length;m++){const{name:b,fn:v}=o[m],{x:E,y:x,data:C,reset:S}=await v({x:h,y:u,initialPlacement:n,placement:f,strategy:s,middlewareData:p,rects:d,platform:a,elements:{reference:i,floating:t}});h=E??h,u=x??u,p={...p,[b]:{...p[b],...C}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(d=S.rects===!0?await a.getElementRects({reference:i,floating:t,strategy:s}):S.rects),{x:h,y:u}=sm(d,f,l)),m=-1)}return{x:h,y:u,placement:f,strategy:s,middlewareData:p}};async function _l(i,t){var e;t===void 0&&(t={});const{x:n,y:s,platform:r,rects:a,elements:o,strategy:l}=i,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:u="floating",altBoundary:f=!1,padding:p=0}=ti(t,i),g=Gv(p),b=o[f?u==="floating"?"reference":"floating":u],v=Eh(await r.getClippingRect({element:(e=await(r.isElement==null?void 0:r.isElement(b)))==null||e?b:b.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(o.floating)),boundary:d,rootBoundary:h,strategy:l})),E=u==="floating"?{x:n,y:s,width:a.floating.width,height:a.floating.height}:a.reference,x=await(r.getOffsetParent==null?void 0:r.getOffsetParent(o.floating)),C=await(r.isElement==null?void 0:r.isElement(x))?await(r.getScale==null?void 0:r.getScale(x))||{x:1,y:1}:{x:1,y:1},S=Eh(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:E,offsetParent:x,strategy:l}):E);return{top:(v.top-S.top+g.top)/C.y,bottom:(S.bottom-v.bottom+g.bottom)/C.y,left:(v.left-S.left+g.left)/C.x,right:(S.right-v.right+g.right)/C.x}}const T0=i=>({name:"arrow",options:i,async fn(t){const{x:e,y:n,placement:s,rects:r,platform:a,elements:o,middlewareData:l}=t,{element:d,padding:h=0}=ti(i,t)||{};if(d==null)return{};const u=Gv(h),f={x:e,y:n},p=ng(s),g=eg(p),m=await a.getDimensions(d),b=p==="y",v=b?"top":"left",E=b?"bottom":"right",x=b?"clientHeight":"clientWidth",C=r.reference[g]+r.reference[p]-f[p]-r.floating[g],S=f[p]-r.reference[p],k=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let L=k?k[x]:0;(!L||!await(a.isElement==null?void 0:a.isElement(k)))&&(L=o.floating[x]||r.floating[g]);const T=C/2-S/2,M=L/2-m[g]/2-1,_=zi(u[v],M),I=zi(u[E],M),F=_,H=L-m[g]-I,B=L/2-m[g]/2+T,W=of(F,B,H),$=!l.arrow&&zo(s)!=null&&B!==W&&r.reference[g]/2-(B<F?_:I)-m[g]/2<0,N=$?B<F?B-F:B-H:0;return{[p]:f[p]+N,data:{[p]:W,centerOffset:B-W-N,...$&&{alignmentOffset:N}},reset:$}}}),L0=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(t){var e,n;const{placement:s,middlewareData:r,rects:a,initialPlacement:o,platform:l,elements:d}=t,{mainAxis:h=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...b}=ti(i,t);if((e=r.arrow)!=null&&e.alignmentOffset)return{};const v=ei(s),E=os(o),x=ei(o)===o,C=await(l.isRTL==null?void 0:l.isRTL(d.floating)),S=f||(x||!m?[Ah(o)]:x0(o)),k=g!=="none";!f&&k&&S.push(...k0(o,m,g,C));const L=[o,...S],T=await _l(t,b),M=[];let _=((n=r.flip)==null?void 0:n.overflows)||[];if(h&&M.push(T[v]),u){const B=E0(s,a,C);M.push(T[B[0]],T[B[1]])}if(_=[..._,{placement:s,overflows:M}],!M.every(B=>B<=0)){var I,F;const B=(((I=r.flip)==null?void 0:I.index)||0)+1,W=L[B];if(W&&(!(u==="alignment"?E!==os(W):!1)||_.every(O=>O.overflows[0]>0&&os(O.placement)===E)))return{data:{index:B,overflows:_},reset:{placement:W}};let $=(F=_.filter(N=>N.overflows[0]<=0).sort((N,O)=>N.overflows[1]-O.overflows[1])[0])==null?void 0:F.placement;if(!$)switch(p){case"bestFit":{var H;const N=(H=_.filter(O=>{if(k){const at=os(O.placement);return at===E||at==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(at=>at>0).reduce((at,ot)=>at+ot,0)]).sort((O,at)=>O[1]-at[1])[0])==null?void 0:H[0];N&&($=N);break}case"initialPlacement":$=o;break}if(s!==$)return{reset:{placement:$}}}return{}}}};function im(i,t){return{top:i.top-t.height,right:i.right-t.width,bottom:i.bottom-t.height,left:i.left-t.width}}function rm(i){return b0.some(t=>i[t]>=0)}const M0=function(i){return i===void 0&&(i={}),{name:"hide",options:i,async fn(t){const{rects:e}=t,{strategy:n="referenceHidden",...s}=ti(i,t);switch(n){case"referenceHidden":{const r=await _l(t,{...s,elementContext:"reference"}),a=im(r,e.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:rm(a)}}}case"escaped":{const r=await _l(t,{...s,altBoundary:!0}),a=im(r,e.floating);return{data:{escapedOffsets:a,escaped:rm(a)}}}default:return{}}}}},Xv=new Set(["left","top"]);async function I0(i,t){const{placement:e,platform:n,elements:s}=i,r=await(n.isRTL==null?void 0:n.isRTL(s.floating)),a=ei(e),o=zo(e),l=os(e)==="y",d=Xv.has(a)?-1:1,h=r&&l?-1:1,u=ti(t,i);let{mainAxis:f,crossAxis:p,alignmentAxis:g}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return o&&typeof g=="number"&&(p=o==="end"?g*-1:g),l?{x:p*h,y:f*d}:{x:f*d,y:p*h}}const D0=function(i){return i===void 0&&(i=0),{name:"offset",options:i,async fn(t){var e,n;const{x:s,y:r,placement:a,middlewareData:o}=t,l=await I0(t,i);return a===((e=o.offset)==null?void 0:e.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:r+l.y,data:{...l,placement:a}}}}},O0=function(i){return i===void 0&&(i={}),{name:"shift",options:i,async fn(t){const{x:e,y:n,placement:s}=t,{mainAxis:r=!0,crossAxis:a=!1,limiter:o={fn:b=>{let{x:v,y:E}=b;return{x:v,y:E}}},...l}=ti(i,t),d={x:e,y:n},h=await _l(t,l),u=os(ei(s)),f=tg(u);let p=d[f],g=d[u];if(r){const b=f==="y"?"top":"left",v=f==="y"?"bottom":"right",E=p+h[b],x=p-h[v];p=of(E,p,x)}if(a){const b=u==="y"?"top":"left",v=u==="y"?"bottom":"right",E=g+h[b],x=g-h[v];g=of(E,g,x)}const m=o.fn({...t,[f]:p,[u]:g});return{...m,data:{x:m.x-e,y:m.y-n,enabled:{[f]:r,[u]:a}}}}}},N0=function(i){return i===void 0&&(i={}),{options:i,fn(t){const{x:e,y:n,placement:s,rects:r,middlewareData:a}=t,{offset:o=0,mainAxis:l=!0,crossAxis:d=!0}=ti(i,t),h={x:e,y:n},u=os(s),f=tg(u);let p=h[f],g=h[u];const m=ti(o,t),b=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const x=f==="y"?"height":"width",C=r.reference[f]-r.floating[x]+b.mainAxis,S=r.reference[f]+r.reference[x]-b.mainAxis;p<C?p=C:p>S&&(p=S)}if(d){var v,E;const x=f==="y"?"width":"height",C=Xv.has(ei(s)),S=r.reference[u]-r.floating[x]+(C&&((v=a.offset)==null?void 0:v[u])||0)+(C?0:b.crossAxis),k=r.reference[u]+r.reference[x]+(C?0:((E=a.offset)==null?void 0:E[u])||0)-(C?b.crossAxis:0);g<S?g=S:g>k&&(g=k)}return{[f]:p,[u]:g}}}},F0=function(i){return i===void 0&&(i={}),{name:"size",options:i,async fn(t){var e,n;const{placement:s,rects:r,platform:a,elements:o}=t,{apply:l=()=>{},...d}=ti(i,t),h=await _l(t,d),u=ei(s),f=zo(s),p=os(s)==="y",{width:g,height:m}=r.floating;let b,v;u==="top"||u==="bottom"?(b=u,v=f===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(v=u,b=f==="end"?"top":"bottom");const E=m-h.top-h.bottom,x=g-h.left-h.right,C=zi(m-h[b],E),S=zi(g-h[v],x),k=!t.middlewareData.shift;let L=C,T=S;if((e=t.middlewareData.shift)!=null&&e.enabled.x&&(T=x),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(L=E),k&&!f){const _=on(h.left,0),I=on(h.right,0),F=on(h.top,0),H=on(h.bottom,0);p?T=g-2*(_!==0||I!==0?_+I:on(h.left,h.right)):L=m-2*(F!==0||H!==0?F+H:on(h.top,h.bottom))}await l({...t,availableWidth:T,availableHeight:L});const M=await a.getDimensions(o.floating);return g!==M.width||m!==M.height?{reset:{rects:!0}}:{}}}};function ru(){return typeof window<"u"}function jo(i){return Yv(i)?(i.nodeName||"").toLowerCase():"#document"}function dn(i){var t;return(i==null||(t=i.ownerDocument)==null?void 0:t.defaultView)||window}function gs(i){var t;return(t=(Yv(i)?i.ownerDocument:i.document)||window.document)==null?void 0:t.documentElement}function Yv(i){return ru()?i instanceof Node||i instanceof dn(i).Node:!1}function jn(i){return ru()?i instanceof Element||i instanceof dn(i).Element:!1}function fs(i){return ru()?i instanceof HTMLElement||i instanceof dn(i).HTMLElement:!1}function am(i){return!ru()||typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof dn(i).ShadowRoot}const H0=new Set(["inline","contents"]);function ud(i){const{overflow:t,overflowX:e,overflowY:n,display:s}=$n(i);return/auto|scroll|overlay|hidden|clip/.test(t+n+e)&&!H0.has(s)}const B0=new Set(["table","td","th"]);function z0(i){return B0.has(jo(i))}const j0=[":popover-open",":modal"];function au(i){return j0.some(t=>{try{return i.matches(t)}catch{return!1}})}const $0=["transform","translate","scale","rotate","perspective"],U0=["transform","translate","scale","rotate","perspective","filter"],W0=["paint","layout","strict","content"];function sg(i){const t=ig(),e=jn(i)?$n(i):i;return $0.some(n=>e[n]?e[n]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||U0.some(n=>(e.willChange||"").includes(n))||W0.some(n=>(e.contain||"").includes(n))}function V0(i){let t=ji(i);for(;fs(t)&&!Fo(t);){if(sg(t))return t;if(au(t))return null;t=ji(t)}return null}function ig(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const q0=new Set(["html","body","#document"]);function Fo(i){return q0.has(jo(i))}function $n(i){return dn(i).getComputedStyle(i)}function ou(i){return jn(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.scrollX,scrollTop:i.scrollY}}function ji(i){if(jo(i)==="html")return i;const t=i.assignedSlot||i.parentNode||am(i)&&i.host||gs(i);return am(t)?t.host:t}function Kv(i){const t=ji(i);return Fo(t)?i.ownerDocument?i.ownerDocument.body:i.body:fs(t)&&ud(t)?t:Kv(t)}function kl(i,t,e){var n;t===void 0&&(t=[]),e===void 0&&(e=!0);const s=Kv(i),r=s===((n=i.ownerDocument)==null?void 0:n.body),a=dn(s);if(r){const o=cf(a);return t.concat(a,a.visualViewport||[],ud(s)?s:[],o&&e?kl(o):[])}return t.concat(s,kl(s,[],e))}function cf(i){return i.parent&&Object.getPrototypeOf(i.parent)?i.frameElement:null}function Qv(i){const t=$n(i);let e=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=fs(i),r=s?i.offsetWidth:e,a=s?i.offsetHeight:n,o=wh(e)!==r||wh(n)!==a;return o&&(e=r,n=a),{width:e,height:n,$:o}}function rg(i){return jn(i)?i:i.contextElement}function Ia(i){const t=rg(i);if(!fs(t))return ds(1);const e=t.getBoundingClientRect(),{width:n,height:s,$:r}=Qv(t);let a=(r?wh(e.width):e.width)/n,o=(r?wh(e.height):e.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const G0=ds(0);function Jv(i){const t=dn(i);return!ig()||!t.visualViewport?G0:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function X0(i,t,e){return t===void 0&&(t=!1),!e||t&&e!==dn(i)?!1:t}function aa(i,t,e,n){t===void 0&&(t=!1),e===void 0&&(e=!1);const s=i.getBoundingClientRect(),r=rg(i);let a=ds(1);t&&(n?jn(n)&&(a=Ia(n)):a=Ia(i));const o=X0(r,e,n)?Jv(r):ds(0);let l=(s.left+o.x)/a.x,d=(s.top+o.y)/a.y,h=s.width/a.x,u=s.height/a.y;if(r){const f=dn(r),p=n&&jn(n)?dn(n):n;let g=f,m=cf(g);for(;m&&n&&p!==g;){const b=Ia(m),v=m.getBoundingClientRect(),E=$n(m),x=v.left+(m.clientLeft+parseFloat(E.paddingLeft))*b.x,C=v.top+(m.clientTop+parseFloat(E.paddingTop))*b.y;l*=b.x,d*=b.y,h*=b.x,u*=b.y,l+=x,d+=C,g=dn(m),m=cf(g)}}return Eh({width:h,height:u,x:l,y:d})}function ag(i,t){const e=ou(i).scrollLeft;return t?t.left+e:aa(gs(i)).left+e}function Zv(i,t,e){e===void 0&&(e=!1);const n=i.getBoundingClientRect(),s=n.left+t.scrollLeft-(e?0:ag(i,n)),r=n.top+t.scrollTop;return{x:s,y:r}}function Y0(i){let{elements:t,rect:e,offsetParent:n,strategy:s}=i;const r=s==="fixed",a=gs(n),o=t?au(t.floating):!1;if(n===a||o&&r)return e;let l={scrollLeft:0,scrollTop:0},d=ds(1);const h=ds(0),u=fs(n);if((u||!u&&!r)&&((jo(n)!=="body"||ud(a))&&(l=ou(n)),fs(n))){const p=aa(n);d=Ia(n),h.x=p.x+n.clientLeft,h.y=p.y+n.clientTop}const f=a&&!u&&!r?Zv(a,l,!0):ds(0);return{width:e.width*d.x,height:e.height*d.y,x:e.x*d.x-l.scrollLeft*d.x+h.x+f.x,y:e.y*d.y-l.scrollTop*d.y+h.y+f.y}}function K0(i){return Array.from(i.getClientRects())}function Q0(i){const t=gs(i),e=ou(i),n=i.ownerDocument.body,s=on(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),r=on(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-e.scrollLeft+ag(i);const o=-e.scrollTop;return $n(n).direction==="rtl"&&(a+=on(t.clientWidth,n.clientWidth)-s),{width:s,height:r,x:a,y:o}}function J0(i,t){const e=dn(i),n=gs(i),s=e.visualViewport;let r=n.clientWidth,a=n.clientHeight,o=0,l=0;if(s){r=s.width,a=s.height;const d=ig();(!d||d&&t==="fixed")&&(o=s.offsetLeft,l=s.offsetTop)}return{width:r,height:a,x:o,y:l}}const Z0=new Set(["absolute","fixed"]);function tE(i,t){const e=aa(i,!0,t==="fixed"),n=e.top+i.clientTop,s=e.left+i.clientLeft,r=fs(i)?Ia(i):ds(1),a=i.clientWidth*r.x,o=i.clientHeight*r.y,l=s*r.x,d=n*r.y;return{width:a,height:o,x:l,y:d}}function om(i,t,e){let n;if(t==="viewport")n=J0(i,e);else if(t==="document")n=Q0(gs(i));else if(jn(t))n=tE(t,e);else{const s=Jv(i);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Eh(n)}function tb(i,t){const e=ji(i);return e===t||!jn(e)||Fo(e)?!1:$n(e).position==="fixed"||tb(e,t)}function eE(i,t){const e=t.get(i);if(e)return e;let n=kl(i,[],!1).filter(o=>jn(o)&&jo(o)!=="body"),s=null;const r=$n(i).position==="fixed";let a=r?ji(i):i;for(;jn(a)&&!Fo(a);){const o=$n(a),l=sg(a);!l&&o.position==="fixed"&&(s=null),(r?!l&&!s:!l&&o.position==="static"&&!!s&&Z0.has(s.position)||ud(a)&&!l&&tb(i,a))?n=n.filter(h=>h!==a):s=o,a=ji(a)}return t.set(i,n),n}function nE(i){let{element:t,boundary:e,rootBoundary:n,strategy:s}=i;const a=[...e==="clippingAncestors"?au(t)?[]:eE(t,this._c):[].concat(e),n],o=a[0],l=a.reduce((d,h)=>{const u=om(t,h,s);return d.top=on(u.top,d.top),d.right=zi(u.right,d.right),d.bottom=zi(u.bottom,d.bottom),d.left=on(u.left,d.left),d},om(t,o,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function sE(i){const{width:t,height:e}=Qv(i);return{width:t,height:e}}function iE(i,t,e){const n=fs(t),s=gs(t),r=e==="fixed",a=aa(i,!0,r,t);let o={scrollLeft:0,scrollTop:0};const l=ds(0);function d(){l.x=ag(s)}if(n||!n&&!r)if((jo(t)!=="body"||ud(s))&&(o=ou(t)),n){const p=aa(t,!0,r,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else s&&d();r&&!n&&s&&d();const h=s&&!n&&!r?Zv(s,o):ds(0),u=a.left+o.scrollLeft-l.x-h.x,f=a.top+o.scrollTop-l.y-h.y;return{x:u,y:f,width:a.width,height:a.height}}function Du(i){return $n(i).position==="static"}function lm(i,t){if(!fs(i)||$n(i).position==="fixed")return null;if(t)return t(i);let e=i.offsetParent;return gs(i)===e&&(e=e.ownerDocument.body),e}function eb(i,t){const e=dn(i);if(au(i))return e;if(!fs(i)){let s=ji(i);for(;s&&!Fo(s);){if(jn(s)&&!Du(s))return s;s=ji(s)}return e}let n=lm(i,t);for(;n&&z0(n)&&Du(n);)n=lm(n,t);return n&&Fo(n)&&Du(n)&&!sg(n)?e:n||V0(i)||e}const rE=async function(i){const t=this.getOffsetParent||eb,e=this.getDimensions,n=await e(i.floating);return{reference:iE(i.reference,await t(i.floating),i.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function aE(i){return $n(i).direction==="rtl"}const oE={convertOffsetParentRelativeRectToViewportRelativeRect:Y0,getDocumentElement:gs,getClippingRect:nE,getOffsetParent:eb,getElementRects:rE,getClientRects:K0,getDimensions:sE,getScale:Ia,isElement:jn,isRTL:aE};function nb(i,t){return i.x===t.x&&i.y===t.y&&i.width===t.width&&i.height===t.height}function lE(i,t){let e=null,n;const s=gs(i);function r(){var o;clearTimeout(n),(o=e)==null||o.disconnect(),e=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),r();const d=i.getBoundingClientRect(),{left:h,top:u,width:f,height:p}=d;if(o||t(),!f||!p)return;const g=Id(u),m=Id(s.clientWidth-(h+f)),b=Id(s.clientHeight-(u+p)),v=Id(h),x={rootMargin:-g+"px "+-m+"px "+-b+"px "+-v+"px",threshold:on(0,zi(1,l))||1};let C=!0;function S(k){const L=k[0].intersectionRatio;if(L!==l){if(!C)return a();L?a(!1,L):n=setTimeout(()=>{a(!1,1e-7)},1e3)}L===1&&!nb(d,i.getBoundingClientRect())&&a(),C=!1}try{e=new IntersectionObserver(S,{...x,root:s.ownerDocument})}catch{e=new IntersectionObserver(S,x)}e.observe(i)}return a(!0),r}function cE(i,t,e,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:r=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,d=rg(i),h=s||r?[...d?kl(d):[],...kl(t)]:[];h.forEach(v=>{s&&v.addEventListener("scroll",e,{passive:!0}),r&&v.addEventListener("resize",e)});const u=d&&o?lE(d,e):null;let f=-1,p=null;a&&(p=new ResizeObserver(v=>{let[E]=v;E&&E.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(t)})),e()}),d&&!l&&p.observe(d),p.observe(t));let g,m=l?aa(i):null;l&&b();function b(){const v=aa(i);m&&!nb(m,v)&&e(),m=v,g=requestAnimationFrame(b)}return e(),()=>{var v;h.forEach(E=>{s&&E.removeEventListener("scroll",e),r&&E.removeEventListener("resize",e)}),u==null||u(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const dE=D0,hE=O0,uE=L0,fE=F0,pE=M0,cm=T0,gE=N0,mE=(i,t,e)=>{const n=new Map,s={platform:oE,...e},r={...s.platform,_c:n};return P0(i,t,{...s,platform:r})};var vE=typeof document<"u",bE=function(){},Vd=vE?R.useLayoutEffect:bE;function xh(i,t){if(i===t)return!0;if(typeof i!=typeof t)return!1;if(typeof i=="function"&&i.toString()===t.toString())return!0;let e,n,s;if(i&&t&&typeof i=="object"){if(Array.isArray(i)){if(e=i.length,e!==t.length)return!1;for(n=e;n--!==0;)if(!xh(i[n],t[n]))return!1;return!0}if(s=Object.keys(i),e=s.length,e!==Object.keys(t).length)return!1;for(n=e;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=e;n--!==0;){const r=s[n];if(!(r==="_owner"&&i.$$typeof)&&!xh(i[r],t[r]))return!1}return!0}return i!==i&&t!==t}function sb(i){return typeof window>"u"?1:(i.ownerDocument.defaultView||window).devicePixelRatio||1}function dm(i,t){const e=sb(i);return Math.round(t*e)/e}function Ou(i){const t=R.useRef(i);return Vd(()=>{t.current=i}),t}function yE(i){i===void 0&&(i={});const{placement:t="bottom",strategy:e="absolute",middleware:n=[],platform:s,elements:{reference:r,floating:a}={},transform:o=!0,whileElementsMounted:l,open:d}=i,[h,u]=R.useState({x:0,y:0,strategy:e,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=R.useState(n);xh(f,n)||p(n);const[g,m]=R.useState(null),[b,v]=R.useState(null),E=R.useCallback(O=>{O!==k.current&&(k.current=O,m(O))},[]),x=R.useCallback(O=>{O!==L.current&&(L.current=O,v(O))},[]),C=r||g,S=a||b,k=R.useRef(null),L=R.useRef(null),T=R.useRef(h),M=l!=null,_=Ou(l),I=Ou(s),F=Ou(d),H=R.useCallback(()=>{if(!k.current||!L.current)return;const O={placement:t,strategy:e,middleware:f};I.current&&(O.platform=I.current),mE(k.current,L.current,O).then(at=>{const ot={...at,isPositioned:F.current!==!1};B.current&&!xh(T.current,ot)&&(T.current=ot,Bv.flushSync(()=>{u(ot)}))})},[f,t,e,I,F]);Vd(()=>{d===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,u(O=>({...O,isPositioned:!1})))},[d]);const B=R.useRef(!1);Vd(()=>(B.current=!0,()=>{B.current=!1}),[]),Vd(()=>{if(C&&(k.current=C),S&&(L.current=S),C&&S){if(_.current)return _.current(C,S,H);H()}},[C,S,H,_,M]);const W=R.useMemo(()=>({reference:k,floating:L,setReference:E,setFloating:x}),[E,x]),$=R.useMemo(()=>({reference:C,floating:S}),[C,S]),N=R.useMemo(()=>{const O={position:e,left:0,top:0};if(!$.floating)return O;const at=dm($.floating,h.x),ot=dm($.floating,h.y);return o?{...O,transform:"translate("+at+"px, "+ot+"px)",...sb($.floating)>=1.5&&{willChange:"transform"}}:{position:e,left:at,top:ot}},[e,o,$.floating,h.x,h.y]);return R.useMemo(()=>({...h,update:H,refs:W,elements:$,floatingStyles:N}),[h,H,W,$,N])}const wE=i=>{function t(e){return{}.hasOwnProperty.call(e,"current")}return{name:"arrow",options:i,fn(e){const{element:n,padding:s}=typeof i=="function"?i(e):i;return n&&t(n)?n.current!=null?cm({element:n.current,padding:s}).fn(e):{}:n?cm({element:n,padding:s}).fn(e):{}}}},AE=(i,t)=>({...dE(i),options:[i,t]}),EE=(i,t)=>({...hE(i),options:[i,t]}),xE=(i,t)=>({...gE(i),options:[i,t]}),SE=(i,t)=>({...uE(i),options:[i,t]}),CE=(i,t)=>({...fE(i),options:[i,t]}),_E=(i,t)=>({...pE(i),options:[i,t]}),kE=(i,t)=>({...wE(i),options:[i,t]});var RE="Arrow",ib=R.forwardRef((i,t)=>{const{children:e,width:n=10,height:s=5,...r}=i;return q.jsx(Yi.svg,{...r,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:i.asChild?e:q.jsx("polygon",{points:"0,0 30,0 15,10"})})});ib.displayName=RE;var PE=ib;function rb(i){const[t,e]=R.useState(void 0);return No(()=>{if(i){e({width:i.offsetWidth,height:i.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const r=s[0];let a,o;if("borderBoxSize"in r){const l=r.borderBoxSize,d=Array.isArray(l)?l[0]:l;a=d.inlineSize,o=d.blockSize}else a=i.offsetWidth,o=i.offsetHeight;e({width:a,height:o})});return n.observe(i,{box:"border-box"}),()=>n.unobserve(i)}else e(void 0)},[i]),t}var og="Popper",[ab,ob]=Zp(og),[TE,lb]=ab(og),cb=i=>{const{__scopePopper:t,children:e}=i,[n,s]=R.useState(null);return q.jsx(TE,{scope:t,anchor:n,onAnchorChange:s,children:e})};cb.displayName=og;var db="PopperAnchor",hb=R.forwardRef((i,t)=>{const{__scopePopper:e,virtualRef:n,...s}=i,r=lb(db,e),a=R.useRef(null),o=Xi(t,a);return R.useEffect(()=>{r.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:q.jsx(Yi.div,{...s,ref:o})});hb.displayName=db;var lg="PopperContent",[LE,ME]=ab(lg),ub=R.forwardRef((i,t)=>{var Q,pt,Rt,dt,gt,G;const{__scopePopper:e,side:n="bottom",sideOffset:s=0,align:r="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:u="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=i,b=lb(lg,e),[v,E]=R.useState(null),x=Xi(t,K=>E(K)),[C,S]=R.useState(null),k=rb(C),L=(k==null?void 0:k.width)??0,T=(k==null?void 0:k.height)??0,M=n+(r!=="center"?"-"+r:""),_=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},I=Array.isArray(d)?d:[d],F=I.length>0,H={padding:_,boundary:I.filter(DE),altBoundary:F},{refs:B,floatingStyles:W,placement:$,isPositioned:N,middlewareData:O}=yE({strategy:"fixed",placement:M,whileElementsMounted:(...K)=>cE(...K,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[AE({mainAxis:s+T,alignmentAxis:a}),l&&EE({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?xE():void 0,...H}),l&&SE({...H}),CE({...H,apply:({elements:K,rects:lt,availableWidth:wt,availableHeight:bt})=>{const{width:Qt,height:te}=lt.reference,ue=K.floating.style;ue.setProperty("--radix-popper-available-width",`${wt}px`),ue.setProperty("--radix-popper-available-height",`${bt}px`),ue.setProperty("--radix-popper-anchor-width",`${Qt}px`),ue.setProperty("--radix-popper-anchor-height",`${te}px`)}}),C&&kE({element:C,padding:o}),OE({arrowWidth:L,arrowHeight:T}),f&&_E({strategy:"referenceHidden",...H})]}),[at,ot]=gb($),Ct=iu(g);No(()=>{N&&(Ct==null||Ct())},[N,Ct]);const vt=(Q=O.arrow)==null?void 0:Q.x,et=(pt=O.arrow)==null?void 0:pt.y,ft=((Rt=O.arrow)==null?void 0:Rt.centerOffset)!==0,[It,Lt]=R.useState();return No(()=>{v&&Lt(window.getComputedStyle(v).zIndex)},[v]),q.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:N?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:It,"--radix-popper-transform-origin":[(dt=O.transformOrigin)==null?void 0:dt.x,(gt=O.transformOrigin)==null?void 0:gt.y].join(" "),...((G=O.hide)==null?void 0:G.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:i.dir,children:q.jsx(LE,{scope:e,placedSide:at,onArrowChange:S,arrowX:vt,arrowY:et,shouldHideArrow:ft,children:q.jsx(Yi.div,{"data-side":at,"data-align":ot,...m,ref:x,style:{...m.style,animation:N?void 0:"none"}})})})});ub.displayName=lg;var fb="PopperArrow",IE={top:"bottom",right:"left",bottom:"top",left:"right"},pb=R.forwardRef(function(t,e){const{__scopePopper:n,...s}=t,r=ME(fb,n),a=IE[r.placedSide];return q.jsx("span",{ref:r.onArrowChange,style:{position:"absolute",left:r.arrowX,top:r.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[r.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[r.placedSide],visibility:r.shouldHideArrow?"hidden":void 0},children:q.jsx(PE,{...s,ref:e,style:{...s.style,display:"block"}})})});pb.displayName=fb;function DE(i){return i!==null}var OE=i=>({name:"transformOrigin",options:i,fn(t){var b,v,E;const{placement:e,rects:n,middlewareData:s}=t,a=((b=s.arrow)==null?void 0:b.centerOffset)!==0,o=a?0:i.arrowWidth,l=a?0:i.arrowHeight,[d,h]=gb(e),u={start:"0%",center:"50%",end:"100%"}[h],f=(((v=s.arrow)==null?void 0:v.x)??0)+o/2,p=(((E=s.arrow)==null?void 0:E.y)??0)+l/2;let g="",m="";return d==="bottom"?(g=a?u:`${f}px`,m=`${-l}px`):d==="top"?(g=a?u:`${f}px`,m=`${n.floating.height+l}px`):d==="right"?(g=`${-l}px`,m=a?u:`${p}px`):d==="left"&&(g=`${n.floating.width+l}px`,m=a?u:`${p}px`),{data:{x:g,y:m}}}});function gb(i){const[t,e="center"]=i.split("-");return[t,e]}var bT=cb,NE=hb,FE=ub,HE=pb;function BE(i,t){return R.useReducer((e,n)=>t[e][n]??e,i)}var mb=i=>{const{present:t,children:e}=i,n=zE(t),s=typeof e=="function"?e({present:n.isPresent}):R.Children.only(e),r=Xi(n.ref,jE(s));return typeof e=="function"||n.isPresent?R.cloneElement(s,{ref:r}):null};mb.displayName="Presence";function zE(i){const[t,e]=R.useState(),n=R.useRef(null),s=R.useRef(i),r=R.useRef("none"),a=i?"mounted":"unmounted",[o,l]=BE(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return R.useEffect(()=>{const d=Dd(n.current);r.current=o==="mounted"?d:"none"},[o]),No(()=>{const d=n.current,h=s.current;if(h!==i){const f=r.current,p=Dd(d);i?l("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?l("UNMOUNT"):l(h&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=i}},[i,l]),No(()=>{if(t){let d;const h=t.ownerDocument.defaultView??window,u=p=>{const m=Dd(n.current).includes(p.animationName);if(p.target===t&&m&&(l("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",d=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},f=p=>{p.target===t&&(r.current=Dd(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{h.clearTimeout(d),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:R.useCallback(d=>{n.current=d?getComputedStyle(d):null,e(d)},[])}}function Dd(i){return(i==null?void 0:i.animationName)||"none"}function jE(i){var n,s;let t=(n=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:n.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?i.ref:(t=(s=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:s.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?i.props.ref:i.props.ref||i.ref)}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UE=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,n)=>n?n.toUpperCase():e.toLowerCase()),hm=i=>{const t=UE(i);return t.charAt(0).toUpperCase()+t.slice(1)},vb=(...i)=>i.filter((t,e,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===e).join(" ").trim(),WE=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=R.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:n,className:s="",children:r,iconNode:a,...o},l)=>R.createElement("svg",{ref:l,...VE,width:t,height:t,stroke:i,strokeWidth:n?Number(e)*24/Number(t):e,className:vb("lucide",s),...!r&&!WE(o)&&{"aria-hidden":"true"},...o},[...a.map(([d,h])=>R.createElement(d,h)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=(i,t)=>{const e=R.forwardRef(({className:n,...s},r)=>R.createElement(qE,{ref:r,iconNode:t,className:vb(`lucide-${$E(hm(i))}`,`lucide-${i}`,n),...s}));return e.displayName=hm(i),e};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],XE=lu("arrow-left",GE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],KE=lu("arrow-right",YE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],JE=lu("chevron-left",QE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],tx=lu("chevron-right",ZE);function bb(i){var t,e,n="";if(typeof i=="string"||typeof i=="number")n+=i;else if(typeof i=="object")if(Array.isArray(i)){var s=i.length;for(t=0;t<s;t++)i[t]&&(e=bb(i[t]))&&(n&&(n+=" "),n+=e)}else for(e in i)i[e]&&(n&&(n+=" "),n+=e);return n}function $o(){for(var i,t,e=0,n="",s=arguments.length;e<s;e++)(i=arguments[e])&&(t=bb(i))&&(n&&(n+=" "),n+=t);return n}const cg="-",ex=i=>{const t=sx(i),{conflictingClassGroups:e,conflictingClassGroupModifiers:n}=i;return{getClassGroupId:a=>{const o=a.split(cg);return o[0]===""&&o.length!==1&&o.shift(),yb(o,t)||nx(a)},getConflictingClassGroupIds:(a,o)=>{const l=e[a]||[];return o&&n[a]?[...l,...n[a]]:l}}},yb=(i,t)=>{var a;if(i.length===0)return t.classGroupId;const e=i[0],n=t.nextPart.get(e),s=n?yb(i.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const r=i.join(cg);return(a=t.validators.find(({validator:o})=>o(r)))==null?void 0:a.classGroupId},um=/^\[(.+)\]$/,nx=i=>{if(um.test(i)){const t=um.exec(i)[1],e=t==null?void 0:t.substring(0,t.indexOf(":"));if(e)return"arbitrary.."+e}},sx=i=>{const{theme:t,classGroups:e}=i,n={nextPart:new Map,validators:[]};for(const s in e)df(e[s],n,s,t);return n},df=(i,t,e,n)=>{i.forEach(s=>{if(typeof s=="string"){const r=s===""?t:fm(t,s);r.classGroupId=e;return}if(typeof s=="function"){if(ix(s)){df(s(n),t,e,n);return}t.validators.push({validator:s,classGroupId:e});return}Object.entries(s).forEach(([r,a])=>{df(a,fm(t,r),e,n)})})},fm=(i,t)=>{let e=i;return t.split(cg).forEach(n=>{e.nextPart.has(n)||e.nextPart.set(n,{nextPart:new Map,validators:[]}),e=e.nextPart.get(n)}),e},ix=i=>i.isThemeGetter,rx=i=>{if(i<1)return{get:()=>{},set:()=>{}};let t=0,e=new Map,n=new Map;const s=(r,a)=>{e.set(r,a),t++,t>i&&(t=0,n=e,e=new Map)};return{get(r){let a=e.get(r);if(a!==void 0)return a;if((a=n.get(r))!==void 0)return s(r,a),a},set(r,a){e.has(r)?e.set(r,a):s(r,a)}}},hf="!",uf=":",ax=uf.length,ox=i=>{const{prefix:t,experimentalParseClassName:e}=i;let n=s=>{const r=[];let a=0,o=0,l=0,d;for(let g=0;g<s.length;g++){let m=s[g];if(a===0&&o===0){if(m===uf){r.push(s.slice(l,g)),l=g+ax;continue}if(m==="/"){d=g;continue}}m==="["?a++:m==="]"?a--:m==="("?o++:m===")"&&o--}const h=r.length===0?s:s.substring(l),u=lx(h),f=u!==h,p=d&&d>l?d-l:void 0;return{modifiers:r,hasImportantModifier:f,baseClassName:u,maybePostfixModifierPosition:p}};if(t){const s=t+uf,r=n;n=a=>a.startsWith(s)?r(a.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(e){const s=n;n=r=>e({className:r,parseClassName:s})}return n},lx=i=>i.endsWith(hf)?i.substring(0,i.length-1):i.startsWith(hf)?i.substring(1):i,cx=i=>{const t=Object.fromEntries(i.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const s=[];let r=[];return n.forEach(a=>{a[0]==="["||t[a]?(s.push(...r.sort(),a),r=[]):r.push(a)}),s.push(...r.sort()),s}},dx=i=>({cache:rx(i.cacheSize),parseClassName:ox(i),sortModifiers:cx(i),...ex(i)}),hx=/\s+/,ux=(i,t)=>{const{parseClassName:e,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:r}=t,a=[],o=i.trim().split(hx);let l="";for(let d=o.length-1;d>=0;d-=1){const h=o[d],{isExternal:u,modifiers:f,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}=e(h);if(u){l=h+(l.length>0?" "+l:l);continue}let b=!!m,v=n(b?g.substring(0,m):g);if(!v){if(!b){l=h+(l.length>0?" "+l:l);continue}if(v=n(g),!v){l=h+(l.length>0?" "+l:l);continue}b=!1}const E=r(f).join(":"),x=p?E+hf:E,C=x+v;if(a.includes(C))continue;a.push(C);const S=s(v,b);for(let k=0;k<S.length;++k){const L=S[k];a.push(x+L)}l=h+(l.length>0?" "+l:l)}return l};function fx(){let i=0,t,e,n="";for(;i<arguments.length;)(t=arguments[i++])&&(e=wb(t))&&(n&&(n+=" "),n+=e);return n}const wb=i=>{if(typeof i=="string")return i;let t,e="";for(let n=0;n<i.length;n++)i[n]&&(t=wb(i[n]))&&(e&&(e+=" "),e+=t);return e};function px(i,...t){let e,n,s,r=a;function a(l){const d=t.reduce((h,u)=>u(h),i());return e=dx(d),n=e.cache.get,s=e.cache.set,r=o,o(l)}function o(l){const d=n(l);if(d)return d;const h=ux(l,e);return s(l,h),h}return function(){return r(fx.apply(null,arguments))}}const ie=i=>{const t=e=>e[i]||[];return t.isThemeGetter=!0,t},Ab=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Eb=/^\((?:(\w[\w-]*):)?(.+)\)$/i,gx=/^\d+\/\d+$/,mx=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vx=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bx=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,yx=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,wx=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Aa=i=>gx.test(i),mt=i=>!!i&&!Number.isNaN(Number(i)),hi=i=>!!i&&Number.isInteger(Number(i)),Nu=i=>i.endsWith("%")&&mt(i.slice(0,-1)),bs=i=>mx.test(i),Ax=()=>!0,Ex=i=>vx.test(i)&&!bx.test(i),xb=()=>!1,xx=i=>yx.test(i),Sx=i=>wx.test(i),Cx=i=>!J(i)&&!Z(i),_x=i=>Uo(i,_b,xb),J=i=>Ab.test(i),er=i=>Uo(i,kb,Ex),Fu=i=>Uo(i,Lx,mt),pm=i=>Uo(i,Sb,xb),kx=i=>Uo(i,Cb,Sx),Od=i=>Uo(i,Rb,xx),Z=i=>Eb.test(i),Zo=i=>Wo(i,kb),Rx=i=>Wo(i,Mx),gm=i=>Wo(i,Sb),Px=i=>Wo(i,_b),Tx=i=>Wo(i,Cb),Nd=i=>Wo(i,Rb,!0),Uo=(i,t,e)=>{const n=Ab.exec(i);return n?n[1]?t(n[1]):e(n[2]):!1},Wo=(i,t,e=!1)=>{const n=Eb.exec(i);return n?n[1]?t(n[1]):e:!1},Sb=i=>i==="position"||i==="percentage",Cb=i=>i==="image"||i==="url",_b=i=>i==="length"||i==="size"||i==="bg-size",kb=i=>i==="length",Lx=i=>i==="number",Mx=i=>i==="family-name",Rb=i=>i==="shadow",Ix=()=>{const i=ie("color"),t=ie("font"),e=ie("text"),n=ie("font-weight"),s=ie("tracking"),r=ie("leading"),a=ie("breakpoint"),o=ie("container"),l=ie("spacing"),d=ie("radius"),h=ie("shadow"),u=ie("inset-shadow"),f=ie("text-shadow"),p=ie("drop-shadow"),g=ie("blur"),m=ie("perspective"),b=ie("aspect"),v=ie("ease"),E=ie("animate"),x=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],S=()=>[...C(),Z,J],k=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto","contain","none"],T=()=>[Z,J,l],M=()=>[Aa,"full","auto",...T()],_=()=>[hi,"none","subgrid",Z,J],I=()=>["auto",{span:["full",hi,Z,J]},hi,Z,J],F=()=>[hi,"auto",Z,J],H=()=>["auto","min","max","fr",Z,J],B=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],W=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...T()],N=()=>[Aa,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],O=()=>[i,Z,J],at=()=>[...C(),gm,pm,{position:[Z,J]}],ot=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Ct=()=>["auto","cover","contain",Px,_x,{size:[Z,J]}],vt=()=>[Nu,Zo,er],et=()=>["","none","full",d,Z,J],ft=()=>["",mt,Zo,er],It=()=>["solid","dashed","dotted","double"],Lt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>[mt,Nu,gm,pm],pt=()=>["","none",g,Z,J],Rt=()=>["none",mt,Z,J],dt=()=>["none",mt,Z,J],gt=()=>[mt,Z,J],G=()=>[Aa,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[bs],breakpoint:[bs],color:[Ax],container:[bs],"drop-shadow":[bs],ease:["in","out","in-out"],font:[Cx],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[bs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[bs],shadow:[bs],spacing:["px",mt],text:[bs],"text-shadow":[bs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Aa,J,Z,b]}],container:["container"],columns:[{columns:[mt,J,Z,o]}],"break-after":[{"break-after":x()}],"break-before":[{"break-before":x()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:S()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[hi,"auto",Z,J]}],basis:[{basis:[Aa,"full","auto",o,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[mt,Aa,"auto","initial","none",J]}],grow:[{grow:["",mt,Z,J]}],shrink:[{shrink:["",mt,Z,J]}],order:[{order:[hi,"first","last","none",Z,J]}],"grid-cols":[{"grid-cols":_()}],"col-start-end":[{col:I()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":_()}],"row-start-end":[{row:I()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":H()}],"auto-rows":[{"auto-rows":H()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...B(),"normal"]}],"justify-items":[{"justify-items":[...W(),"normal"]}],"justify-self":[{"justify-self":["auto",...W()]}],"align-content":[{content:["normal",...B()]}],"align-items":[{items:[...W(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...W(),{baseline:["","last"]}]}],"place-content":[{"place-content":B()}],"place-items":[{"place-items":[...W(),"baseline"]}],"place-self":[{"place-self":["auto",...W()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:N()}],w:[{w:[o,"screen",...N()]}],"min-w":[{"min-w":[o,"screen","none",...N()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...N()]}],h:[{h:["screen","lh",...N()]}],"min-h":[{"min-h":["screen","lh","none",...N()]}],"max-h":[{"max-h":["screen","lh",...N()]}],"font-size":[{text:["base",e,Zo,er]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Z,Fu]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Nu,J]}],"font-family":[{font:[Rx,J,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Z,J]}],"line-clamp":[{"line-clamp":[mt,"none",Z,Fu]}],leading:[{leading:[r,...T()]}],"list-image":[{"list-image":["none",Z,J]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Z,J]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:O()}],"text-color":[{text:O()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...It(),"wavy"]}],"text-decoration-thickness":[{decoration:[mt,"from-font","auto",Z,er]}],"text-decoration-color":[{decoration:O()}],"underline-offset":[{"underline-offset":[mt,"auto",Z,J]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Z,J]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Z,J]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:at()}],"bg-repeat":[{bg:ot()}],"bg-size":[{bg:Ct()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},hi,Z,J],radial:["",Z,J],conic:[hi,Z,J]},Tx,kx]}],"bg-color":[{bg:O()}],"gradient-from-pos":[{from:vt()}],"gradient-via-pos":[{via:vt()}],"gradient-to-pos":[{to:vt()}],"gradient-from":[{from:O()}],"gradient-via":[{via:O()}],"gradient-to":[{to:O()}],rounded:[{rounded:et()}],"rounded-s":[{"rounded-s":et()}],"rounded-e":[{"rounded-e":et()}],"rounded-t":[{"rounded-t":et()}],"rounded-r":[{"rounded-r":et()}],"rounded-b":[{"rounded-b":et()}],"rounded-l":[{"rounded-l":et()}],"rounded-ss":[{"rounded-ss":et()}],"rounded-se":[{"rounded-se":et()}],"rounded-ee":[{"rounded-ee":et()}],"rounded-es":[{"rounded-es":et()}],"rounded-tl":[{"rounded-tl":et()}],"rounded-tr":[{"rounded-tr":et()}],"rounded-br":[{"rounded-br":et()}],"rounded-bl":[{"rounded-bl":et()}],"border-w":[{border:ft()}],"border-w-x":[{"border-x":ft()}],"border-w-y":[{"border-y":ft()}],"border-w-s":[{"border-s":ft()}],"border-w-e":[{"border-e":ft()}],"border-w-t":[{"border-t":ft()}],"border-w-r":[{"border-r":ft()}],"border-w-b":[{"border-b":ft()}],"border-w-l":[{"border-l":ft()}],"divide-x":[{"divide-x":ft()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ft()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...It(),"hidden","none"]}],"divide-style":[{divide:[...It(),"hidden","none"]}],"border-color":[{border:O()}],"border-color-x":[{"border-x":O()}],"border-color-y":[{"border-y":O()}],"border-color-s":[{"border-s":O()}],"border-color-e":[{"border-e":O()}],"border-color-t":[{"border-t":O()}],"border-color-r":[{"border-r":O()}],"border-color-b":[{"border-b":O()}],"border-color-l":[{"border-l":O()}],"divide-color":[{divide:O()}],"outline-style":[{outline:[...It(),"none","hidden"]}],"outline-offset":[{"outline-offset":[mt,Z,J]}],"outline-w":[{outline:["",mt,Zo,er]}],"outline-color":[{outline:O()}],shadow:[{shadow:["","none",h,Nd,Od]}],"shadow-color":[{shadow:O()}],"inset-shadow":[{"inset-shadow":["none",u,Nd,Od]}],"inset-shadow-color":[{"inset-shadow":O()}],"ring-w":[{ring:ft()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:O()}],"ring-offset-w":[{"ring-offset":[mt,er]}],"ring-offset-color":[{"ring-offset":O()}],"inset-ring-w":[{"inset-ring":ft()}],"inset-ring-color":[{"inset-ring":O()}],"text-shadow":[{"text-shadow":["none",f,Nd,Od]}],"text-shadow-color":[{"text-shadow":O()}],opacity:[{opacity:[mt,Z,J]}],"mix-blend":[{"mix-blend":[...Lt(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Lt()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[mt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Q()}],"mask-image-linear-to-pos":[{"mask-linear-to":Q()}],"mask-image-linear-from-color":[{"mask-linear-from":O()}],"mask-image-linear-to-color":[{"mask-linear-to":O()}],"mask-image-t-from-pos":[{"mask-t-from":Q()}],"mask-image-t-to-pos":[{"mask-t-to":Q()}],"mask-image-t-from-color":[{"mask-t-from":O()}],"mask-image-t-to-color":[{"mask-t-to":O()}],"mask-image-r-from-pos":[{"mask-r-from":Q()}],"mask-image-r-to-pos":[{"mask-r-to":Q()}],"mask-image-r-from-color":[{"mask-r-from":O()}],"mask-image-r-to-color":[{"mask-r-to":O()}],"mask-image-b-from-pos":[{"mask-b-from":Q()}],"mask-image-b-to-pos":[{"mask-b-to":Q()}],"mask-image-b-from-color":[{"mask-b-from":O()}],"mask-image-b-to-color":[{"mask-b-to":O()}],"mask-image-l-from-pos":[{"mask-l-from":Q()}],"mask-image-l-to-pos":[{"mask-l-to":Q()}],"mask-image-l-from-color":[{"mask-l-from":O()}],"mask-image-l-to-color":[{"mask-l-to":O()}],"mask-image-x-from-pos":[{"mask-x-from":Q()}],"mask-image-x-to-pos":[{"mask-x-to":Q()}],"mask-image-x-from-color":[{"mask-x-from":O()}],"mask-image-x-to-color":[{"mask-x-to":O()}],"mask-image-y-from-pos":[{"mask-y-from":Q()}],"mask-image-y-to-pos":[{"mask-y-to":Q()}],"mask-image-y-from-color":[{"mask-y-from":O()}],"mask-image-y-to-color":[{"mask-y-to":O()}],"mask-image-radial":[{"mask-radial":[Z,J]}],"mask-image-radial-from-pos":[{"mask-radial-from":Q()}],"mask-image-radial-to-pos":[{"mask-radial-to":Q()}],"mask-image-radial-from-color":[{"mask-radial-from":O()}],"mask-image-radial-to-color":[{"mask-radial-to":O()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":C()}],"mask-image-conic-pos":[{"mask-conic":[mt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Q()}],"mask-image-conic-to-pos":[{"mask-conic-to":Q()}],"mask-image-conic-from-color":[{"mask-conic-from":O()}],"mask-image-conic-to-color":[{"mask-conic-to":O()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:at()}],"mask-repeat":[{mask:ot()}],"mask-size":[{mask:Ct()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Z,J]}],filter:[{filter:["","none",Z,J]}],blur:[{blur:pt()}],brightness:[{brightness:[mt,Z,J]}],contrast:[{contrast:[mt,Z,J]}],"drop-shadow":[{"drop-shadow":["","none",p,Nd,Od]}],"drop-shadow-color":[{"drop-shadow":O()}],grayscale:[{grayscale:["",mt,Z,J]}],"hue-rotate":[{"hue-rotate":[mt,Z,J]}],invert:[{invert:["",mt,Z,J]}],saturate:[{saturate:[mt,Z,J]}],sepia:[{sepia:["",mt,Z,J]}],"backdrop-filter":[{"backdrop-filter":["","none",Z,J]}],"backdrop-blur":[{"backdrop-blur":pt()}],"backdrop-brightness":[{"backdrop-brightness":[mt,Z,J]}],"backdrop-contrast":[{"backdrop-contrast":[mt,Z,J]}],"backdrop-grayscale":[{"backdrop-grayscale":["",mt,Z,J]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[mt,Z,J]}],"backdrop-invert":[{"backdrop-invert":["",mt,Z,J]}],"backdrop-opacity":[{"backdrop-opacity":[mt,Z,J]}],"backdrop-saturate":[{"backdrop-saturate":[mt,Z,J]}],"backdrop-sepia":[{"backdrop-sepia":["",mt,Z,J]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Z,J]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[mt,"initial",Z,J]}],ease:[{ease:["linear","initial",v,Z,J]}],delay:[{delay:[mt,Z,J]}],animate:[{animate:["none",E,Z,J]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,Z,J]}],"perspective-origin":[{"perspective-origin":S()}],rotate:[{rotate:Rt()}],"rotate-x":[{"rotate-x":Rt()}],"rotate-y":[{"rotate-y":Rt()}],"rotate-z":[{"rotate-z":Rt()}],scale:[{scale:dt()}],"scale-x":[{"scale-x":dt()}],"scale-y":[{"scale-y":dt()}],"scale-z":[{"scale-z":dt()}],"scale-3d":["scale-3d"],skew:[{skew:gt()}],"skew-x":[{"skew-x":gt()}],"skew-y":[{"skew-y":gt()}],transform:[{transform:[Z,J,"","none","gpu","cpu"]}],"transform-origin":[{origin:S()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:G()}],"translate-x":[{"translate-x":G()}],"translate-y":[{"translate-y":G()}],"translate-z":[{"translate-z":G()}],"translate-none":["translate-none"],accent:[{accent:O()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:O()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Z,J]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Z,J]}],fill:[{fill:["none",...O()]}],"stroke-w":[{stroke:[mt,Zo,er,Fu]}],stroke:[{stroke:["none",...O()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Dx=px(Ix),yT=i=>i.split(" ").map(t=>t.charAt(0).toUpperCase()+t.substring(1)).join(" ");function ni(...i){return Dx($o(i))}const wT=i=>new Date(i).toLocaleString(),Ox=()=>{const[i,t]=R.useState({width:window.innerWidth,height:window.innerHeight});return R.useEffect(()=>{const e=()=>{t({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),i},mm=i=>typeof i=="boolean"?`${i}`:i===0?"0":i,vm=$o,Nx=(i,t)=>e=>{var n;if((t==null?void 0:t.variants)==null)return vm(i,e==null?void 0:e.class,e==null?void 0:e.className);const{variants:s,defaultVariants:r}=t,a=Object.keys(s).map(d=>{const h=e==null?void 0:e[d],u=r==null?void 0:r[d];if(h===null)return null;const f=mm(h)||mm(u);return s[d][f]}),o=e&&Object.entries(e).reduce((d,h)=>{let[u,f]=h;return f===void 0||(d[u]=f),d},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,h)=>{let{class:u,className:f,...p}=h;return Object.entries(p).every(g=>{let[m,b]=g;return Array.isArray(b)?b.includes({...r,...o}[m]):{...r,...o}[m]===b})?[...d,u,f]:d},[]);return vm(i,a,l,e==null?void 0:e.class,e==null?void 0:e.className)},Fx=Nx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),dg=R.forwardRef(({className:i,variant:t,size:e,asChild:n=!1,...s},r)=>{const a=n?n0:"button";return q.jsx(a,{className:ni(Fx({variant:t,size:e,className:i})),ref:r,...s})});dg.displayName="Button";var Hu,Pb="HoverCard",[Tb,AT]=Zp(Pb,[ob]),hg=ob(),[ET,ug]=Tb(Pb),Lb="HoverCardTrigger",Hx=R.forwardRef((i,t)=>{const{__scopeHoverCard:e,...n}=i,s=ug(Lb,e),r=hg(e);return q.jsx(NE,{asChild:!0,...r,children:q.jsx(Yi.a,{"data-state":s.open?"open":"closed",...n,ref:t,onPointerEnter:cn(i.onPointerEnter,Ch(s.onOpen)),onPointerLeave:cn(i.onPointerLeave,Ch(s.onClose)),onFocus:cn(i.onFocus,s.onOpen),onBlur:cn(i.onBlur,s.onClose),onTouchStart:cn(i.onTouchStart,a=>a.preventDefault())})})});Hx.displayName=Lb;var Bx="HoverCardPortal",[xT,zx]=Tb(Bx,{forceMount:void 0}),Sh="HoverCardContent",Mb=R.forwardRef((i,t)=>{const e=zx(Sh,i.__scopeHoverCard),{forceMount:n=e.forceMount,...s}=i,r=ug(Sh,i.__scopeHoverCard);return q.jsx(mb,{present:n||r.open,children:q.jsx(jx,{"data-state":r.open?"open":"closed",...s,onPointerEnter:cn(i.onPointerEnter,Ch(r.onOpen)),onPointerLeave:cn(i.onPointerLeave,Ch(r.onClose)),ref:t})})});Mb.displayName=Sh;var jx=R.forwardRef((i,t)=>{const{__scopeHoverCard:e,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:r,onInteractOutside:a,...o}=i,l=ug(Sh,e),d=hg(e),h=R.useRef(null),u=Xi(t,h),[f,p]=R.useState(!1);return R.useEffect(()=>{if(f){const g=document.body;return Hu=g.style.userSelect||g.style.webkitUserSelect,g.style.userSelect="none",g.style.webkitUserSelect="none",()=>{g.style.userSelect=Hu,g.style.webkitUserSelect=Hu}}},[f]),R.useEffect(()=>{if(h.current){const g=()=>{p(!1),l.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var b;((b=document.getSelection())==null?void 0:b.toString())!==""&&(l.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",g),()=>{document.removeEventListener("pointerup",g),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!1}}},[l.isPointerDownOnContentRef,l.hasSelectionRef]),R.useEffect(()=>{h.current&&Wx(h.current).forEach(m=>m.setAttribute("tabindex","-1"))}),q.jsx(Vv,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:a,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:cn(r,g=>{g.preventDefault()}),onDismiss:l.onDismiss,children:q.jsx(FE,{...d,...o,onPointerDown:cn(o.onPointerDown,g=>{g.currentTarget.contains(g.target)&&p(!0),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!0}),ref:u,style:{...o.style,userSelect:f?"text":void 0,WebkitUserSelect:f?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),$x="HoverCardArrow",Ux=R.forwardRef((i,t)=>{const{__scopeHoverCard:e,...n}=i,s=hg(e);return q.jsx(HE,{...s,...n,ref:t})});Ux.displayName=$x;function Ch(i){return t=>t.pointerType==="touch"?void 0:i()}function Wx(i){const t=[],e=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;e.nextNode();)t.push(e.currentNode);return t}var Ib=Mb;const Vx=R.forwardRef(({className:i,align:t="center",sideOffset:e=4,...n},s)=>q.jsx(Ib,{ref:s,align:t,sideOffset:e,className:ni("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",i),...n}));Vx.displayName=Ib.displayName;var qx=(i,t,e,n,s,r,a,o)=>{let l=document.documentElement,d=["light","dark"];function h(p){(Array.isArray(i)?i:[i]).forEach(g=>{let m=g==="class",b=m&&r?s.map(v=>r[v]||v):s;m?(l.classList.remove(...b),l.classList.add(r&&r[p]?r[p]:p)):l.setAttribute(g,p)}),u(p)}function u(p){o&&d.includes(p)&&(l.style.colorScheme=p)}function f(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)h(n);else try{let p=localStorage.getItem(t)||e,g=a&&p==="system"?f():p;h(g)}catch{}},bm=["light","dark"],Db="(prefers-color-scheme: dark)",Gx=typeof window>"u",Ob=R.createContext(void 0),ST=i=>R.useContext(Ob)?R.createElement(R.Fragment,null,i.children):R.createElement(Yx,{...i}),Xx=["light","dark"],Yx=({forcedTheme:i,disableTransitionOnChange:t=!1,enableSystem:e=!0,enableColorScheme:n=!0,storageKey:s="theme",themes:r=Xx,defaultTheme:a=e?"system":"light",attribute:o="data-theme",value:l,children:d,nonce:h,scriptProps:u})=>{let[f,p]=R.useState(()=>Qx(s,a)),[g,m]=R.useState(()=>f==="system"?Bu():f),b=l?Object.values(l):r,v=R.useCallback(S=>{let k=S;if(!k)return;S==="system"&&e&&(k=Bu());let L=l?l[k]:k,T=t?Jx(h):null,M=document.documentElement,_=I=>{I==="class"?(M.classList.remove(...b),L&&M.classList.add(L)):I.startsWith("data-")&&(L?M.setAttribute(I,L):M.removeAttribute(I))};if(Array.isArray(o)?o.forEach(_):_(o),n){let I=bm.includes(a)?a:null,F=bm.includes(k)?k:I;M.style.colorScheme=F}T==null||T()},[h]),E=R.useCallback(S=>{let k=typeof S=="function"?S(f):S;p(k);try{localStorage.setItem(s,k)}catch{}},[f]),x=R.useCallback(S=>{let k=Bu(S);m(k),f==="system"&&e&&!i&&v("system")},[f,i]);R.useEffect(()=>{let S=window.matchMedia(Db);return S.addListener(x),x(S),()=>S.removeListener(x)},[x]),R.useEffect(()=>{let S=k=>{k.key===s&&(k.newValue?p(k.newValue):E(a))};return window.addEventListener("storage",S),()=>window.removeEventListener("storage",S)},[E]),R.useEffect(()=>{v(i??f)},[i,f]);let C=R.useMemo(()=>({theme:f,setTheme:E,forcedTheme:i,resolvedTheme:f==="system"?g:f,themes:e?[...r,"system"]:r,systemTheme:e?g:void 0}),[f,E,i,g,e,r]);return R.createElement(Ob.Provider,{value:C},R.createElement(Kx,{forcedTheme:i,storageKey:s,attribute:o,enableSystem:e,enableColorScheme:n,defaultTheme:a,value:l,themes:r,nonce:h,scriptProps:u}),d)},Kx=R.memo(({forcedTheme:i,storageKey:t,attribute:e,enableSystem:n,enableColorScheme:s,defaultTheme:r,value:a,themes:o,nonce:l,scriptProps:d})=>{let h=JSON.stringify([e,t,r,i,o,a,n,s]).slice(1,-1);return R.createElement("script",{...d,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${qx.toString()})(${h})`}})}),Qx=(i,t)=>{if(Gx)return;let e;try{e=localStorage.getItem(i)||void 0}catch{}return e||t},Jx=i=>{let t=document.createElement("style");return i&&t.setAttribute("nonce",i),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},Bu=i=>(i||(i=window.matchMedia(Db)),i.matches?"dark":"light");function Zx(i){const t=R.useRef({value:i,previous:i});return R.useMemo(()=>(t.current.value!==i&&(t.current.previous=t.current.value,t.current.value=i),t.current.previous),[i])}var cu="Switch",[tS,CT]=Zp(cu),[eS,nS]=tS(cu),Nb=R.forwardRef((i,t)=>{const{__scopeSwitch:e,name:n,checked:s,defaultChecked:r,required:a,disabled:o,value:l="on",onCheckedChange:d,form:h,...u}=i,[f,p]=R.useState(null),g=Xi(t,x=>p(x)),m=R.useRef(!1),b=f?h||!!f.closest("form"):!0,[v,E]=ZA({prop:s,defaultProp:r??!1,onChange:d,caller:cu});return q.jsxs(eS,{scope:e,checked:v,disabled:o,children:[q.jsx(Yi.button,{type:"button",role:"switch","aria-checked":v,"aria-required":a,"data-state":zb(v),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:g,onClick:cn(i.onClick,x=>{E(C=>!C),b&&(m.current=x.isPropagationStopped(),m.current||x.stopPropagation())})}),b&&q.jsx(Bb,{control:f,bubbles:!m.current,name:n,value:l,checked:v,required:a,disabled:o,form:h,style:{transform:"translateX(-100%)"}})]})});Nb.displayName=cu;var Fb="SwitchThumb",Hb=R.forwardRef((i,t)=>{const{__scopeSwitch:e,...n}=i,s=nS(Fb,e);return q.jsx(Yi.span,{"data-state":zb(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});Hb.displayName=Fb;var sS="SwitchBubbleInput",Bb=R.forwardRef(({__scopeSwitch:i,control:t,checked:e,bubbles:n=!0,...s},r)=>{const a=R.useRef(null),o=Xi(a,r),l=Zx(e),d=rb(t);return R.useEffect(()=>{const h=a.current;if(!h)return;const u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"checked").set;if(l!==e&&p){const g=new Event("click",{bubbles:n});p.call(h,e),h.dispatchEvent(g)}},[l,e,n]),q.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:e,...s,tabIndex:-1,ref:o,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Bb.displayName=sS;function zb(i){return i?"checked":"unchecked"}var jb=Nb,iS=Hb;const rS=R.forwardRef(({className:i,...t},e)=>q.jsx(jb,{className:ni("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",i),...t,ref:e,children:q.jsx(iS,{className:ni("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));rS.displayName=jb.displayName;function aS(i){return Object.prototype.toString.call(i)==="[object Object]"}function ym(i){return aS(i)||Array.isArray(i)}function oS(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function fg(i,t){const e=Object.keys(i),n=Object.keys(t);if(e.length!==n.length)return!1;const s=JSON.stringify(Object.keys(i.breakpoints||{})),r=JSON.stringify(Object.keys(t.breakpoints||{}));return s!==r?!1:e.every(a=>{const o=i[a],l=t[a];return typeof o=="function"?`${o}`==`${l}`:!ym(o)||!ym(l)?o===l:fg(o,l)})}function wm(i){return i.concat().sort((t,e)=>t.name>e.name?1:-1).map(t=>t.options)}function lS(i,t){if(i.length!==t.length)return!1;const e=wm(i),n=wm(t);return e.every((s,r)=>{const a=n[r];return fg(s,a)})}function pg(i){return typeof i=="number"}function ff(i){return typeof i=="string"}function du(i){return typeof i=="boolean"}function Am(i){return Object.prototype.toString.call(i)==="[object Object]"}function Xt(i){return Math.abs(i)}function gg(i){return Math.sign(i)}function wl(i,t){return Xt(i-t)}function cS(i,t){if(i===0||t===0||Xt(i)<=Xt(t))return 0;const e=wl(Xt(i),Xt(t));return Xt(e/i)}function dS(i){return Math.round(i*100)/100}function Rl(i){return Pl(i).map(Number)}function zn(i){return i[fd(i)]}function fd(i){return Math.max(0,i.length-1)}function mg(i,t){return t===fd(i)}function Em(i,t=0){return Array.from(Array(i),(e,n)=>t+n)}function Pl(i){return Object.keys(i)}function $b(i,t){return[i,t].reduce((e,n)=>(Pl(n).forEach(s=>{const r=e[s],a=n[s],o=Am(r)&&Am(a);e[s]=o?$b(r,a):a}),e),{})}function pf(i,t){return typeof t.MouseEvent<"u"&&i instanceof t.MouseEvent}function hS(i,t){const e={start:n,center:s,end:r};function n(){return 0}function s(l){return r(l)/2}function r(l){return t-l}function a(l,d){return ff(i)?e[i](l):i(t,l,d)}return{measure:a}}function Tl(){let i=[];function t(s,r,a,o={passive:!0}){let l;if("addEventListener"in s)s.addEventListener(r,a,o),l=()=>s.removeEventListener(r,a,o);else{const d=s;d.addListener(a),l=()=>d.removeListener(a)}return i.push(l),n}function e(){i=i.filter(s=>s())}const n={add:t,clear:e};return n}function uS(i,t,e,n){const s=Tl(),r=1e3/60;let a=null,o=0,l=0;function d(){s.add(i,"visibilitychange",()=>{i.hidden&&g()})}function h(){p(),s.clear()}function u(b){if(!l)return;a||(a=b,e(),e());const v=b-a;for(a=b,o+=v;o>=r;)e(),o-=r;const E=o/r;n(E),l&&(l=t.requestAnimationFrame(u))}function f(){l||(l=t.requestAnimationFrame(u))}function p(){t.cancelAnimationFrame(l),a=null,o=0,l=0}function g(){a=null,o=0}return{init:d,destroy:h,start:f,stop:p,update:e,render:n}}function fS(i,t){const e=t==="rtl",n=i==="y",s=n?"y":"x",r=n?"x":"y",a=!n&&e?-1:1,o=h(),l=u();function d(g){const{height:m,width:b}=g;return n?m:b}function h(){return n?"top":e?"right":"left"}function u(){return n?"bottom":e?"left":"right"}function f(g){return g*a}return{scroll:s,cross:r,startEdge:o,endEdge:l,measureSize:d,direction:f}}function oa(i=0,t=0){const e=Xt(i-t);function n(d){return d<i}function s(d){return d>t}function r(d){return n(d)||s(d)}function a(d){return r(d)?n(d)?i:t:d}function o(d){return e?d-e*Math.ceil((d-t)/e):d}return{length:e,max:t,min:i,constrain:a,reachedAny:r,reachedMax:s,reachedMin:n,removeOffset:o}}function Ub(i,t,e){const{constrain:n}=oa(0,i),s=i+1;let r=a(t);function a(f){return e?Xt((s+f)%s):n(f)}function o(){return r}function l(f){return r=a(f),u}function d(f){return h().set(o()+f)}function h(){return Ub(i,o(),e)}const u={get:o,set:l,add:d,clone:h};return u}function pS(i,t,e,n,s,r,a,o,l,d,h,u,f,p,g,m,b,v,E){const{cross:x,direction:C}=i,S=["INPUT","SELECT","TEXTAREA"],k={passive:!1},L=Tl(),T=Tl(),M=oa(50,225).constrain(p.measure(20)),_={mouse:300,touch:400},I={mouse:500,touch:600},F=g?43:25;let H=!1,B=0,W=0,$=!1,N=!1,O=!1,at=!1;function ot(G){if(!E)return;function K(wt){(du(E)||E(G,wt))&&Lt(wt)}const lt=t;L.add(lt,"dragstart",wt=>wt.preventDefault(),k).add(lt,"touchmove",()=>{},k).add(lt,"touchend",()=>{}).add(lt,"touchstart",K).add(lt,"mousedown",K).add(lt,"touchcancel",pt).add(lt,"contextmenu",pt).add(lt,"click",Rt,!0)}function Ct(){L.clear(),T.clear()}function vt(){const G=at?e:t;T.add(G,"touchmove",Q,k).add(G,"touchend",pt).add(G,"mousemove",Q,k).add(G,"mouseup",pt)}function et(G){const K=G.nodeName||"";return S.includes(K)}function ft(){return(g?I:_)[at?"mouse":"touch"]}function It(G,K){const lt=u.add(gg(G)*-1),wt=h.byDistance(G,!g).distance;return g||Xt(G)<M?wt:b&&K?wt*.5:h.byIndex(lt.get(),0).distance}function Lt(G){const K=pf(G,n);at=K,O=g&&K&&!G.buttons&&H,H=wl(s.get(),a.get())>=2,!(K&&G.button!==0)&&(et(G.target)||($=!0,r.pointerDown(G),d.useFriction(0).useDuration(0),s.set(a),vt(),B=r.readPoint(G),W=r.readPoint(G,x),f.emit("pointerDown")))}function Q(G){if(!pf(G,n)&&G.touches.length>=2)return pt(G);const lt=r.readPoint(G),wt=r.readPoint(G,x),bt=wl(lt,B),Qt=wl(wt,W);if(!N&&!at&&(!G.cancelable||(N=bt>Qt,!N)))return pt(G);const te=r.pointerMove(G);bt>m&&(O=!0),d.useFriction(.3).useDuration(.75),o.start(),s.add(C(te)),G.preventDefault()}function pt(G){const lt=h.byDistance(0,!1).index!==u.get(),wt=r.pointerUp(G)*ft(),bt=It(C(wt),lt),Qt=cS(wt,bt),te=F-10*Qt,ue=v+Qt/50;N=!1,$=!1,T.clear(),d.useDuration(te).useFriction(ue),l.distance(bt,!g),at=!1,f.emit("pointerUp")}function Rt(G){O&&(G.stopPropagation(),G.preventDefault(),O=!1)}function dt(){return $}return{init:ot,destroy:Ct,pointerDown:dt}}function gS(i,t){let n,s;function r(u){return u.timeStamp}function a(u,f){const g=`client${(f||i.scroll)==="x"?"X":"Y"}`;return(pf(u,t)?u:u.touches[0])[g]}function o(u){return n=u,s=u,a(u)}function l(u){const f=a(u)-a(s),p=r(u)-r(n)>170;return s=u,p&&(n=u),f}function d(u){if(!n||!s)return 0;const f=a(s)-a(n),p=r(u)-r(n),g=r(u)-r(s)>170,m=f/p;return p&&!g&&Xt(m)>.1?m:0}return{pointerDown:o,pointerMove:l,pointerUp:d,readPoint:a}}function mS(){function i(e){const{offsetTop:n,offsetLeft:s,offsetWidth:r,offsetHeight:a}=e;return{top:n,right:s+r,bottom:n+a,left:s,width:r,height:a}}return{measure:i}}function vS(i){function t(n){return i*(n/100)}return{measure:t}}function bS(i,t,e,n,s,r,a){const o=[i].concat(n);let l,d,h=[],u=!1;function f(b){return s.measureSize(a.measure(b))}function p(b){if(!r)return;d=f(i),h=n.map(f);function v(E){for(const x of E){if(u)return;const C=x.target===i,S=n.indexOf(x.target),k=C?d:h[S],L=f(C?i:n[S]);if(Xt(L-k)>=.5){b.reInit(),t.emit("resize");break}}}l=new ResizeObserver(E=>{(du(r)||r(b,E))&&v(E)}),e.requestAnimationFrame(()=>{o.forEach(E=>l.observe(E))})}function g(){u=!0,l&&l.disconnect()}return{init:p,destroy:g}}function yS(i,t,e,n,s,r){let a=0,o=0,l=s,d=r,h=i.get(),u=0;function f(){const k=n.get()-i.get(),L=!l;let T=0;return L?(a=0,e.set(n),i.set(n),T=k):(e.set(i),a+=k/l,a*=d,h+=a,i.add(a),T=h-u),o=gg(T),u=h,S}function p(){const k=n.get()-t.get();return Xt(k)<.001}function g(){return l}function m(){return o}function b(){return a}function v(){return x(s)}function E(){return C(r)}function x(k){return l=k,S}function C(k){return d=k,S}const S={direction:m,duration:g,velocity:b,seek:f,settled:p,useBaseFriction:E,useBaseDuration:v,useFriction:C,useDuration:x};return S}function wS(i,t,e,n,s){const r=s.measure(10),a=s.measure(50),o=oa(.1,.99);let l=!1;function d(){return!(l||!i.reachedAny(e.get())||!i.reachedAny(t.get()))}function h(p){if(!d())return;const g=i.reachedMin(t.get())?"min":"max",m=Xt(i[g]-t.get()),b=e.get()-t.get(),v=o.constrain(m/a);e.subtract(b*v),!p&&Xt(b)<r&&(e.set(i.constrain(e.get())),n.useDuration(25).useBaseFriction())}function u(p){l=!p}return{shouldConstrain:d,constrain:h,toggleActive:u}}function AS(i,t,e,n,s){const r=oa(-t+i,0),a=u(),o=h(),l=f();function d(g,m){return wl(g,m)<=1}function h(){const g=a[0],m=zn(a),b=a.lastIndexOf(g),v=a.indexOf(m)+1;return oa(b,v)}function u(){return e.map((g,m)=>{const{min:b,max:v}=r,E=r.constrain(g),x=!m,C=mg(e,m);return x?v:C||d(b,E)?b:d(v,E)?v:E}).map(g=>parseFloat(g.toFixed(3)))}function f(){if(t<=i+s)return[r.max];if(n==="keepSnaps")return a;const{min:g,max:m}=o;return a.slice(g,m)}return{snapsContained:l,scrollContainLimit:o}}function ES(i,t,e){const n=t[0],s=e?n-i:zn(t);return{limit:oa(s,n)}}function xS(i,t,e,n){const r=t.min+.1,a=t.max+.1,{reachedMin:o,reachedMax:l}=oa(r,a);function d(f){return f===1?l(e.get()):f===-1?o(e.get()):!1}function h(f){if(!d(f))return;const p=i*(f*-1);n.forEach(g=>g.add(p))}return{loop:h}}function SS(i){const{max:t,length:e}=i;function n(r){const a=r-t;return e?a/-e:0}return{get:n}}function CS(i,t,e,n,s){const{startEdge:r,endEdge:a}=i,{groupSlides:o}=s,l=u().map(t.measure),d=f(),h=p();function u(){return o(n).map(m=>zn(m)[a]-m[0][r]).map(Xt)}function f(){return n.map(m=>e[r]-m[r]).map(m=>-Xt(m))}function p(){return o(d).map(m=>m[0]).map((m,b)=>m+l[b])}return{snaps:d,snapsAligned:h}}function _S(i,t,e,n,s,r){const{groupSlides:a}=s,{min:o,max:l}=n,d=h();function h(){const f=a(r),p=!i||t==="keepSnaps";return e.length===1?[r]:p?f:f.slice(o,l).map((g,m,b)=>{const v=!m,E=mg(b,m);if(v){const x=zn(b[0])+1;return Em(x)}if(E){const x=fd(r)-zn(b)[0]+1;return Em(x,zn(b)[0])}return g})}return{slideRegistry:d}}function kS(i,t,e,n,s){const{reachedAny:r,removeOffset:a,constrain:o}=n;function l(g){return g.concat().sort((m,b)=>Xt(m)-Xt(b))[0]}function d(g){const m=i?a(g):o(g),b=t.map((E,x)=>({diff:h(E-m,0),index:x})).sort((E,x)=>Xt(E.diff)-Xt(x.diff)),{index:v}=b[0];return{index:v,distance:m}}function h(g,m){const b=[g,g+e,g-e];if(!i)return g;if(!m)return l(b);const v=b.filter(E=>gg(E)===m);return v.length?l(v):zn(b)-e}function u(g,m){const b=t[g]-s.get(),v=h(b,m);return{index:g,distance:v}}function f(g,m){const b=s.get()+g,{index:v,distance:E}=d(b),x=!i&&r(b);if(!m||x)return{index:v,distance:g};const C=t[v]-E,S=g+h(C,0);return{index:v,distance:S}}return{byDistance:f,byIndex:u,shortcut:h}}function RS(i,t,e,n,s,r,a){function o(u){const f=u.distance,p=u.index!==t.get();r.add(f),f&&(n.duration()?i.start():(i.update(),i.render(1),i.update())),p&&(e.set(t.get()),t.set(u.index),a.emit("select"))}function l(u,f){const p=s.byDistance(u,f);o(p)}function d(u,f){const p=t.clone().set(u),g=s.byIndex(p.get(),f);o(g)}return{distance:l,index:d}}function PS(i,t,e,n,s,r,a,o){const l={passive:!0,capture:!0};let d=0;function h(p){if(!o)return;function g(m){if(new Date().getTime()-d>10)return;a.emit("slideFocusStart"),i.scrollLeft=0;const E=e.findIndex(x=>x.includes(m));pg(E)&&(s.useDuration(0),n.index(E,0),a.emit("slideFocus"))}r.add(document,"keydown",u,!1),t.forEach((m,b)=>{r.add(m,"focus",v=>{(du(o)||o(p,v))&&g(b)},l)})}function u(p){p.code==="Tab"&&(d=new Date().getTime())}return{init:h}}function sl(i){let t=i;function e(){return t}function n(l){t=a(l)}function s(l){t+=a(l)}function r(l){t-=a(l)}function a(l){return pg(l)?l:l.get()}return{get:e,set:n,add:s,subtract:r}}function Wb(i,t){const e=i.scroll==="x"?a:o,n=t.style;let s=null,r=!1;function a(f){return`translate3d(${f}px,0px,0px)`}function o(f){return`translate3d(0px,${f}px,0px)`}function l(f){if(r)return;const p=dS(i.direction(f));p!==s&&(n.transform=e(p),s=p)}function d(f){r=!f}function h(){r||(n.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:h,to:l,toggleActive:d}}function TS(i,t,e,n,s,r,a,o,l){const h=Rl(s),u=Rl(s).reverse(),f=v().concat(E());function p(L,T){return L.reduce((M,_)=>M-s[_],T)}function g(L,T){return L.reduce((M,_)=>p(M,T)>0?M.concat([_]):M,[])}function m(L){return r.map((T,M)=>({start:T-n[M]+.5+L,end:T+t-.5+L}))}function b(L,T,M){const _=m(T);return L.map(I=>{const F=M?0:-e,H=M?e:0,B=M?"end":"start",W=_[I][B];return{index:I,loopPoint:W,slideLocation:sl(-1),translate:Wb(i,l[I]),target:()=>o.get()>W?F:H}})}function v(){const L=a[0],T=g(u,L);return b(T,e,!1)}function E(){const L=t-a[0]-1,T=g(h,L);return b(T,-e,!0)}function x(){return f.every(({index:L})=>{const T=h.filter(M=>M!==L);return p(T,t)<=.1})}function C(){f.forEach(L=>{const{target:T,translate:M,slideLocation:_}=L,I=T();I!==_.get()&&(M.to(I),_.set(I))})}function S(){f.forEach(L=>L.translate.clear())}return{canLoop:x,clear:S,loop:C,loopPoints:f}}function LS(i,t,e){let n,s=!1;function r(l){if(!e)return;function d(h){for(const u of h)if(u.type==="childList"){l.reInit(),t.emit("slidesChanged");break}}n=new MutationObserver(h=>{s||(du(e)||e(l,h))&&d(h)}),n.observe(i,{childList:!0})}function a(){n&&n.disconnect(),s=!0}return{init:r,destroy:a}}function MS(i,t,e,n){const s={};let r=null,a=null,o,l=!1;function d(){o=new IntersectionObserver(g=>{l||(g.forEach(m=>{const b=t.indexOf(m.target);s[b]=m}),r=null,a=null,e.emit("slidesInView"))},{root:i.parentElement,threshold:n}),t.forEach(g=>o.observe(g))}function h(){o&&o.disconnect(),l=!0}function u(g){return Pl(s).reduce((m,b)=>{const v=parseInt(b),{isIntersecting:E}=s[v];return(g&&E||!g&&!E)&&m.push(v),m},[])}function f(g=!0){if(g&&r)return r;if(!g&&a)return a;const m=u(g);return g&&(r=m),g||(a=m),m}return{init:d,destroy:h,get:f}}function IS(i,t,e,n,s,r){const{measureSize:a,startEdge:o,endEdge:l}=i,d=e[0]&&s,h=g(),u=m(),f=e.map(a),p=b();function g(){if(!d)return 0;const E=e[0];return Xt(t[o]-E[o])}function m(){if(!d)return 0;const E=r.getComputedStyle(zn(n));return parseFloat(E.getPropertyValue(`margin-${l}`))}function b(){return e.map((E,x,C)=>{const S=!x,k=mg(C,x);return S?f[x]+h:k?f[x]+u:C[x+1][o]-E[o]}).map(Xt)}return{slideSizes:f,slideSizesWithGaps:p,startGap:h,endGap:u}}function DS(i,t,e,n,s,r,a,o,l){const{startEdge:d,endEdge:h,direction:u}=i,f=pg(e);function p(v,E){return Rl(v).filter(x=>x%E===0).map(x=>v.slice(x,x+E))}function g(v){return v.length?Rl(v).reduce((E,x,C)=>{const S=zn(E)||0,k=S===0,L=x===fd(v),T=s[d]-r[S][d],M=s[d]-r[x][h],_=!n&&k?u(a):0,I=!n&&L?u(o):0,F=Xt(M-I-(T+_));return C&&F>t+l&&E.push(x),L&&E.push(v.length),E},[]).map((E,x,C)=>{const S=Math.max(C[x-1]||0);return v.slice(S,E)}):[]}function m(v){return f?p(v,e):g(v)}return{groupSlides:m}}function OS(i,t,e,n,s,r,a){const{align:o,axis:l,direction:d,startIndex:h,loop:u,duration:f,dragFree:p,dragThreshold:g,inViewThreshold:m,slidesToScroll:b,skipSnaps:v,containScroll:E,watchResize:x,watchSlides:C,watchDrag:S,watchFocus:k}=r,L=2,T=mS(),M=T.measure(t),_=e.map(T.measure),I=fS(l,d),F=I.measureSize(M),H=vS(F),B=hS(o,F),W=!u&&!!E,$=u||!!E,{slideSizes:N,slideSizesWithGaps:O,startGap:at,endGap:ot}=IS(I,M,_,e,$,s),Ct=DS(I,F,b,u,M,_,at,ot,L),{snaps:vt,snapsAligned:et}=CS(I,B,M,_,Ct),ft=-zn(vt)+zn(O),{snapsContained:It,scrollContainLimit:Lt}=AS(F,ft,et,E,L),Q=W?It:et,{limit:pt}=ES(ft,Q,u),Rt=Ub(fd(Q),h,u),dt=Rt.clone(),gt=Rl(e),G=({dragHandler:ze,scrollBody:ya,scrollBounds:Ji,options:{loop:Zi}})=>{Zi||Ji.constrain(ze.pointerDown()),ya.seek()},K=({scrollBody:ze,translate:ya,location:Ji,offsetLocation:Zi,previousLocation:Ad,scrollLooper:Ed,slideLooper:qo,dragHandler:xn,animation:xd,eventHandler:Go,scrollBounds:Xo,options:{loop:Sn}},Yo)=>{const Ko=ze.settled(),Sd=!Xo.shouldConstrain(),Qo=Sn?Ko:Ko&&Sd,Jo=Qo&&!xn.pointerDown();Jo&&xd.stop();const Cd=Ji.get()*Yo+Ad.get()*(1-Yo);Zi.set(Cd),Sn&&(Ed.loop(ze.direction()),qo.loop()),ya.to(Zi.get()),Jo&&Go.emit("settle"),Qo||Go.emit("scroll")},lt=uS(n,s,()=>G(se),ze=>K(se,ze)),wt=.68,bt=Q[Rt.get()],Qt=sl(bt),te=sl(bt),ue=sl(bt),un=sl(bt),Se=yS(Qt,ue,te,un,f,wt),li=kS(u,Q,ft,pt,un),ci=RS(lt,Rt,dt,Se,li,un,a),di=SS(pt),Qi=Tl(),ms=MS(t,e,a,m),{slideRegistry:fn}=_S(W,E,Q,Lt,Ct,gt),pn=PS(i,e,fn,ci,Se,Qi,a,k),se={ownerDocument:n,ownerWindow:s,eventHandler:a,containerRect:M,slideRects:_,animation:lt,axis:I,dragHandler:pS(I,i,n,s,un,gS(I,s),Qt,lt,ci,Se,li,Rt,a,H,p,g,v,wt,S),eventStore:Qi,percentOfView:H,index:Rt,indexPrevious:dt,limit:pt,location:Qt,offsetLocation:ue,previousLocation:te,options:r,resizeHandler:bS(t,a,s,e,I,x,T),scrollBody:Se,scrollBounds:wS(pt,ue,un,Se,H),scrollLooper:xS(ft,pt,ue,[Qt,ue,te,un]),scrollProgress:di,scrollSnapList:Q.map(di.get),scrollSnaps:Q,scrollTarget:li,scrollTo:ci,slideLooper:TS(I,F,ft,N,O,vt,Q,ue,e),slideFocus:pn,slidesHandler:LS(t,a,C),slidesInView:ms,slideIndexes:gt,slideRegistry:fn,slidesToScroll:Ct,target:un,translate:Wb(I,t)};return se}function NS(){let i={},t;function e(d){t=d}function n(d){return i[d]||[]}function s(d){return n(d).forEach(h=>h(t,d)),l}function r(d,h){return i[d]=n(d).concat([h]),l}function a(d,h){return i[d]=n(d).filter(u=>u!==h),l}function o(){i={}}const l={init:e,emit:s,off:a,on:r,clear:o};return l}const FS={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function HS(i){function t(r,a){return $b(r,a||{})}function e(r){const a=r.breakpoints||{},o=Pl(a).filter(l=>i.matchMedia(l).matches).map(l=>a[l]).reduce((l,d)=>t(l,d),{});return t(r,o)}function n(r){return r.map(a=>Pl(a.breakpoints||{})).reduce((a,o)=>a.concat(o),[]).map(i.matchMedia)}return{mergeOptions:t,optionsAtMedia:e,optionsMediaQueries:n}}function BS(i){let t=[];function e(r,a){return t=a.filter(({options:o})=>i.optionsAtMedia(o).active!==!1),t.forEach(o=>o.init(r,i)),a.reduce((o,l)=>Object.assign(o,{[l.name]:l}),{})}function n(){t=t.filter(r=>r.destroy())}return{init:e,destroy:n}}function _h(i,t,e){const n=i.ownerDocument,s=n.defaultView,r=HS(s),a=BS(r),o=Tl(),l=NS(),{mergeOptions:d,optionsAtMedia:h,optionsMediaQueries:u}=r,{on:f,off:p,emit:g}=l,m=I;let b=!1,v,E=d(FS,_h.globalOptions),x=d(E),C=[],S,k,L;function T(){const{container:gt,slides:G}=x;k=(ff(gt)?i.querySelector(gt):gt)||i.children[0];const lt=ff(G)?k.querySelectorAll(G):G;L=[].slice.call(lt||k.children)}function M(gt){const G=OS(i,k,L,n,s,gt,l);if(gt.loop&&!G.slideLooper.canLoop()){const K=Object.assign({},gt,{loop:!1});return M(K)}return G}function _(gt,G){b||(E=d(E,gt),x=h(E),C=G||C,T(),v=M(x),u([E,...C.map(({options:K})=>K)]).forEach(K=>o.add(K,"change",I)),x.active&&(v.translate.to(v.location.get()),v.animation.init(),v.slidesInView.init(),v.slideFocus.init(dt),v.eventHandler.init(dt),v.resizeHandler.init(dt),v.slidesHandler.init(dt),v.options.loop&&v.slideLooper.loop(),k.offsetParent&&L.length&&v.dragHandler.init(dt),S=a.init(dt,C)))}function I(gt,G){const K=Ct();F(),_(d({startIndex:K},gt),G),l.emit("reInit")}function F(){v.dragHandler.destroy(),v.eventStore.clear(),v.translate.clear(),v.slideLooper.clear(),v.resizeHandler.destroy(),v.slidesHandler.destroy(),v.slidesInView.destroy(),v.animation.destroy(),a.destroy(),o.clear()}function H(){b||(b=!0,o.clear(),F(),l.emit("destroy"),l.clear())}function B(gt,G,K){!x.active||b||(v.scrollBody.useBaseFriction().useDuration(G===!0?0:x.duration),v.scrollTo.index(gt,K||0))}function W(gt){const G=v.index.add(1).get();B(G,gt,-1)}function $(gt){const G=v.index.add(-1).get();B(G,gt,1)}function N(){return v.index.add(1).get()!==Ct()}function O(){return v.index.add(-1).get()!==Ct()}function at(){return v.scrollSnapList}function ot(){return v.scrollProgress.get(v.offsetLocation.get())}function Ct(){return v.index.get()}function vt(){return v.indexPrevious.get()}function et(){return v.slidesInView.get()}function ft(){return v.slidesInView.get(!1)}function It(){return S}function Lt(){return v}function Q(){return i}function pt(){return k}function Rt(){return L}const dt={canScrollNext:N,canScrollPrev:O,containerNode:pt,internalEngine:Lt,destroy:H,off:p,on:f,emit:g,plugins:It,previousScrollSnap:vt,reInit:m,rootNode:Q,scrollNext:W,scrollPrev:$,scrollProgress:ot,scrollSnapList:at,scrollTo:B,selectedScrollSnap:Ct,slideNodes:Rt,slidesInView:et,slidesNotInView:ft};return _(t,e),setTimeout(()=>l.emit("init"),0),dt}_h.globalOptions=void 0;function vg(i={},t=[]){const e=R.useRef(i),n=R.useRef(t),[s,r]=R.useState(),[a,o]=R.useState(),l=R.useCallback(()=>{s&&s.reInit(e.current,n.current)},[s]);return R.useEffect(()=>{fg(e.current,i)||(e.current=i,l())},[i,l]),R.useEffect(()=>{lS(n.current,t)||(n.current=t,l())},[t,l]),R.useEffect(()=>{if(oS()&&a){_h.globalOptions=vg.globalOptions;const d=_h(a,e.current,n.current);return r(d),()=>d.destroy()}else r(void 0)},[a,r]),[o,s]}vg.globalOptions=void 0;const Vb=R.createContext(null);function hu(){const i=R.useContext(Vb);if(!i)throw new Error("useCarousel must be used within a <Carousel />");return i}const zS=R.forwardRef(({orientation:i="horizontal",opts:t,setApi:e,plugins:n,className:s,children:r,...a},o)=>{const[l,d]=vg({...t,axis:i==="horizontal"?"x":"y"},n),[h,u]=R.useState(!1),[f,p]=R.useState(!1),g=R.useCallback(E=>{E&&(u(E.canScrollPrev()),p(E.canScrollNext()))},[]),m=R.useCallback(()=>{d==null||d.scrollPrev()},[d]),b=R.useCallback(()=>{d==null||d.scrollNext()},[d]),v=R.useCallback(E=>{E.key==="ArrowLeft"?(E.preventDefault(),m()):E.key==="ArrowRight"&&(E.preventDefault(),b())},[m,b]);return R.useEffect(()=>{!d||!e||e(d)},[d,e]),R.useEffect(()=>{if(d)return g(d),d.on("reInit",g),d.on("select",g),()=>{d==null||d.off("select",g)}},[d,g]),q.jsx(Vb.Provider,{value:{carouselRef:l,api:d,opts:t,orientation:i||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:m,scrollNext:b,canScrollPrev:h,canScrollNext:f},children:q.jsx("div",{ref:o,onKeyDownCapture:v,className:ni("relative",s),role:"region","aria-roledescription":"carousel",...a,children:r})})});zS.displayName="Carousel";const jS=R.forwardRef(({className:i,...t},e)=>{const{carouselRef:n,orientation:s}=hu();return q.jsx("div",{ref:n,className:"overflow-hidden",children:q.jsx("div",{ref:e,className:ni("flex",s==="horizontal"?"-ml-4":"-mt-4 flex-col",i),...t})})});jS.displayName="CarouselContent";const $S=R.forwardRef(({className:i,...t},e)=>{const{orientation:n}=hu();return q.jsx("div",{ref:e,role:"group","aria-roledescription":"slide",className:ni("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",i),...t})});$S.displayName="CarouselItem";const US=R.forwardRef(({className:i,variant:t="outline",size:e="icon",...n},s)=>{const{orientation:r,scrollPrev:a,canScrollPrev:o}=hu();return q.jsxs(dg,{ref:s,variant:t,size:e,className:ni("absolute  h-8 w-8 rounded-full",r==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",i),disabled:!o,onClick:a,...n,children:[q.jsx(XE,{className:"h-4 w-4"}),q.jsx("span",{className:"sr-only",children:"Previous slide"})]})});US.displayName="CarouselPrevious";const WS=R.forwardRef(({className:i,variant:t="outline",size:e="icon",...n},s)=>{const{orientation:r,scrollNext:a,canScrollNext:o}=hu();return q.jsxs(dg,{ref:s,variant:t,size:e,className:ni("absolute h-8 w-8 rounded-full",r==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",i),disabled:!o,onClick:a,...n,children:[q.jsx(KE,{className:"h-4 w-4"}),q.jsx("span",{className:"sr-only",children:"Next slide"})]})});WS.displayName="CarouselNext";/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function VS(i,t,e){return(t=GS(t))in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function xm(i,t){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),e.push.apply(e,n)}return e}function j(i){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?xm(Object(e),!0).forEach(function(n){VS(i,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):xm(Object(e)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(e,n))})}return i}function qS(i,t){if(typeof i!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var n=e.call(i,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function GS(i){var t=qS(i,"string");return typeof t=="symbol"?t:t+""}const Sm=()=>{};let bg={},qb={},Gb=null,Xb={mark:Sm,measure:Sm};try{typeof window<"u"&&(bg=window),typeof document<"u"&&(qb=document),typeof MutationObserver<"u"&&(Gb=MutationObserver),typeof performance<"u"&&(Xb=performance)}catch{}const{userAgent:Cm=""}=bg.navigator||{},$i=bg,Vt=qb,_m=Gb,Fd=Xb;$i.document;const oi=!!Vt.documentElement&&!!Vt.head&&typeof Vt.addEventListener=="function"&&typeof Vt.createElement=="function",Yb=~Cm.indexOf("MSIE")||~Cm.indexOf("Trident/");var XS=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,YS=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,Kb={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},KS={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},Qb=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Me="classic",uu="duotone",QS="sharp",JS="sharp-duotone",Jb=[Me,uu,QS,JS],ZS={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},tC={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},eC=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),nC={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},sC=["fak","fa-kit","fakd","fa-kit-duotone"],km={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},iC=["kit"],rC={kit:{"fa-kit":"fak"}},aC=["fak","fakd"],oC={kit:{fak:"fa-kit"}},Rm={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Hd={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},lC=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],cC=["fak","fa-kit","fakd","fa-kit-duotone"],dC={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},hC={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},uC={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},gf={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},fC=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],mf=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...lC,...fC],pC=["solid","regular","light","thin","duotone","brands"],Zb=[1,2,3,4,5,6,7,8,9,10],gC=Zb.concat([11,12,13,14,15,16,17,18,19,20]),mC=[...Object.keys(uC),...pC,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Hd.GROUP,Hd.SWAP_OPACITY,Hd.PRIMARY,Hd.SECONDARY].concat(Zb.map(i=>"".concat(i,"x"))).concat(gC.map(i=>"w-".concat(i))),vC={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const si="___FONT_AWESOME___",vf=16,ty="fa",ey="svg-inline--fa",la="data-fa-i2svg",bf="data-fa-pseudo-element",bC="data-fa-pseudo-element-pending",yg="data-prefix",wg="data-icon",Pm="fontawesome-i2svg",yC="async",wC=["HTML","HEAD","STYLE","SCRIPT"],ny=(()=>{try{return!0}catch{return!1}})();function pd(i){return new Proxy(i,{get(t,e){return e in t?t[e]:t[Me]}})}const sy=j({},Kb);sy[Me]=j(j(j(j({},{"fa-duotone":"duotone"}),Kb[Me]),km.kit),km["kit-duotone"]);const AC=pd(sy),yf=j({},nC);yf[Me]=j(j(j(j({},{duotone:"fad"}),yf[Me]),Rm.kit),Rm["kit-duotone"]);const Tm=pd(yf),wf=j({},gf);wf[Me]=j(j({},wf[Me]),oC.kit);const Ag=pd(wf),Af=j({},hC);Af[Me]=j(j({},Af[Me]),rC.kit);pd(Af);const EC=XS,iy="fa-layers-text",xC=YS,SC=j({},ZS);pd(SC);const CC=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],zu=KS,_C=[...iC,...mC],Al=$i.FontAwesomeConfig||{};function kC(i){var t=Vt.querySelector("script["+i+"]");if(t)return t.getAttribute(i)}function RC(i){return i===""?!0:i==="false"?!1:i==="true"?!0:i}Vt&&typeof Vt.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(t=>{let[e,n]=t;const s=RC(kC(e));s!=null&&(Al[n]=s)});const ry={styleDefault:"solid",familyDefault:Me,cssPrefix:ty,replacementClass:ey,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Al.familyPrefix&&(Al.cssPrefix=Al.familyPrefix);const Ho=j(j({},ry),Al);Ho.autoReplaceSvg||(Ho.observeMutations=!1);const st={};Object.keys(ry).forEach(i=>{Object.defineProperty(st,i,{enumerable:!0,set:function(t){Ho[i]=t,El.forEach(e=>e(st))},get:function(){return Ho[i]}})});Object.defineProperty(st,"familyPrefix",{enumerable:!0,set:function(i){Ho.cssPrefix=i,El.forEach(t=>t(st))},get:function(){return Ho.cssPrefix}});$i.FontAwesomeConfig=st;const El=[];function PC(i){return El.push(i),()=>{El.splice(El.indexOf(i),1)}}const ui=vf,ls={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function TC(i){if(!i||!oi)return;const t=Vt.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=i;const e=Vt.head.childNodes;let n=null;for(let s=e.length-1;s>-1;s--){const r=e[s],a=(r.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(n=r)}return Vt.head.insertBefore(t,n),i}const LC="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Ll(){let i=12,t="";for(;i-- >0;)t+=LC[Math.random()*62|0];return t}function Vo(i){const t=[];for(let e=(i||[]).length>>>0;e--;)t[e]=i[e];return t}function Eg(i){return i.classList?Vo(i.classList):(i.getAttribute("class")||"").split(" ").filter(t=>t)}function ay(i){return"".concat(i).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function MC(i){return Object.keys(i||{}).reduce((t,e)=>t+"".concat(e,'="').concat(ay(i[e]),'" '),"").trim()}function fu(i){return Object.keys(i||{}).reduce((t,e)=>t+"".concat(e,": ").concat(i[e].trim(),";"),"")}function xg(i){return i.size!==ls.size||i.x!==ls.x||i.y!==ls.y||i.rotate!==ls.rotate||i.flipX||i.flipY}function IC(i){let{transform:t,containerWidth:e,iconWidth:n}=i;const s={transform:"translate(".concat(e/2," 256)")},r="translate(".concat(t.x*32,", ").concat(t.y*32,") "),a="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),o="rotate(".concat(t.rotate," 0 0)"),l={transform:"".concat(r," ").concat(a," ").concat(o)},d={transform:"translate(".concat(n/2*-1," -256)")};return{outer:s,inner:l,path:d}}function DC(i){let{transform:t,width:e=vf,height:n=vf,startCentered:s=!1}=i,r="";return s&&Yb?r+="translate(".concat(t.x/ui-e/2,"em, ").concat(t.y/ui-n/2,"em) "):s?r+="translate(calc(-50% + ".concat(t.x/ui,"em), calc(-50% + ").concat(t.y/ui,"em)) "):r+="translate(".concat(t.x/ui,"em, ").concat(t.y/ui,"em) "),r+="scale(".concat(t.size/ui*(t.flipX?-1:1),", ").concat(t.size/ui*(t.flipY?-1:1),") "),r+="rotate(".concat(t.rotate,"deg) "),r}var OC=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function oy(){const i=ty,t=ey,e=st.cssPrefix,n=st.replacementClass;let s=OC;if(e!==i||n!==t){const r=new RegExp("\\.".concat(i,"\\-"),"g"),a=new RegExp("\\--".concat(i,"\\-"),"g"),o=new RegExp("\\.".concat(t),"g");s=s.replace(r,".".concat(e,"-")).replace(a,"--".concat(e,"-")).replace(o,".".concat(n))}return s}let Lm=!1;function ju(){st.autoAddCss&&!Lm&&(TC(oy()),Lm=!0)}var NC={mixout(){return{dom:{css:oy,insertCss:ju}}},hooks(){return{beforeDOMElementCreation(){ju()},beforeI2svg(){ju()}}}};const ii=$i||{};ii[si]||(ii[si]={});ii[si].styles||(ii[si].styles={});ii[si].hooks||(ii[si].hooks={});ii[si].shims||(ii[si].shims=[]);var cs=ii[si];const ly=[],cy=function(){Vt.removeEventListener("DOMContentLoaded",cy),kh=1,ly.map(i=>i())};let kh=!1;oi&&(kh=(Vt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Vt.readyState),kh||Vt.addEventListener("DOMContentLoaded",cy));function FC(i){oi&&(kh?setTimeout(i,0):ly.push(i))}function gd(i){const{tag:t,attributes:e={},children:n=[]}=i;return typeof i=="string"?ay(i):"<".concat(t," ").concat(MC(e),">").concat(n.map(gd).join(""),"</").concat(t,">")}function Mm(i,t,e){if(i&&i[t]&&i[t][e])return{prefix:t,iconName:e,icon:i[t][e]}}var $u=function(t,e,n,s){var r=Object.keys(t),a=r.length,o=e,l,d,h;for(n===void 0?(l=1,h=t[r[0]]):(l=0,h=n);l<a;l++)d=r[l],h=o(h,t[d],d,t);return h};function HC(i){const t=[];let e=0;const n=i.length;for(;e<n;){const s=i.charCodeAt(e++);if(s>=55296&&s<=56319&&e<n){const r=i.charCodeAt(e++);(r&64512)==56320?t.push(((s&1023)<<10)+(r&1023)+65536):(t.push(s),e--)}else t.push(s)}return t}function Ef(i){const t=HC(i);return t.length===1?t[0].toString(16):null}function BC(i,t){const e=i.length;let n=i.charCodeAt(t),s;return n>=55296&&n<=56319&&e>t+1&&(s=i.charCodeAt(t+1),s>=56320&&s<=57343)?(n-55296)*1024+s-56320+65536:n}function Im(i){return Object.keys(i).reduce((t,e)=>{const n=i[e];return!!n.icon?t[n.iconName]=n.icon:t[e]=n,t},{})}function xf(i,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:n=!1}=e,s=Im(t);typeof cs.hooks.addPack=="function"&&!n?cs.hooks.addPack(i,Im(t)):cs.styles[i]=j(j({},cs.styles[i]||{}),s),i==="fas"&&xf("fa",t)}const{styles:Ml,shims:zC}=cs,dy=Object.keys(Ag),jC=dy.reduce((i,t)=>(i[t]=Object.keys(Ag[t]),i),{});let Sg=null,hy={},uy={},fy={},py={},gy={};function $C(i){return~_C.indexOf(i)}function UC(i,t){const e=t.split("-"),n=e[0],s=e.slice(1).join("-");return n===i&&s!==""&&!$C(s)?s:null}const my=()=>{const i=n=>$u(Ml,(s,r,a)=>(s[a]=$u(r,n,{}),s),{});hy=i((n,s,r)=>(s[3]&&(n[s[3]]=r),s[2]&&s[2].filter(o=>typeof o=="number").forEach(o=>{n[o.toString(16)]=r}),n)),uy=i((n,s,r)=>(n[r]=r,s[2]&&s[2].filter(o=>typeof o=="string").forEach(o=>{n[o]=r}),n)),gy=i((n,s,r)=>{const a=s[2];return n[r]=r,a.forEach(o=>{n[o]=r}),n});const t="far"in Ml||st.autoFetchSvg,e=$u(zC,(n,s)=>{const r=s[0];let a=s[1];const o=s[2];return a==="far"&&!t&&(a="fas"),typeof r=="string"&&(n.names[r]={prefix:a,iconName:o}),typeof r=="number"&&(n.unicodes[r.toString(16)]={prefix:a,iconName:o}),n},{names:{},unicodes:{}});fy=e.names,py=e.unicodes,Sg=pu(st.styleDefault,{family:st.familyDefault})};PC(i=>{Sg=pu(i.styleDefault,{family:st.familyDefault})});my();function Cg(i,t){return(hy[i]||{})[t]}function WC(i,t){return(uy[i]||{})[t]}function cr(i,t){return(gy[i]||{})[t]}function vy(i){return fy[i]||{prefix:null,iconName:null}}function VC(i){const t=py[i],e=Cg("fas",i);return t||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null}}function Ui(){return Sg}const by=()=>({prefix:null,iconName:null,rest:[]});function qC(i){let t=Me;const e=dy.reduce((n,s)=>(n[s]="".concat(st.cssPrefix,"-").concat(s),n),{});return Jb.forEach(n=>{(i.includes(e[n])||i.some(s=>jC[n].includes(s)))&&(t=n)}),t}function pu(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:e=Me}=t,n=AC[e][i];if(e===uu&&!i)return"fad";const s=Tm[e][i]||Tm[e][n],r=i in cs.styles?i:null;return s||r||null}function GC(i){let t=[],e=null;return i.forEach(n=>{const s=UC(st.cssPrefix,n);s?e=s:n&&t.push(n)}),{iconName:e,rest:t}}function Dm(i){return i.sort().filter((t,e,n)=>n.indexOf(t)===e)}function gu(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:e=!1}=t;let n=null;const s=mf.concat(cC),r=Dm(i.filter(u=>s.includes(u))),a=Dm(i.filter(u=>!mf.includes(u))),o=r.filter(u=>(n=u,!Qb.includes(u))),[l=null]=o,d=qC(r),h=j(j({},GC(a)),{},{prefix:pu(l,{family:d})});return j(j(j({},h),QC({values:i,family:d,styles:Ml,config:st,canonical:h,givenPrefix:n})),XC(e,n,h))}function XC(i,t,e){let{prefix:n,iconName:s}=e;if(i||!n||!s)return{prefix:n,iconName:s};const r=t==="fa"?vy(s):{},a=cr(n,s);return s=r.iconName||a||s,n=r.prefix||n,n==="far"&&!Ml.far&&Ml.fas&&!st.autoFetchSvg&&(n="fas"),{prefix:n,iconName:s}}const YC=Jb.filter(i=>i!==Me||i!==uu),KC=Object.keys(gf).filter(i=>i!==Me).map(i=>Object.keys(gf[i])).flat();function QC(i){const{values:t,family:e,canonical:n,givenPrefix:s="",styles:r={},config:a={}}=i,o=e===uu,l=t.includes("fa-duotone")||t.includes("fad"),d=a.familyDefault==="duotone",h=n.prefix==="fad"||n.prefix==="fa-duotone";if(!o&&(l||d||h)&&(n.prefix="fad"),(t.includes("fa-brands")||t.includes("fab"))&&(n.prefix="fab"),!n.prefix&&YC.includes(e)&&(Object.keys(r).find(f=>KC.includes(f))||a.autoFetchSvg)){const f=eC.get(e).defaultShortPrefixId;n.prefix=f,n.iconName=cr(n.prefix,n.iconName)||n.iconName}return(n.prefix==="fa"||s==="fa")&&(n.prefix=Ui()||"fas"),n}class JC{constructor(){this.definitions={}}add(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const s=e.reduce(this._pullDefinitions,{});Object.keys(s).forEach(r=>{this.definitions[r]=j(j({},this.definitions[r]||{}),s[r]),xf(r,s[r]);const a=Ag[Me][r];a&&xf(a,s[r]),my()})}reset(){this.definitions={}}_pullDefinitions(t,e){const n=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(n).map(s=>{const{prefix:r,iconName:a,icon:o}=n[s],l=o[2];t[r]||(t[r]={}),l.length>0&&l.forEach(d=>{typeof d=="string"&&(t[r][d]=o)}),t[r][a]=o}),t}}let Om=[],Pa={};const Da={},ZC=Object.keys(Da);function t_(i,t){let{mixoutsTo:e}=t;return Om=i,Pa={},Object.keys(Da).forEach(n=>{ZC.indexOf(n)===-1&&delete Da[n]}),Om.forEach(n=>{const s=n.mixout?n.mixout():{};if(Object.keys(s).forEach(r=>{typeof s[r]=="function"&&(e[r]=s[r]),typeof s[r]=="object"&&Object.keys(s[r]).forEach(a=>{e[r]||(e[r]={}),e[r][a]=s[r][a]})}),n.hooks){const r=n.hooks();Object.keys(r).forEach(a=>{Pa[a]||(Pa[a]=[]),Pa[a].push(r[a])})}n.provides&&n.provides(Da)}),e}function Sf(i,t){for(var e=arguments.length,n=new Array(e>2?e-2:0),s=2;s<e;s++)n[s-2]=arguments[s];return(Pa[i]||[]).forEach(a=>{t=a.apply(null,[t,...n])}),t}function ca(i){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];(Pa[i]||[]).forEach(r=>{r.apply(null,e)})}function Wi(){const i=arguments[0],t=Array.prototype.slice.call(arguments,1);return Da[i]?Da[i].apply(null,t):void 0}function Cf(i){i.prefix==="fa"&&(i.prefix="fas");let{iconName:t}=i;const e=i.prefix||Ui();if(t)return t=cr(e,t)||t,Mm(yy.definitions,e,t)||Mm(cs.styles,e,t)}const yy=new JC,e_=()=>{st.autoReplaceSvg=!1,st.observeMutations=!1,ca("noAuto")},n_={i2svg:function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return oi?(ca("beforeI2svg",i),Wi("pseudoElements2svg",i),Wi("i2svg",i)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t}=i;st.autoReplaceSvg===!1&&(st.autoReplaceSvg=!0),st.observeMutations=!0,FC(()=>{i_({autoReplaceSvgRoot:t}),ca("watch",i)})}},s_={icon:i=>{if(i===null)return null;if(typeof i=="object"&&i.prefix&&i.iconName)return{prefix:i.prefix,iconName:cr(i.prefix,i.iconName)||i.iconName};if(Array.isArray(i)&&i.length===2){const t=i[1].indexOf("fa-")===0?i[1].slice(3):i[1],e=pu(i[0]);return{prefix:e,iconName:cr(e,t)||t}}if(typeof i=="string"&&(i.indexOf("".concat(st.cssPrefix,"-"))>-1||i.match(EC))){const t=gu(i.split(" "),{skipLookups:!0});return{prefix:t.prefix||Ui(),iconName:cr(t.prefix,t.iconName)||t.iconName}}if(typeof i=="string"){const t=Ui();return{prefix:t,iconName:cr(t,i)||i}}}},hn={noAuto:e_,config:st,dom:n_,parse:s_,library:yy,findIconDefinition:Cf,toHtml:gd},i_=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t=Vt}=i;(Object.keys(cs.styles).length>0||st.autoFetchSvg)&&oi&&st.autoReplaceSvg&&hn.dom.i2svg({node:t})};function mu(i,t){return Object.defineProperty(i,"abstract",{get:t}),Object.defineProperty(i,"html",{get:function(){return i.abstract.map(e=>gd(e))}}),Object.defineProperty(i,"node",{get:function(){if(!oi)return;const e=Vt.createElement("div");return e.innerHTML=i.html,e.children}}),i}function r_(i){let{children:t,main:e,mask:n,attributes:s,styles:r,transform:a}=i;if(xg(a)&&e.found&&!n.found){const{width:o,height:l}=e,d={x:o/l/2,y:.5};s.style=fu(j(j({},r),{},{"transform-origin":"".concat(d.x+a.x/16,"em ").concat(d.y+a.y/16,"em")}))}return[{tag:"svg",attributes:s,children:t}]}function a_(i){let{prefix:t,iconName:e,children:n,attributes:s,symbol:r}=i;const a=r===!0?"".concat(t,"-").concat(st.cssPrefix,"-").concat(e):r;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:j(j({},s),{},{id:a}),children:n}]}]}function _g(i){const{icons:{main:t,mask:e},prefix:n,iconName:s,transform:r,symbol:a,title:o,maskId:l,titleId:d,extra:h,watchable:u=!1}=i,{width:f,height:p}=e.found?e:t,g=aC.includes(n),m=[st.replacementClass,s?"".concat(st.cssPrefix,"-").concat(s):""].filter(S=>h.classes.indexOf(S)===-1).filter(S=>S!==""||!!S).concat(h.classes).join(" ");let b={children:[],attributes:j(j({},h.attributes),{},{"data-prefix":n,"data-icon":s,class:m,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(f," ").concat(p)})};const v=g&&!~h.classes.indexOf("fa-fw")?{width:"".concat(f/p*16*.0625,"em")}:{};u&&(b.attributes[la]=""),o&&(b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(d||Ll())},children:[o]}),delete b.attributes.title);const E=j(j({},b),{},{prefix:n,iconName:s,main:t,mask:e,maskId:l,transform:r,symbol:a,styles:j(j({},v),h.styles)}),{children:x,attributes:C}=e.found&&t.found?Wi("generateAbstractMask",E)||{children:[],attributes:{}}:Wi("generateAbstractIcon",E)||{children:[],attributes:{}};return E.children=x,E.attributes=C,a?a_(E):r_(E)}function Nm(i){const{content:t,width:e,height:n,transform:s,title:r,extra:a,watchable:o=!1}=i,l=j(j(j({},a.attributes),r?{title:r}:{}),{},{class:a.classes.join(" ")});o&&(l[la]="");const d=j({},a.styles);xg(s)&&(d.transform=DC({transform:s,startCentered:!0,width:e,height:n}),d["-webkit-transform"]=d.transform);const h=fu(d);h.length>0&&(l.style=h);const u=[];return u.push({tag:"span",attributes:l,children:[t]}),r&&u.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),u}function o_(i){const{content:t,title:e,extra:n}=i,s=j(j(j({},n.attributes),e?{title:e}:{}),{},{class:n.classes.join(" ")}),r=fu(n.styles);r.length>0&&(s.style=r);const a=[];return a.push({tag:"span",attributes:s,children:[t]}),e&&a.push({tag:"span",attributes:{class:"sr-only"},children:[e]}),a}const{styles:Uu}=cs;function _f(i){const t=i[0],e=i[1],[n]=i.slice(4);let s=null;return Array.isArray(n)?s={tag:"g",attributes:{class:"".concat(st.cssPrefix,"-").concat(zu.GROUP)},children:[{tag:"path",attributes:{class:"".concat(st.cssPrefix,"-").concat(zu.SECONDARY),fill:"currentColor",d:n[0]}},{tag:"path",attributes:{class:"".concat(st.cssPrefix,"-").concat(zu.PRIMARY),fill:"currentColor",d:n[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:n}},{found:!0,width:t,height:e,icon:s}}const l_={found:!1,width:512,height:512};function c_(i,t){!ny&&!st.showMissingIcons&&i&&console.error('Icon with name "'.concat(i,'" and prefix "').concat(t,'" is missing.'))}function kf(i,t){let e=t;return t==="fa"&&st.styleDefault!==null&&(t=Ui()),new Promise((n,s)=>{if(e==="fa"){const r=vy(i)||{};i=r.iconName||i,t=r.prefix||t}if(i&&t&&Uu[t]&&Uu[t][i]){const r=Uu[t][i];return n(_f(r))}c_(i,t),n(j(j({},l_),{},{icon:st.showMissingIcons&&i?Wi("missingIconAbstract")||{}:{}}))})}const Fm=()=>{},Rf=st.measurePerformance&&Fd&&Fd.mark&&Fd.measure?Fd:{mark:Fm,measure:Fm},il='FA "6.7.2"',d_=i=>(Rf.mark("".concat(il," ").concat(i," begins")),()=>wy(i)),wy=i=>{Rf.mark("".concat(il," ").concat(i," ends")),Rf.measure("".concat(il," ").concat(i),"".concat(il," ").concat(i," begins"),"".concat(il," ").concat(i," ends"))};var kg={begin:d_,end:wy};const qd=()=>{};function Hm(i){return typeof(i.getAttribute?i.getAttribute(la):null)=="string"}function h_(i){const t=i.getAttribute?i.getAttribute(yg):null,e=i.getAttribute?i.getAttribute(wg):null;return t&&e}function u_(i){return i&&i.classList&&i.classList.contains&&i.classList.contains(st.replacementClass)}function f_(){return st.autoReplaceSvg===!0?Gd.replace:Gd[st.autoReplaceSvg]||Gd.replace}function p_(i){return Vt.createElementNS("http://www.w3.org/2000/svg",i)}function g_(i){return Vt.createElement(i)}function Ay(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:e=i.tag==="svg"?p_:g_}=t;if(typeof i=="string")return Vt.createTextNode(i);const n=e(i.tag);return Object.keys(i.attributes||[]).forEach(function(r){n.setAttribute(r,i.attributes[r])}),(i.children||[]).forEach(function(r){n.appendChild(Ay(r,{ceFn:e}))}),n}function m_(i){let t=" ".concat(i.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}const Gd={replace:function(i){const t=i[0];if(t.parentNode)if(i[1].forEach(e=>{t.parentNode.insertBefore(Ay(e),t)}),t.getAttribute(la)===null&&st.keepOriginalSource){let e=Vt.createComment(m_(t));t.parentNode.replaceChild(e,t)}else t.remove()},nest:function(i){const t=i[0],e=i[1];if(~Eg(t).indexOf(st.replacementClass))return Gd.replace(i);const n=new RegExp("".concat(st.cssPrefix,"-.*"));if(delete e[0].attributes.id,e[0].attributes.class){const r=e[0].attributes.class.split(" ").reduce((a,o)=>(o===st.replacementClass||o.match(n)?a.toSvg.push(o):a.toNode.push(o),a),{toNode:[],toSvg:[]});e[0].attributes.class=r.toSvg.join(" "),r.toNode.length===0?t.removeAttribute("class"):t.setAttribute("class",r.toNode.join(" "))}const s=e.map(r=>gd(r)).join(`
`);t.setAttribute(la,""),t.innerHTML=s}};function Bm(i){i()}function Ey(i,t){const e=typeof t=="function"?t:qd;if(i.length===0)e();else{let n=Bm;st.mutateApproach===yC&&(n=$i.requestAnimationFrame||Bm),n(()=>{const s=f_(),r=kg.begin("mutate");i.map(s),r(),e()})}}let Rg=!1;function xy(){Rg=!0}function Pf(){Rg=!1}let Rh=null;function zm(i){if(!_m||!st.observeMutations)return;const{treeCallback:t=qd,nodeCallback:e=qd,pseudoElementsCallback:n=qd,observeMutationsRoot:s=Vt}=i;Rh=new _m(r=>{if(Rg)return;const a=Ui();Vo(r).forEach(o=>{if(o.type==="childList"&&o.addedNodes.length>0&&!Hm(o.addedNodes[0])&&(st.searchPseudoElements&&n(o.target),t(o.target)),o.type==="attributes"&&o.target.parentNode&&st.searchPseudoElements&&n(o.target.parentNode),o.type==="attributes"&&Hm(o.target)&&~CC.indexOf(o.attributeName))if(o.attributeName==="class"&&h_(o.target)){const{prefix:l,iconName:d}=gu(Eg(o.target));o.target.setAttribute(yg,l||a),d&&o.target.setAttribute(wg,d)}else u_(o.target)&&e(o.target)})}),oi&&Rh.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function v_(){Rh&&Rh.disconnect()}function b_(i){const t=i.getAttribute("style");let e=[];return t&&(e=t.split(";").reduce((n,s)=>{const r=s.split(":"),a=r[0],o=r.slice(1);return a&&o.length>0&&(n[a]=o.join(":").trim()),n},{})),e}function y_(i){const t=i.getAttribute("data-prefix"),e=i.getAttribute("data-icon"),n=i.innerText!==void 0?i.innerText.trim():"";let s=gu(Eg(i));return s.prefix||(s.prefix=Ui()),t&&e&&(s.prefix=t,s.iconName=e),s.iconName&&s.prefix||(s.prefix&&n.length>0&&(s.iconName=WC(s.prefix,i.innerText)||Cg(s.prefix,Ef(i.innerText))),!s.iconName&&st.autoFetchSvg&&i.firstChild&&i.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=i.firstChild.data)),s}function w_(i){const t=Vo(i.attributes).reduce((s,r)=>(s.name!=="class"&&s.name!=="style"&&(s[r.name]=r.value),s),{}),e=i.getAttribute("title"),n=i.getAttribute("data-fa-title-id");return st.autoA11y&&(e?t["aria-labelledby"]="".concat(st.replacementClass,"-title-").concat(n||Ll()):(t["aria-hidden"]="true",t.focusable="false")),t}function A_(){return{iconName:null,title:null,titleId:null,prefix:null,transform:ls,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function jm(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:e,prefix:n,rest:s}=y_(i),r=w_(i),a=Sf("parseNodeAttributes",{},i);let o=t.styleParser?b_(i):[];return j({iconName:e,title:i.getAttribute("title"),titleId:i.getAttribute("data-fa-title-id"),prefix:n,transform:ls,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:o,attributes:r}},a)}const{styles:E_}=cs;function Sy(i){const t=st.autoReplaceSvg==="nest"?jm(i,{styleParser:!1}):jm(i);return~t.extra.classes.indexOf(iy)?Wi("generateLayersText",i,t):Wi("generateSvgReplacementMutation",i,t)}function x_(){return[...sC,...mf]}function $m(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!oi)return Promise.resolve();const e=Vt.documentElement.classList,n=h=>e.add("".concat(Pm,"-").concat(h)),s=h=>e.remove("".concat(Pm,"-").concat(h)),r=st.autoFetchSvg?x_():Qb.concat(Object.keys(E_));r.includes("fa")||r.push("fa");const a=[".".concat(iy,":not([").concat(la,"])")].concat(r.map(h=>".".concat(h,":not([").concat(la,"])"))).join(", ");if(a.length===0)return Promise.resolve();let o=[];try{o=Vo(i.querySelectorAll(a))}catch{}if(o.length>0)n("pending"),s("complete");else return Promise.resolve();const l=kg.begin("onTree"),d=o.reduce((h,u)=>{try{const f=Sy(u);f&&h.push(f)}catch(f){ny||f.name==="MissingIcon"&&console.error(f)}return h},[]);return new Promise((h,u)=>{Promise.all(d).then(f=>{Ey(f,()=>{n("active"),n("complete"),s("pending"),typeof t=="function"&&t(),l(),h()})}).catch(f=>{l(),u(f)})})}function S_(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Sy(i).then(e=>{e&&Ey([e],t)})}function C_(i){return function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=(t||{}).icon?t:Cf(t||{});let{mask:s}=e;return s&&(s=(s||{}).icon?s:Cf(s||{})),i(n,j(j({},e),{},{mask:s}))}}const __=function(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:e=ls,symbol:n=!1,mask:s=null,maskId:r=null,title:a=null,titleId:o=null,classes:l=[],attributes:d={},styles:h={}}=t;if(!i)return;const{prefix:u,iconName:f,icon:p}=i;return mu(j({type:"icon"},i),()=>(ca("beforeDOMElementCreation",{iconDefinition:i,params:t}),st.autoA11y&&(a?d["aria-labelledby"]="".concat(st.replacementClass,"-title-").concat(o||Ll()):(d["aria-hidden"]="true",d.focusable="false")),_g({icons:{main:_f(p),mask:s?_f(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:u,iconName:f,transform:j(j({},ls),e),symbol:n,title:a,maskId:r,titleId:o,extra:{attributes:d,styles:h,classes:l}})))};var k_={mixout(){return{icon:C_(__)}},hooks(){return{mutationObserverCallbacks(i){return i.treeCallback=$m,i.nodeCallback=S_,i}}},provides(i){i.i2svg=function(t){const{node:e=Vt,callback:n=()=>{}}=t;return $m(e,n)},i.generateSvgReplacementMutation=function(t,e){const{iconName:n,title:s,titleId:r,prefix:a,transform:o,symbol:l,mask:d,maskId:h,extra:u}=e;return new Promise((f,p)=>{Promise.all([kf(n,a),d.iconName?kf(d.iconName,d.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(g=>{let[m,b]=g;f([t,_g({icons:{main:m,mask:b},prefix:a,iconName:n,transform:o,symbol:l,maskId:h,title:s,titleId:r,extra:u,watchable:!0})])}).catch(p)})},i.generateAbstractIcon=function(t){let{children:e,attributes:n,main:s,transform:r,styles:a}=t;const o=fu(a);o.length>0&&(n.style=o);let l;return xg(r)&&(l=Wi("generateAbstractTransformGrouping",{main:s,transform:r,containerWidth:s.width,iconWidth:s.width})),e.push(l||s.icon),{children:e,attributes:n}}}},R_={mixout(){return{layer(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:e=[]}=t;return mu({type:"layer"},()=>{ca("beforeDOMElementCreation",{assembler:i,params:t});let n=[];return i(s=>{Array.isArray(s)?s.map(r=>{n=n.concat(r.abstract)}):n=n.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(st.cssPrefix,"-layers"),...e].join(" ")},children:n}]})}}}},P_={mixout(){return{counter(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:e=null,classes:n=[],attributes:s={},styles:r={}}=t;return mu({type:"counter",content:i},()=>(ca("beforeDOMElementCreation",{content:i,params:t}),o_({content:i.toString(),title:e,extra:{attributes:s,styles:r,classes:["".concat(st.cssPrefix,"-layers-counter"),...n]}})))}}}},T_={mixout(){return{text(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:e=ls,title:n=null,classes:s=[],attributes:r={},styles:a={}}=t;return mu({type:"text",content:i},()=>(ca("beforeDOMElementCreation",{content:i,params:t}),Nm({content:i,transform:j(j({},ls),e),title:n,extra:{attributes:r,styles:a,classes:["".concat(st.cssPrefix,"-layers-text"),...s]}})))}}},provides(i){i.generateLayersText=function(t,e){const{title:n,transform:s,extra:r}=e;let a=null,o=null;if(Yb){const l=parseInt(getComputedStyle(t).fontSize,10),d=t.getBoundingClientRect();a=d.width/l,o=d.height/l}return st.autoA11y&&!n&&(r.attributes["aria-hidden"]="true"),Promise.resolve([t,Nm({content:t.innerHTML,width:a,height:o,transform:s,title:n,extra:r,watchable:!0})])}}};const L_=new RegExp('"',"ug"),Um=[1105920,1112319],Wm=j(j(j(j({},{FontAwesome:{normal:"fas",400:"fas"}}),tC),vC),dC),Tf=Object.keys(Wm).reduce((i,t)=>(i[t.toLowerCase()]=Wm[t],i),{}),M_=Object.keys(Tf).reduce((i,t)=>{const e=Tf[t];return i[t]=e[900]||[...Object.entries(e)][0][1],i},{});function I_(i){const t=i.replace(L_,""),e=BC(t,0),n=e>=Um[0]&&e<=Um[1],s=t.length===2?t[0]===t[1]:!1;return{value:Ef(s?t[0]:t),isSecondary:n||s}}function D_(i,t){const e=i.replace(/^['"]|['"]$/g,"").toLowerCase(),n=parseInt(t),s=isNaN(n)?"normal":n;return(Tf[e]||{})[s]||M_[e]}function Vm(i,t){const e="".concat(bC).concat(t.replace(":","-"));return new Promise((n,s)=>{if(i.getAttribute(e)!==null)return n();const a=Vo(i.children).filter(f=>f.getAttribute(bf)===t)[0],o=$i.getComputedStyle(i,t),l=o.getPropertyValue("font-family"),d=l.match(xC),h=o.getPropertyValue("font-weight"),u=o.getPropertyValue("content");if(a&&!d)return i.removeChild(a),n();if(d&&u!=="none"&&u!==""){const f=o.getPropertyValue("content");let p=D_(l,h);const{value:g,isSecondary:m}=I_(f),b=d[0].startsWith("FontAwesome");let v=Cg(p,g),E=v;if(b){const x=VC(g);x.iconName&&x.prefix&&(v=x.iconName,p=x.prefix)}if(v&&!m&&(!a||a.getAttribute(yg)!==p||a.getAttribute(wg)!==E)){i.setAttribute(e,E),a&&i.removeChild(a);const x=A_(),{extra:C}=x;C.attributes[bf]=t,kf(v,p).then(S=>{const k=_g(j(j({},x),{},{icons:{main:S,mask:by()},prefix:p,iconName:E,extra:C,watchable:!0})),L=Vt.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?i.insertBefore(L,i.firstChild):i.appendChild(L),L.outerHTML=k.map(T=>gd(T)).join(`
`),i.removeAttribute(e),n()}).catch(s)}else n()}else n()})}function O_(i){return Promise.all([Vm(i,"::before"),Vm(i,"::after")])}function N_(i){return i.parentNode!==document.head&&!~wC.indexOf(i.tagName.toUpperCase())&&!i.getAttribute(bf)&&(!i.parentNode||i.parentNode.tagName!=="svg")}function qm(i){if(oi)return new Promise((t,e)=>{const n=Vo(i.querySelectorAll("*")).filter(N_).map(O_),s=kg.begin("searchPseudoElements");xy(),Promise.all(n).then(()=>{s(),Pf(),t()}).catch(()=>{s(),Pf(),e()})})}var F_={hooks(){return{mutationObserverCallbacks(i){return i.pseudoElementsCallback=qm,i}}},provides(i){i.pseudoElements2svg=function(t){const{node:e=Vt}=t;st.searchPseudoElements&&qm(e)}}};let Gm=!1;var H_={mixout(){return{dom:{unwatch(){xy(),Gm=!0}}}},hooks(){return{bootstrap(){zm(Sf("mutationObserverCallbacks",{}))},noAuto(){v_()},watch(i){const{observeMutationsRoot:t}=i;Gm?Pf():zm(Sf("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}};const Xm=i=>{let t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return i.toLowerCase().split(" ").reduce((e,n)=>{const s=n.toLowerCase().split("-"),r=s[0];let a=s.slice(1).join("-");if(r&&a==="h")return e.flipX=!0,e;if(r&&a==="v")return e.flipY=!0,e;if(a=parseFloat(a),isNaN(a))return e;switch(r){case"grow":e.size=e.size+a;break;case"shrink":e.size=e.size-a;break;case"left":e.x=e.x-a;break;case"right":e.x=e.x+a;break;case"up":e.y=e.y-a;break;case"down":e.y=e.y+a;break;case"rotate":e.rotate=e.rotate+a;break}return e},t)};var B_={mixout(){return{parse:{transform:i=>Xm(i)}}},hooks(){return{parseNodeAttributes(i,t){const e=t.getAttribute("data-fa-transform");return e&&(i.transform=Xm(e)),i}}},provides(i){i.generateAbstractTransformGrouping=function(t){let{main:e,transform:n,containerWidth:s,iconWidth:r}=t;const a={transform:"translate(".concat(s/2," 256)")},o="translate(".concat(n.x*32,", ").concat(n.y*32,") "),l="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),d="rotate(".concat(n.rotate," 0 0)"),h={transform:"".concat(o," ").concat(l," ").concat(d)},u={transform:"translate(".concat(r/2*-1," -256)")},f={outer:a,inner:h,path:u};return{tag:"g",attributes:j({},f.outer),children:[{tag:"g",attributes:j({},f.inner),children:[{tag:e.icon.tag,children:e.icon.children,attributes:j(j({},e.icon.attributes),f.path)}]}]}}}};const Wu={x:0,y:0,width:"100%",height:"100%"};function Ym(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return i.attributes&&(i.attributes.fill||t)&&(i.attributes.fill="black"),i}function z_(i){return i.tag==="g"?i.children:[i]}var j_={hooks(){return{parseNodeAttributes(i,t){const e=t.getAttribute("data-fa-mask"),n=e?gu(e.split(" ").map(s=>s.trim())):by();return n.prefix||(n.prefix=Ui()),i.mask=n,i.maskId=t.getAttribute("data-fa-mask-id"),i}}},provides(i){i.generateAbstractMask=function(t){let{children:e,attributes:n,main:s,mask:r,maskId:a,transform:o}=t;const{width:l,icon:d}=s,{width:h,icon:u}=r,f=IC({transform:o,containerWidth:h,iconWidth:l}),p={tag:"rect",attributes:j(j({},Wu),{},{fill:"white"})},g=d.children?{children:d.children.map(Ym)}:{},m={tag:"g",attributes:j({},f.inner),children:[Ym(j({tag:d.tag,attributes:j(j({},d.attributes),f.path)},g))]},b={tag:"g",attributes:j({},f.outer),children:[m]},v="mask-".concat(a||Ll()),E="clip-".concat(a||Ll()),x={tag:"mask",attributes:j(j({},Wu),{},{id:v,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,b]},C={tag:"defs",children:[{tag:"clipPath",attributes:{id:E},children:z_(u)},x]};return e.push(C,{tag:"rect",attributes:j({fill:"currentColor","clip-path":"url(#".concat(E,")"),mask:"url(#".concat(v,")")},Wu)}),{children:e,attributes:n}}}},$_={provides(i){let t=!1;$i.matchMedia&&(t=$i.matchMedia("(prefers-reduced-motion: reduce)").matches),i.missingIconAbstract=function(){const e=[],n={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:j(j({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const r=j(j({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:j(j({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:j(j({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:j(j({},r),{},{values:"1;0;1;1;0;1;"})}),e.push(a),e.push({tag:"path",attributes:j(j({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:j(j({},r),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:j(j({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:j(j({},r),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}},U_={hooks(){return{parseNodeAttributes(i,t){const e=t.getAttribute("data-fa-symbol"),n=e===null?!1:e===""?!0:e;return i.symbol=n,i}}}},W_=[NC,k_,R_,P_,T_,F_,H_,B_,j_,$_,U_];t_(W_,{mixoutsTo:hn});hn.noAuto;const _T=hn.config;hn.library;hn.dom;const Lf=hn.parse;hn.findIconDefinition;hn.toHtml;const V_=hn.icon;hn.layer;hn.text;hn.counter;var Vu={exports:{}},qu,Km;function q_(){if(Km)return qu;Km=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return qu=i,qu}var Gu,Qm;function G_(){if(Qm)return Gu;Qm=1;var i=q_();function t(){}function e(){}return e.resetWarningCache=t,Gu=function(){function n(a,o,l,d,h,u){if(u!==i){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}n.isRequired=n;function s(){return n}var r={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:e,resetWarningCache:t};return r.PropTypes=r,r},Gu}var Jm;function X_(){return Jm||(Jm=1,Vu.exports=G_()()),Vu.exports}var Y_=X_();const At=zv(Y_);function Zm(i,t){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),e.push.apply(e,n)}return e}function as(i){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Zm(Object(e),!0).forEach(function(n){Ta(i,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):Zm(Object(e)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(e,n))})}return i}function Ph(i){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ph(i)}function Ta(i,t,e){return t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function K_(i,t){if(i==null)return{};var e={},n=Object.keys(i),s,r;for(r=0;r<n.length;r++)s=n[r],!(t.indexOf(s)>=0)&&(e[s]=i[s]);return e}function Q_(i,t){if(i==null)return{};var e=K_(i,t),n,s;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);for(s=0;s<r.length;s++)n=r[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(i,n)&&(e[n]=i[n])}return e}function Mf(i){return J_(i)||Z_(i)||tk(i)||ek()}function J_(i){if(Array.isArray(i))return If(i)}function Z_(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function tk(i,t){if(i){if(typeof i=="string")return If(i,t);var e=Object.prototype.toString.call(i).slice(8,-1);if(e==="Object"&&i.constructor&&(e=i.constructor.name),e==="Map"||e==="Set")return Array.from(i);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return If(i,t)}}function If(i,t){(t==null||t>i.length)&&(t=i.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=i[e];return n}function ek(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nk(i){var t,e=i.beat,n=i.fade,s=i.beatFade,r=i.bounce,a=i.shake,o=i.flash,l=i.spin,d=i.spinPulse,h=i.spinReverse,u=i.pulse,f=i.fixedWidth,p=i.inverse,g=i.border,m=i.listItem,b=i.flip,v=i.size,E=i.rotation,x=i.pull,C=(t={"fa-beat":e,"fa-fade":n,"fa-beat-fade":s,"fa-bounce":r,"fa-shake":a,"fa-flash":o,"fa-spin":l,"fa-spin-reverse":h,"fa-spin-pulse":d,"fa-pulse":u,"fa-fw":f,"fa-inverse":p,"fa-border":g,"fa-li":m,"fa-flip":b===!0,"fa-flip-horizontal":b==="horizontal"||b==="both","fa-flip-vertical":b==="vertical"||b==="both"},Ta(t,"fa-".concat(v),typeof v<"u"&&v!==null),Ta(t,"fa-rotate-".concat(E),typeof E<"u"&&E!==null&&E!==0),Ta(t,"fa-pull-".concat(x),typeof x<"u"&&x!==null),Ta(t,"fa-swap-opacity",i.swapOpacity),t);return Object.keys(C).map(function(S){return C[S]?S:null}).filter(function(S){return S})}function sk(i){return i=i-0,i===i}function Cy(i){return sk(i)?i:(i=i.replace(/[\-_\s]+(.)?/g,function(t,e){return e?e.toUpperCase():""}),i.substr(0,1).toLowerCase()+i.substr(1))}var ik=["style"];function rk(i){return i.charAt(0).toUpperCase()+i.slice(1)}function ak(i){return i.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var n=e.indexOf(":"),s=Cy(e.slice(0,n)),r=e.slice(n+1).trim();return s.startsWith("webkit")?t[rk(s)]=r:t[s]=r,t},{})}function _y(i,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var n=(t.children||[]).map(function(l){return _y(i,l)}),s=Object.keys(t.attributes||{}).reduce(function(l,d){var h=t.attributes[d];switch(d){case"class":l.attrs.className=h,delete t.attributes.class;break;case"style":l.attrs.style=ak(h);break;default:d.indexOf("aria-")===0||d.indexOf("data-")===0?l.attrs[d.toLowerCase()]=h:l.attrs[Cy(d)]=h}return l},{attrs:{}}),r=e.style,a=r===void 0?{}:r,o=Q_(e,ik);return s.attrs.style=as(as({},s.attrs.style),a),i.apply(void 0,[t.tag,as(as({},s.attrs),o)].concat(Mf(n)))}var ky=!1;try{ky=!0}catch{}function ok(){if(!ky&&console&&typeof console.error=="function"){var i;(i=console).error.apply(i,arguments)}}function tv(i){if(i&&Ph(i)==="object"&&i.prefix&&i.iconName&&i.icon)return i;if(Lf.icon)return Lf.icon(i);if(i===null)return null;if(i&&Ph(i)==="object"&&i.prefix&&i.iconName)return i;if(Array.isArray(i)&&i.length===2)return{prefix:i[0],iconName:i[1]};if(typeof i=="string")return{prefix:"fas",iconName:i}}function Xu(i,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Ta({},i,t):{}}var ev={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},Ry=jv.forwardRef(function(i,t){var e=as(as({},ev),i),n=e.icon,s=e.mask,r=e.symbol,a=e.className,o=e.title,l=e.titleId,d=e.maskId,h=tv(n),u=Xu("classes",[].concat(Mf(nk(e)),Mf((a||"").split(" ")))),f=Xu("transform",typeof e.transform=="string"?Lf.transform(e.transform):e.transform),p=Xu("mask",tv(s)),g=V_(h,as(as(as(as({},u),f),p),{},{symbol:r,title:o,titleId:l,maskId:d}));if(!g)return ok("Could not find icon",h),null;var m=g.abstract,b={ref:t};return Object.keys(e).forEach(function(v){ev.hasOwnProperty(v)||(b[v]=e[v])}),lk(m[0],b)});Ry.displayName="FontAwesomeIcon";Ry.propTypes={beat:At.bool,border:At.bool,beatFade:At.bool,bounce:At.bool,className:At.string,fade:At.bool,flash:At.bool,mask:At.oneOfType([At.object,At.array,At.string]),maskId:At.string,fixedWidth:At.bool,inverse:At.bool,flip:At.oneOf([!0,!1,"horizontal","vertical","both"]),icon:At.oneOfType([At.object,At.array,At.string]),listItem:At.bool,pull:At.oneOf(["right","left"]),pulse:At.bool,rotation:At.oneOf([0,90,180,270]),shake:At.bool,size:At.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:At.bool,spinPulse:At.bool,spinReverse:At.bool,symbol:At.oneOfType([At.bool,At.string]),title:At.string,titleId:At.string,transform:At.oneOfType([At.string,At.object]),swapOpacity:At.bool};var lk=_y.bind(null,jv.createElement);/*!
 * reveal.js 5.2.0
 * https://revealjs.com
 * MIT licensed
 *
 * Copyright (C) 2011-2024 Hakim El Hattab, https://hakim.se
 */const La=(i,t)=>{for(let e in t)i[e]=t[e];return i},rt=(i,t)=>Array.from(i.querySelectorAll(t)),Yu=(i,t,e)=>{e?i.classList.add(t):i.classList.remove(t)},Ea=i=>{if(typeof i=="string"){if(i==="null")return null;if(i==="true")return!0;if(i==="false")return!1;if(i.match(/^-?[\d\.]+$/))return parseFloat(i)}return i},vi=(i,t)=>{i.style.transform=t},Th=(i,t)=>{let e=i.matches||i.matchesSelector||i.msMatchesSelector;return!(!e||!e.call(i,t))},Pe=(i,t)=>{if(typeof i.closest=="function")return i.closest(t);for(;i;){if(Th(i,t))return i;i=i.parentNode}return null},Py=i=>{let t=(i=i||document.documentElement).requestFullscreen||i.webkitRequestFullscreen||i.webkitRequestFullScreen||i.mozRequestFullScreen||i.msRequestFullscreen;t&&t.apply(i)},Df=i=>{let t=document.createElement("style");return t.type="text/css",i&&i.length>0&&(t.styleSheet?t.styleSheet.cssText=i:t.appendChild(document.createTextNode(i))),document.head.appendChild(t),t},nv=()=>{let i={};location.search.replace(/[A-Z0-9]+?=([\w\.%-]*)/gi,t=>{i[t.split("=").shift()]=t.split("=").pop()});for(let t in i){let e=i[t];i[t]=Ea(unescape(e))}return i.dependencies!==void 0&&delete i.dependencies,i},ck={mp4:"video/mp4",m4a:"video/mp4",ogv:"video/ogg",mpeg:"video/mpeg",webm:"video/webm"},Ty=navigator.userAgent,Oa=/(iphone|ipod|ipad|android)/gi.test(Ty)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,Ly=/android/gi.test(Ty);var dk=function(i){if(i){var t=function(_){return[].slice.call(_)},e=3,n=[],s=null,r="requestAnimationFrame"in i?function(){i.cancelAnimationFrame(s),s=i.requestAnimationFrame(function(){return o(n.filter(function(_){return _.dirty&&_.active}))})}:function(){},a=function(_){return function(){n.forEach(function(I){return I.dirty=_}),r()}},o=function(_){_.filter(function(F){return!F.styleComputed}).forEach(function(F){F.styleComputed=u(F)}),_.filter(f).forEach(p);var I=_.filter(h);I.forEach(d),I.forEach(function(F){p(F),l(F)}),I.forEach(g)},l=function(_){return _.dirty=0},d=function(_){_.availableWidth=_.element.parentNode.clientWidth,_.currentWidth=_.element.scrollWidth,_.previousFontSize=_.currentFontSize,_.currentFontSize=Math.min(Math.max(_.minSize,_.availableWidth/_.currentWidth*_.previousFontSize),_.maxSize),_.whiteSpace=_.multiLine&&_.currentFontSize===_.minSize?"normal":"nowrap"},h=function(_){return _.dirty!==2||_.dirty===2&&_.element.parentNode.clientWidth!==_.availableWidth},u=function(_){var I=i.getComputedStyle(_.element,null);return _.currentFontSize=parseFloat(I.getPropertyValue("font-size")),_.display=I.getPropertyValue("display"),_.whiteSpace=I.getPropertyValue("white-space"),!0},f=function(_){var I=!1;return!_.preStyleTestCompleted&&(/inline-/.test(_.display)||(I=!0,_.display="inline-block"),_.whiteSpace!=="nowrap"&&(I=!0,_.whiteSpace="nowrap"),_.preStyleTestCompleted=!0,I)},p=function(_){_.element.style.whiteSpace=_.whiteSpace,_.element.style.display=_.display,_.element.style.fontSize=_.currentFontSize+"px"},g=function(_){_.element.dispatchEvent(new CustomEvent("fit",{detail:{oldValue:_.previousFontSize,newValue:_.currentFontSize,scaleFactor:_.currentFontSize/_.previousFontSize}}))},m=function(_,I){return function(){_.dirty=I,_.active&&r()}},b=function(_){return function(){n=n.filter(function(I){return I.element!==_.element}),_.observeMutations&&_.observer.disconnect(),_.element.style.whiteSpace=_.originalStyle.whiteSpace,_.element.style.display=_.originalStyle.display,_.element.style.fontSize=_.originalStyle.fontSize}},v=function(_){return function(){_.active||(_.active=!0,r())}},E=function(_){return function(){return _.active=!1}},x=function(_){_.observeMutations&&(_.observer=new MutationObserver(m(_,1)),_.observer.observe(_.element,_.observeMutations))},C={minSize:16,maxSize:512,multiLine:!0,observeMutations:"MutationObserver"in i&&{subtree:!0,childList:!0,characterData:!0}},S=null,k=function(){i.clearTimeout(S),S=i.setTimeout(a(2),M.observeWindowDelay)},L=["resize","orientationchange"];return Object.defineProperty(M,"observeWindow",{set:function(_){var I="".concat(_?"add":"remove","EventListener");L.forEach(function(F){i[I](F,k)})}}),M.observeWindow=!0,M.observeWindowDelay=100,M.fitAll=a(e),M}function T(_,I){var F=Object.assign({},C,I),H=_.map(function(B){var W=Object.assign({},F,{element:B,active:!0});return function($){$.originalStyle={whiteSpace:$.element.style.whiteSpace,display:$.element.style.display,fontSize:$.element.style.fontSize},x($),$.newbie=!0,$.dirty=!0,n.push($)}(W),{element:B,fit:m(W,e),unfreeze:v(W),freeze:E(W),unsubscribe:b(W)}});return r(),H}function M(_){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return typeof _=="string"?T(t(document.querySelectorAll(_)),I):T([_],I)[0]}}(typeof window>"u"?null:window);class hk{constructor(t){this.Reveal=t,this.startEmbeddedIframe=this.startEmbeddedIframe.bind(this)}shouldPreload(t){if(this.Reveal.isScrollView())return!0;let e=this.Reveal.getConfig().preloadIframes;return typeof e!="boolean"&&(e=t.hasAttribute("data-preload")),e}load(t,e={}){t.style.display=this.Reveal.getConfig().display,rt(t,"img[data-src], video[data-src], audio[data-src], iframe[data-src]").forEach(s=>{(s.tagName!=="IFRAME"||this.shouldPreload(s))&&(s.setAttribute("src",s.getAttribute("data-src")),s.setAttribute("data-lazy-loaded",""),s.removeAttribute("data-src"))}),rt(t,"video, audio").forEach(s=>{let r=0;rt(s,"source[data-src]").forEach(a=>{a.setAttribute("src",a.getAttribute("data-src")),a.removeAttribute("data-src"),a.setAttribute("data-lazy-loaded",""),r+=1}),Oa&&s.tagName==="VIDEO"&&s.setAttribute("playsinline",""),r>0&&s.load()});let n=t.slideBackgroundElement;if(n){n.style.display="block";let s=t.slideBackgroundContentElement,r=t.getAttribute("data-background-iframe");if(n.hasAttribute("data-loaded")===!1){n.setAttribute("data-loaded","true");let o=t.getAttribute("data-background-image"),l=t.getAttribute("data-background-video"),d=t.hasAttribute("data-background-video-loop"),h=t.hasAttribute("data-background-video-muted");if(o)/^data:/.test(o.trim())?s.style.backgroundImage=`url(${o.trim()})`:s.style.backgroundImage=o.split(",").map(u=>`url(${((f="")=>encodeURI(f).replace(/%5B/g,"[").replace(/%5D/g,"]").replace(/[!'()*]/g,p=>`%${p.charCodeAt(0).toString(16).toUpperCase()}`))(decodeURI(u.trim()))})`).join(",");else if(l){let u=document.createElement("video");d&&u.setAttribute("loop",""),(h||this.Reveal.isSpeakerNotes())&&(u.muted=!0),Oa&&(u.muted=!0,u.setAttribute("playsinline","")),l.split(",").forEach(f=>{const p=document.createElement("source");p.setAttribute("src",f);let g=((m="")=>ck[m.split(".").pop()])(f);g&&p.setAttribute("type",g),u.appendChild(p)}),s.appendChild(u)}else if(r&&e.excludeIframes!==!0){let u=document.createElement("iframe");u.setAttribute("allowfullscreen",""),u.setAttribute("mozallowfullscreen",""),u.setAttribute("webkitallowfullscreen",""),u.setAttribute("allow","autoplay"),u.setAttribute("data-src",r),u.style.width="100%",u.style.height="100%",u.style.maxHeight="100%",u.style.maxWidth="100%",s.appendChild(u)}}let a=s.querySelector("iframe[data-src]");a&&this.shouldPreload(n)&&!/autoplay=(1|true|yes)/gi.test(r)&&a.getAttribute("src")!==r&&a.setAttribute("src",r)}this.layout(t)}layout(t){Array.from(t.querySelectorAll(".r-fit-text")).forEach(e=>{dk(e,{minSize:24,maxSize:.8*this.Reveal.getConfig().height,observeMutations:!1,observeWindow:!1})})}unload(t){t.style.display="none";let e=this.Reveal.getSlideBackground(t);e&&(e.style.display="none",rt(e,"iframe[src]").forEach(n=>{n.removeAttribute("src")})),rt(t,"video[data-lazy-loaded][src], audio[data-lazy-loaded][src], iframe[data-lazy-loaded][src]").forEach(n=>{n.setAttribute("data-src",n.getAttribute("src")),n.removeAttribute("src")}),rt(t,"video[data-lazy-loaded] source[src], audio source[src]").forEach(n=>{n.setAttribute("data-src",n.getAttribute("src")),n.removeAttribute("src")})}formatEmbeddedContent(){let t=(e,n,s)=>{rt(this.Reveal.getSlidesElement(),"iframe["+e+'*="'+n+'"]').forEach(r=>{let a=r.getAttribute(e);a&&a.indexOf(s)===-1&&r.setAttribute(e,a+(/\?/.test(a)?"&":"?")+s)})};t("src","youtube.com/embed/","enablejsapi=1"),t("data-src","youtube.com/embed/","enablejsapi=1"),t("src","player.vimeo.com/","api=1"),t("data-src","player.vimeo.com/","api=1")}startEmbeddedContent(t){if(t){const e=this.Reveal.isSpeakerNotes();rt(t,'img[src$=".gif"]').forEach(n=>{n.setAttribute("src",n.getAttribute("src"))}),rt(t,"video, audio").forEach(n=>{if(Pe(n,".fragment")&&!Pe(n,".fragment.visible"))return;let s=this.Reveal.getConfig().autoPlayMedia;if(typeof s!="boolean"&&(s=n.hasAttribute("data-autoplay")||!!Pe(n,".slide-background")),s&&typeof n.play=="function"){if(e&&!n.muted)return;if(n.readyState>1)this.startEmbeddedMedia({target:n});else if(Oa){let r=n.play();r&&typeof r.catch=="function"&&n.controls===!1&&r.catch(()=>{n.controls=!0,n.addEventListener("play",()=>{n.controls=!1})})}else n.removeEventListener("loadeddata",this.startEmbeddedMedia),n.addEventListener("loadeddata",this.startEmbeddedMedia)}}),e||(rt(t,"iframe[src]").forEach(n=>{Pe(n,".fragment")&&!Pe(n,".fragment.visible")||this.startEmbeddedIframe({target:n})}),rt(t,"iframe[data-src]").forEach(n=>{Pe(n,".fragment")&&!Pe(n,".fragment.visible")||n.getAttribute("src")!==n.getAttribute("data-src")&&(n.removeEventListener("load",this.startEmbeddedIframe),n.addEventListener("load",this.startEmbeddedIframe),n.setAttribute("src",n.getAttribute("data-src")))}))}}startEmbeddedMedia(t){let e=!!Pe(t.target,"html"),n=!!Pe(t.target,".present");e&&n&&(t.target.paused||t.target.ended)&&(t.target.currentTime=0,t.target.play()),t.target.removeEventListener("loadeddata",this.startEmbeddedMedia)}startEmbeddedIframe(t){let e=t.target;if(e&&e.contentWindow){let n=!!Pe(t.target,"html"),s=!!Pe(t.target,".present");if(n&&s){let r=this.Reveal.getConfig().autoPlayMedia;typeof r!="boolean"&&(r=e.hasAttribute("data-autoplay")||!!Pe(e,".slide-background")),/youtube\.com\/embed\//.test(e.getAttribute("src"))&&r?e.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*"):/player\.vimeo\.com\//.test(e.getAttribute("src"))&&r?e.contentWindow.postMessage('{"method":"play"}',"*"):e.contentWindow.postMessage("slide:start","*")}}}stopEmbeddedContent(t,e={}){e=La({unloadIframes:!0},e),t&&t.parentNode&&(rt(t,"video, audio").forEach(n=>{n.hasAttribute("data-ignore")||typeof n.pause!="function"||(n.setAttribute("data-paused-by-reveal",""),n.pause())}),rt(t,"iframe").forEach(n=>{n.contentWindow&&n.contentWindow.postMessage("slide:stop","*"),n.removeEventListener("load",this.startEmbeddedIframe)}),rt(t,'iframe[src*="youtube.com/embed/"]').forEach(n=>{!n.hasAttribute("data-ignore")&&n.contentWindow&&typeof n.contentWindow.postMessage=="function"&&n.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}),rt(t,'iframe[src*="player.vimeo.com/"]').forEach(n=>{!n.hasAttribute("data-ignore")&&n.contentWindow&&typeof n.contentWindow.postMessage=="function"&&n.contentWindow.postMessage('{"method":"pause"}',"*")}),e.unloadIframes===!0&&rt(t,"iframe[data-src]").forEach(n=>{n.setAttribute("src","about:blank"),n.removeAttribute("src")}))}}const dr=".slides section",fi=".slides>section",sv=".slides>section.present>section",uk=/registerPlugin|registerKeyboardShortcut|addKeyBinding|addEventListener|showPreview/;class fk{constructor(t){this.Reveal=t}render(){this.element=document.createElement("div"),this.element.className="slide-number",this.Reveal.getRevealElement().appendChild(this.element)}configure(t,e){let n="none";t.slideNumber&&!this.Reveal.isPrintView()&&(t.showSlideNumber==="all"||t.showSlideNumber==="speaker"&&this.Reveal.isSpeakerNotes())&&(n="block"),this.element.style.display=n}update(){this.Reveal.getConfig().slideNumber&&this.element&&(this.element.innerHTML=this.getSlideNumber())}getSlideNumber(t=this.Reveal.getCurrentSlide()){let e,n=this.Reveal.getConfig(),s="h.v";if(typeof n.slideNumber=="function")e=n.slideNumber(t);else{typeof n.slideNumber=="string"&&(s=n.slideNumber),/c/.test(s)||this.Reveal.getHorizontalSlides().length!==1||(s="c");let a=t&&t.dataset.visibility==="uncounted"?0:1;switch(e=[],s){case"c":e.push(this.Reveal.getSlidePastCount(t)+a);break;case"c/t":e.push(this.Reveal.getSlidePastCount(t)+a,"/",this.Reveal.getTotalSlides());break;default:let o=this.Reveal.getIndices(t);e.push(o.h+a);let l=s==="h/v"?"/":".";this.Reveal.isVerticalSlide(t)&&e.push(l,o.v+1)}}let r="#"+this.Reveal.location.getHash(t);return this.formatNumber(e[0],e[1],e[2],r)}formatNumber(t,e,n,s="#"+this.Reveal.location.getHash()){return typeof n!="number"||isNaN(n)?`<a href="${s}">
					<span class="slide-number-a">${t}</span>
					</a>`:`<a href="${s}">
					<span class="slide-number-a">${t}</span>
					<span class="slide-number-delimiter">${e}</span>
					<span class="slide-number-b">${n}</span>
					</a>`}destroy(){this.element.remove()}}class pk{constructor(t){this.Reveal=t,this.onInput=this.onInput.bind(this),this.onBlur=this.onBlur.bind(this),this.onKeyDown=this.onKeyDown.bind(this)}render(){this.element=document.createElement("div"),this.element.className="jump-to-slide",this.jumpInput=document.createElement("input"),this.jumpInput.type="text",this.jumpInput.className="jump-to-slide-input",this.jumpInput.placeholder="Jump to slide",this.jumpInput.addEventListener("input",this.onInput),this.jumpInput.addEventListener("keydown",this.onKeyDown),this.jumpInput.addEventListener("blur",this.onBlur),this.element.appendChild(this.jumpInput)}show(){this.indicesOnShow=this.Reveal.getIndices(),this.Reveal.getRevealElement().appendChild(this.element),this.jumpInput.focus()}hide(){this.isVisible()&&(this.element.remove(),this.jumpInput.value="",clearTimeout(this.jumpTimeout),delete this.jumpTimeout)}isVisible(){return!!this.element.parentNode}jump(){clearTimeout(this.jumpTimeout),delete this.jumpTimeout;let t,e=this.jumpInput.value.trim("");if(/^\d+$/.test(e)){const n=this.Reveal.getConfig().slideNumber;if(n==="c"||n==="c/t"){const s=this.Reveal.getSlides()[parseInt(e,10)-1];s&&(t=this.Reveal.getIndices(s))}}return t||(/^\d+\.\d+$/.test(e)&&(e=e.replace(".","/")),t=this.Reveal.location.getIndicesFromHash(e,{oneBasedIndex:!0})),!t&&/\S+/i.test(e)&&e.length>1&&(t=this.search(e)),t&&e!==""?(this.Reveal.slide(t.h,t.v,t.f),!0):(this.Reveal.slide(this.indicesOnShow.h,this.indicesOnShow.v,this.indicesOnShow.f),!1)}jumpAfter(t){clearTimeout(this.jumpTimeout),this.jumpTimeout=setTimeout(()=>this.jump(),t)}search(t){const e=new RegExp("\\b"+t.trim()+"\\b","i"),n=this.Reveal.getSlides().find(s=>e.test(s.innerText));return n?this.Reveal.getIndices(n):null}cancel(){this.Reveal.slide(this.indicesOnShow.h,this.indicesOnShow.v,this.indicesOnShow.f),this.hide()}confirm(){this.jump(),this.hide()}destroy(){this.jumpInput.removeEventListener("input",this.onInput),this.jumpInput.removeEventListener("keydown",this.onKeyDown),this.jumpInput.removeEventListener("blur",this.onBlur),this.element.remove()}onKeyDown(t){t.keyCode===13?this.confirm():t.keyCode===27&&(this.cancel(),t.stopImmediatePropagation())}onInput(t){this.jumpAfter(200)}onBlur(){setTimeout(()=>this.hide(),1)}}const Ku=i=>{let t=i.match(/^#([0-9a-f]{3})$/i);if(t&&t[1])return t=t[1],{r:17*parseInt(t.charAt(0),16),g:17*parseInt(t.charAt(1),16),b:17*parseInt(t.charAt(2),16)};let e=i.match(/^#([0-9a-f]{6})$/i);if(e&&e[1])return e=e[1],{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16)};let n=i.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i);if(n)return{r:parseInt(n[1],10),g:parseInt(n[2],10),b:parseInt(n[3],10)};let s=i.match(/^rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d]+|[\d]*.[\d]+)\s*\)$/i);return s?{r:parseInt(s[1],10),g:parseInt(s[2],10),b:parseInt(s[3],10),a:parseFloat(s[4])}:null};class gk{constructor(t){this.Reveal=t}render(){this.element=document.createElement("div"),this.element.className="backgrounds",this.Reveal.getRevealElement().appendChild(this.element)}create(){this.element.innerHTML="",this.element.classList.add("no-transition"),this.Reveal.getHorizontalSlides().forEach(t=>{let e=this.createBackground(t,this.element);rt(t,"section").forEach(n=>{this.createBackground(n,e),e.classList.add("stack")})}),this.Reveal.getConfig().parallaxBackgroundImage?(this.element.style.backgroundImage='url("'+this.Reveal.getConfig().parallaxBackgroundImage+'")',this.element.style.backgroundSize=this.Reveal.getConfig().parallaxBackgroundSize,this.element.style.backgroundRepeat=this.Reveal.getConfig().parallaxBackgroundRepeat,this.element.style.backgroundPosition=this.Reveal.getConfig().parallaxBackgroundPosition,setTimeout(()=>{this.Reveal.getRevealElement().classList.add("has-parallax-background")},1)):(this.element.style.backgroundImage="",this.Reveal.getRevealElement().classList.remove("has-parallax-background"))}createBackground(t,e){let n=document.createElement("div");n.className="slide-background "+t.className.replace(/present|past|future/,"");let s=document.createElement("div");return s.className="slide-background-content",n.appendChild(s),e.appendChild(n),t.slideBackgroundElement=n,t.slideBackgroundContentElement=s,this.sync(t),n}sync(t){const e=t.slideBackgroundElement,n=t.slideBackgroundContentElement,s={background:t.getAttribute("data-background"),backgroundSize:t.getAttribute("data-background-size"),backgroundImage:t.getAttribute("data-background-image"),backgroundVideo:t.getAttribute("data-background-video"),backgroundIframe:t.getAttribute("data-background-iframe"),backgroundColor:t.getAttribute("data-background-color"),backgroundGradient:t.getAttribute("data-background-gradient"),backgroundRepeat:t.getAttribute("data-background-repeat"),backgroundPosition:t.getAttribute("data-background-position"),backgroundTransition:t.getAttribute("data-background-transition"),backgroundOpacity:t.getAttribute("data-background-opacity")},r=t.hasAttribute("data-preload");t.classList.remove("has-dark-background"),t.classList.remove("has-light-background"),e.removeAttribute("data-loaded"),e.removeAttribute("data-background-hash"),e.removeAttribute("data-background-size"),e.removeAttribute("data-background-transition"),e.style.backgroundColor="",n.style.backgroundSize="",n.style.backgroundRepeat="",n.style.backgroundPosition="",n.style.backgroundImage="",n.style.opacity="",n.innerHTML="",s.background&&(/^(http|file|\/\/)/gi.test(s.background)||/\.(svg|png|jpg|jpeg|gif|bmp|webp)([?#\s]|$)/gi.test(s.background)?t.setAttribute("data-background-image",s.background):e.style.background=s.background),(s.background||s.backgroundColor||s.backgroundGradient||s.backgroundImage||s.backgroundVideo||s.backgroundIframe)&&e.setAttribute("data-background-hash",s.background+s.backgroundSize+s.backgroundImage+s.backgroundVideo+s.backgroundIframe+s.backgroundColor+s.backgroundGradient+s.backgroundRepeat+s.backgroundPosition+s.backgroundTransition+s.backgroundOpacity),s.backgroundSize&&e.setAttribute("data-background-size",s.backgroundSize),s.backgroundColor&&(e.style.backgroundColor=s.backgroundColor),s.backgroundGradient&&(e.style.backgroundImage=s.backgroundGradient),s.backgroundTransition&&e.setAttribute("data-background-transition",s.backgroundTransition),r&&e.setAttribute("data-preload",""),s.backgroundSize&&(n.style.backgroundSize=s.backgroundSize),s.backgroundRepeat&&(n.style.backgroundRepeat=s.backgroundRepeat),s.backgroundPosition&&(n.style.backgroundPosition=s.backgroundPosition),s.backgroundOpacity&&(n.style.opacity=s.backgroundOpacity);const a=this.getContrastClass(t);typeof a=="string"&&t.classList.add(a)}getContrastClass(t){const e=t.slideBackgroundElement;let n=t.getAttribute("data-background-color");if(!n||!Ku(n)){let r=window.getComputedStyle(e);r&&r.backgroundColor&&(n=r.backgroundColor)}if(n){const r=Ku(n);if(r&&r.a!==0)return typeof(s=n)=="string"&&(s=Ku(s)),(s?(299*s.r+587*s.g+114*s.b)/1e3:null)<128?"has-dark-background":"has-light-background"}var s;return null}bubbleSlideContrastClassToElement(t,e){["has-light-background","has-dark-background"].forEach(n=>{t.classList.contains(n)?e.classList.add(n):e.classList.remove(n)},this)}update(t=!1){let e=this.Reveal.getConfig(),n=this.Reveal.getCurrentSlide(),s=this.Reveal.getIndices(),r=null,a=e.rtl?"future":"past",o=e.rtl?"past":"future";if(Array.from(this.element.childNodes).forEach((d,h)=>{d.classList.remove("past","present","future"),h<s.h?d.classList.add(a):h>s.h?d.classList.add(o):(d.classList.add("present"),r=d),(t||h===s.h)&&rt(d,".slide-background").forEach((u,f)=>{u.classList.remove("past","present","future");const p=typeof s.v=="number"?s.v:0;f<p?u.classList.add("past"):f>p?u.classList.add("future"):(u.classList.add("present"),h===s.h&&(r=u))})}),this.previousBackground&&!this.previousBackground.closest("body")&&(this.previousBackground=null),r&&this.previousBackground){let d=this.previousBackground.getAttribute("data-background-hash"),h=r.getAttribute("data-background-hash");if(h&&h===d&&r!==this.previousBackground){this.element.classList.add("no-transition");const u=r.querySelector("video"),f=this.previousBackground.querySelector("video");if(u&&f){const p=u.parentNode;f.parentNode.appendChild(u),p.appendChild(f)}}}const l=r!==this.previousBackground;if(l&&this.previousBackground&&this.Reveal.slideContent.stopEmbeddedContent(this.previousBackground,{unloadIframes:!this.Reveal.slideContent.shouldPreload(this.previousBackground)}),l&&r){this.Reveal.slideContent.startEmbeddedContent(r);let d=r.querySelector(".slide-background-content");if(d){let h=d.style.backgroundImage||"";/\.gif/i.test(h)&&(d.style.backgroundImage="",window.getComputedStyle(d).opacity,d.style.backgroundImage=h)}this.previousBackground=r}n&&this.bubbleSlideContrastClassToElement(n,this.Reveal.getRevealElement()),setTimeout(()=>{this.element.classList.remove("no-transition")},10)}updateParallax(){let t=this.Reveal.getIndices();if(this.Reveal.getConfig().parallaxBackgroundImage){let e,n,s=this.Reveal.getHorizontalSlides(),r=this.Reveal.getVerticalSlides(),a=this.element.style.backgroundSize.split(" ");a.length===1?e=n=parseInt(a[0],10):(e=parseInt(a[0],10),n=parseInt(a[1],10));let o,l,d=this.element.offsetWidth,h=s.length;o=typeof this.Reveal.getConfig().parallaxBackgroundHorizontal=="number"?this.Reveal.getConfig().parallaxBackgroundHorizontal:h>1?(e-d)/(h-1):0,l=o*t.h*-1;let u,f,p=this.element.offsetHeight,g=r.length;u=typeof this.Reveal.getConfig().parallaxBackgroundVertical=="number"?this.Reveal.getConfig().parallaxBackgroundVertical:(n-p)/(g-1),f=g>0?u*t.v:0,this.element.style.backgroundPosition=l+"px "+-f+"px"}}destroy(){this.element.remove()}}let iv=0;class mk{constructor(t){this.Reveal=t}run(t,e){this.reset();let n=this.Reveal.getSlides(),s=n.indexOf(e),r=n.indexOf(t);if(t&&e&&t.hasAttribute("data-auto-animate")&&e.hasAttribute("data-auto-animate")&&t.getAttribute("data-auto-animate-id")===e.getAttribute("data-auto-animate-id")&&!(s>r?e:t).hasAttribute("data-auto-animate-restart")){this.autoAnimateStyleSheet=this.autoAnimateStyleSheet||Df();let a=this.getAutoAnimateOptions(e);t.dataset.autoAnimate="pending",e.dataset.autoAnimate="pending",a.slideDirection=s>r?"forward":"backward";let o=t.style.display==="none";o&&(t.style.display=this.Reveal.getConfig().display);let l=this.getAutoAnimatableElements(t,e).map(d=>this.autoAnimateElements(d.from,d.to,d.options||{},a,iv++));if(o&&(t.style.display="none"),e.dataset.autoAnimateUnmatched!=="false"&&this.Reveal.getConfig().autoAnimateUnmatched===!0){let d=.8*a.duration,h=.2*a.duration;this.getUnmatchedAutoAnimateElements(e).forEach(u=>{let f=this.getAutoAnimateOptions(u,a),p="unmatched";f.duration===a.duration&&f.delay===a.delay||(p="unmatched-"+iv++,l.push(`[data-auto-animate="running"] [data-auto-animate-target="${p}"] { transition: opacity ${f.duration}s ease ${f.delay}s; }`)),u.dataset.autoAnimateTarget=p},this),l.push(`[data-auto-animate="running"] [data-auto-animate-target="unmatched"] { transition: opacity ${d}s ease ${h}s; }`)}this.autoAnimateStyleSheet.innerHTML=l.join(""),requestAnimationFrame(()=>{this.autoAnimateStyleSheet&&(getComputedStyle(this.autoAnimateStyleSheet).fontWeight,e.dataset.autoAnimate="running")}),this.Reveal.dispatchEvent({type:"autoanimate",data:{fromSlide:t,toSlide:e,sheet:this.autoAnimateStyleSheet}})}}reset(){rt(this.Reveal.getRevealElement(),'[data-auto-animate]:not([data-auto-animate=""])').forEach(t=>{t.dataset.autoAnimate=""}),rt(this.Reveal.getRevealElement(),"[data-auto-animate-target]").forEach(t=>{delete t.dataset.autoAnimateTarget}),this.autoAnimateStyleSheet&&this.autoAnimateStyleSheet.parentNode&&(this.autoAnimateStyleSheet.parentNode.removeChild(this.autoAnimateStyleSheet),this.autoAnimateStyleSheet=null)}autoAnimateElements(t,e,n,s,r){t.dataset.autoAnimateTarget="",e.dataset.autoAnimateTarget=r;let a=this.getAutoAnimateOptions(e,s);n.delay!==void 0&&(a.delay=n.delay),n.duration!==void 0&&(a.duration=n.duration),n.easing!==void 0&&(a.easing=n.easing);let o=this.getAutoAnimatableProperties("from",t,n),l=this.getAutoAnimatableProperties("to",e,n);if(e.classList.contains("fragment")&&delete l.styles.opacity,n.translate!==!1||n.scale!==!1){let u=this.Reveal.getScale(),f={x:(o.x-l.x)/u,y:(o.y-l.y)/u,scaleX:o.width/l.width,scaleY:o.height/l.height};f.x=Math.round(1e3*f.x)/1e3,f.y=Math.round(1e3*f.y)/1e3,f.scaleX=Math.round(1e3*f.scaleX)/1e3,f.scaleX=Math.round(1e3*f.scaleX)/1e3;let p=n.translate!==!1&&(f.x!==0||f.y!==0),g=n.scale!==!1&&(f.scaleX!==0||f.scaleY!==0);if(p||g){let m=[];p&&m.push(`translate(${f.x}px, ${f.y}px)`),g&&m.push(`scale(${f.scaleX}, ${f.scaleY})`),o.styles.transform=m.join(" "),o.styles["transform-origin"]="top left",l.styles.transform="none"}}for(let u in l.styles){const f=l.styles[u],p=o.styles[u];f===p?delete l.styles[u]:(f.explicitValue===!0&&(l.styles[u]=f.value),p.explicitValue===!0&&(o.styles[u]=p.value))}let d="",h=Object.keys(l.styles);return h.length>0&&(o.styles.transition="none",l.styles.transition=`all ${a.duration}s ${a.easing} ${a.delay}s`,l.styles["transition-property"]=h.join(", "),l.styles["will-change"]=h.join(", "),d='[data-auto-animate-target="'+r+'"] {'+Object.keys(o.styles).map(u=>u+": "+o.styles[u]+" !important;").join("")+'}[data-auto-animate="running"] [data-auto-animate-target="'+r+'"] {'+Object.keys(l.styles).map(u=>u+": "+l.styles[u]+" !important;").join("")+"}"),d}getAutoAnimateOptions(t,e){let n={easing:this.Reveal.getConfig().autoAnimateEasing,duration:this.Reveal.getConfig().autoAnimateDuration,delay:0};if(n=La(n,e),t.parentNode){let s=Pe(t.parentNode,"[data-auto-animate-target]");s&&(n=this.getAutoAnimateOptions(s,n))}return t.dataset.autoAnimateEasing&&(n.easing=t.dataset.autoAnimateEasing),t.dataset.autoAnimateDuration&&(n.duration=parseFloat(t.dataset.autoAnimateDuration)),t.dataset.autoAnimateDelay&&(n.delay=parseFloat(t.dataset.autoAnimateDelay)),n}getAutoAnimatableProperties(t,e,n){let s=this.Reveal.getConfig(),r={styles:[]};if(n.translate!==!1||n.scale!==!1){let o;if(typeof n.measure=="function")o=n.measure(e);else if(s.center)o=e.getBoundingClientRect();else{let l=this.Reveal.getScale();o={x:e.offsetLeft*l,y:e.offsetTop*l,width:e.offsetWidth*l,height:e.offsetHeight*l}}r.x=o.x,r.y=o.y,r.width=o.width,r.height=o.height}const a=getComputedStyle(e);return(n.styles||s.autoAnimateStyles).forEach(o=>{let l;typeof o=="string"&&(o={property:o}),o.from!==void 0&&t==="from"?l={value:o.from,explicitValue:!0}:o.to!==void 0&&t==="to"?l={value:o.to,explicitValue:!0}:(o.property==="line-height"&&(l=parseFloat(a["line-height"])/parseFloat(a["font-size"])),isNaN(l)&&(l=a[o.property])),l!==""&&(r.styles[o.property]=l)}),r}getAutoAnimatableElements(t,e){let n=(typeof this.Reveal.getConfig().autoAnimateMatcher=="function"?this.Reveal.getConfig().autoAnimateMatcher:this.getAutoAnimatePairs).call(this,t,e),s=[];return n.filter((r,a)=>{if(s.indexOf(r.to)===-1)return s.push(r.to),!0})}getAutoAnimatePairs(t,e){let n=[];const s="h1, h2, h3, h4, h5, h6, p, li";return this.findAutoAnimateMatches(n,t,e,"[data-id]",r=>r.nodeName+":::"+r.getAttribute("data-id")),this.findAutoAnimateMatches(n,t,e,s,r=>r.nodeName+":::"+r.textContent.trim()),this.findAutoAnimateMatches(n,t,e,"img, video, iframe",r=>r.nodeName+":::"+(r.getAttribute("src")||r.getAttribute("data-src"))),this.findAutoAnimateMatches(n,t,e,"pre",r=>r.nodeName+":::"+r.textContent.trim()),n.forEach(r=>{Th(r.from,s)?r.options={scale:!1}:Th(r.from,"pre")&&(r.options={scale:!1,styles:["width","height"]},this.findAutoAnimateMatches(n,r.from,r.to,".hljs .hljs-ln-code",a=>a.textContent,{scale:!1,styles:[],measure:this.getLocalBoundingBox.bind(this)}),this.findAutoAnimateMatches(n,r.from,r.to,".hljs .hljs-ln-numbers[data-line-number]",a=>a.getAttribute("data-line-number"),{scale:!1,styles:["width"],measure:this.getLocalBoundingBox.bind(this)}))},this),n}getLocalBoundingBox(t){const e=this.Reveal.getScale();return{x:Math.round(t.offsetLeft*e*100)/100,y:Math.round(t.offsetTop*e*100)/100,width:Math.round(t.offsetWidth*e*100)/100,height:Math.round(t.offsetHeight*e*100)/100}}findAutoAnimateMatches(t,e,n,s,r,a){let o={},l={};[].slice.call(e.querySelectorAll(s)).forEach((d,h)=>{const u=r(d);typeof u=="string"&&u.length&&(o[u]=o[u]||[],o[u].push(d))}),[].slice.call(n.querySelectorAll(s)).forEach((d,h)=>{const u=r(d);let f;if(l[u]=l[u]||[],l[u].push(d),o[u]){const p=l[u].length-1,g=o[u].length-1;o[u][p]?(f=o[u][p],o[u][p]=null):o[u][g]&&(f=o[u][g],o[u][g]=null)}f&&t.push({from:f,to:d,options:a})})}getUnmatchedAutoAnimateElements(t){return[].slice.call(t.children).reduce((e,n)=>{const s=n.querySelector("[data-auto-animate-target]");return n.hasAttribute("data-auto-animate-target")||s||e.push(n),n.querySelector("[data-auto-animate-target]")&&(e=e.concat(this.getUnmatchedAutoAnimateElements(n))),e},[])}}class vk{constructor(t){this.Reveal=t,this.active=!1,this.activatedCallbacks=[],this.onScroll=this.onScroll.bind(this)}activate(){if(this.active)return;const t=this.Reveal.getState();this.active=!0,this.slideHTMLBeforeActivation=this.Reveal.getSlidesElement().innerHTML;const e=rt(this.Reveal.getRevealElement(),fi),n=rt(this.Reveal.getRevealElement(),".backgrounds>.slide-background");let s;this.viewportElement.classList.add("loading-scroll-mode","reveal-scroll");const r=window.getComputedStyle(this.viewportElement);r&&r.background&&(s=r.background);const a=[],o=e[0].parentNode;let l;const d=(h,u,f,p)=>{let g;if(l&&this.Reveal.shouldAutoAnimateBetween(l,h))g=document.createElement("div"),g.className="scroll-page-content scroll-auto-animate-page",g.style.display="none",l.closest(".scroll-page-content").parentNode.appendChild(g);else{const m=document.createElement("div");if(m.className="scroll-page",a.push(m),p&&n.length>u){const v=n[u],E=window.getComputedStyle(v);E&&E.background?m.style.background=E.background:s&&(m.style.background=s)}else s&&(m.style.background=s);const b=document.createElement("div");b.className="scroll-page-sticky",m.appendChild(b),g=document.createElement("div"),g.className="scroll-page-content",b.appendChild(g)}g.appendChild(h),h.classList.remove("past","future"),h.setAttribute("data-index-h",u),h.setAttribute("data-index-v",f),h.slideBackgroundElement&&(h.slideBackgroundElement.remove("past","future"),g.insertBefore(h.slideBackgroundElement,h)),l=h};e.forEach((h,u)=>{this.Reveal.isVerticalStack(h)?h.querySelectorAll("section").forEach((f,p)=>{d(f,u,p,!0)}):d(h,u,0)},this),this.createProgressBar(),rt(this.Reveal.getRevealElement(),".stack").forEach(h=>h.remove()),a.forEach(h=>o.appendChild(h)),this.Reveal.slideContent.layout(this.Reveal.getSlidesElement()),this.Reveal.layout(),this.Reveal.setState(t),this.activatedCallbacks.forEach(h=>h()),this.activatedCallbacks=[],this.restoreScrollPosition(),this.viewportElement.classList.remove("loading-scroll-mode"),this.viewportElement.addEventListener("scroll",this.onScroll,{passive:!0})}deactivate(){if(!this.active)return;const t=this.Reveal.getState();this.active=!1,this.viewportElement.removeEventListener("scroll",this.onScroll),this.viewportElement.classList.remove("reveal-scroll"),this.removeProgressBar(),this.Reveal.getSlidesElement().innerHTML=this.slideHTMLBeforeActivation,this.Reveal.sync(),this.Reveal.setState(t),this.slideHTMLBeforeActivation=null}toggle(t){typeof t=="boolean"?t?this.activate():this.deactivate():this.isActive()?this.deactivate():this.activate()}isActive(){return this.active}createProgressBar(){this.progressBar=document.createElement("div"),this.progressBar.className="scrollbar",this.progressBarInner=document.createElement("div"),this.progressBarInner.className="scrollbar-inner",this.progressBar.appendChild(this.progressBarInner),this.progressBarPlayhead=document.createElement("div"),this.progressBarPlayhead.className="scrollbar-playhead",this.progressBarInner.appendChild(this.progressBarPlayhead),this.viewportElement.insertBefore(this.progressBar,this.viewportElement.firstChild);const t=n=>{let s=(n.clientY-this.progressBarInner.getBoundingClientRect().top)/this.progressBarHeight;s=Math.max(Math.min(s,1),0),this.viewportElement.scrollTop=s*(this.viewportElement.scrollHeight-this.viewportElement.offsetHeight)},e=n=>{this.draggingProgressBar=!1,this.showProgressBar(),document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",e)};this.progressBarInner.addEventListener("mousedown",n=>{n.preventDefault(),this.draggingProgressBar=!0,document.addEventListener("mousemove",t),document.addEventListener("mouseup",e),t(n)})}removeProgressBar(){this.progressBar&&(this.progressBar.remove(),this.progressBar=null)}layout(){this.isActive()&&(this.syncPages(),this.syncScrollPosition())}syncPages(){const t=this.Reveal.getConfig(),e=this.Reveal.getComputedSlideSize(window.innerWidth,window.innerHeight),n=this.Reveal.getScale(),s=t.scrollLayout==="compact",r=this.viewportElement.offsetHeight,a=e.height*n,o=s?a:r;this.scrollTriggerHeight=s?a:r,this.viewportElement.style.setProperty("--page-height",o+"px"),this.viewportElement.style.scrollSnapType=typeof t.scrollSnap=="string"?`y ${t.scrollSnap}`:"",this.slideTriggers=[];const l=Array.from(this.Reveal.getRevealElement().querySelectorAll(".scroll-page"));this.pages=l.map(d=>{const h=this.createPage({pageElement:d,slideElement:d.querySelector("section"),stickyElement:d.querySelector(".scroll-page-sticky"),contentElement:d.querySelector(".scroll-page-content"),backgroundElement:d.querySelector(".slide-background"),autoAnimateElements:d.querySelectorAll(".scroll-auto-animate-page"),autoAnimatePages:[]});h.pageElement.style.setProperty("--slide-height",t.center===!0?"auto":e.height+"px"),this.slideTriggers.push({page:h,activate:()=>this.activatePage(h),deactivate:()=>this.deactivatePage(h)}),this.createFragmentTriggersForPage(h),h.autoAnimateElements.length>0&&this.createAutoAnimateTriggersForPage(h);let u=Math.max(h.scrollTriggers.length-1,0);u+=h.autoAnimatePages.reduce((f,p)=>f+Math.max(p.scrollTriggers.length-1,0),h.autoAnimatePages.length),h.pageElement.querySelectorAll(".scroll-snap-point").forEach(f=>f.remove());for(let f=0;f<u+1;f++){const p=document.createElement("div");p.className="scroll-snap-point",p.style.height=this.scrollTriggerHeight+"px",p.style.scrollSnapAlign=s?"center":"start",h.pageElement.appendChild(p),f===0&&(p.style.marginTop=-this.scrollTriggerHeight+"px")}return s&&h.scrollTriggers.length>0?(h.pageHeight=r,h.pageElement.style.setProperty("--page-height",r+"px")):(h.pageHeight=o,h.pageElement.style.removeProperty("--page-height")),h.scrollPadding=this.scrollTriggerHeight*u,h.totalHeight=h.pageHeight+h.scrollPadding,h.pageElement.style.setProperty("--page-scroll-padding",h.scrollPadding+"px"),u>0?(h.stickyElement.style.position="sticky",h.stickyElement.style.top=Math.max((r-h.pageHeight)/2,0)+"px"):(h.stickyElement.style.position="relative",h.pageElement.style.scrollSnapAlign=h.pageHeight<r?"center":"start"),h}),this.setTriggerRanges(),this.viewportElement.setAttribute("data-scrollbar",t.scrollProgress),t.scrollProgress&&this.totalScrollTriggerCount>1?(this.progressBar||this.createProgressBar(),this.syncProgressBar()):this.removeProgressBar()}setTriggerRanges(){this.totalScrollTriggerCount=this.slideTriggers.reduce((e,n)=>e+Math.max(n.page.scrollTriggers.length,1),0);let t=0;this.slideTriggers.forEach((e,n)=>{e.range=[t,t+Math.max(e.page.scrollTriggers.length,1)/this.totalScrollTriggerCount];const s=(e.range[1]-e.range[0])/e.page.scrollTriggers.length;e.page.scrollTriggers.forEach((r,a)=>{r.range=[t+a*s,t+(a+1)*s]}),t=e.range[1]}),this.slideTriggers[this.slideTriggers.length-1].range[1]=1}createFragmentTriggersForPage(t,e){e=e||t.slideElement;const n=this.Reveal.fragments.sort(e.querySelectorAll(".fragment"),!0);return n.length&&(t.fragments=this.Reveal.fragments.sort(e.querySelectorAll(".fragment:not(.disabled)")),t.scrollTriggers.push({activate:()=>{this.Reveal.fragments.update(-1,t.fragments,e)}}),n.forEach((s,r)=>{t.scrollTriggers.push({activate:()=>{this.Reveal.fragments.update(r,t.fragments,e)}})})),t.scrollTriggers.length}createAutoAnimateTriggersForPage(t){t.autoAnimateElements.length>0&&this.slideTriggers.push(...Array.from(t.autoAnimateElements).map((e,n)=>{let s=this.createPage({slideElement:e.querySelector("section"),contentElement:e,backgroundElement:e.querySelector(".slide-background")});return this.createFragmentTriggersForPage(s,s.slideElement),t.autoAnimatePages.push(s),{page:s,activate:()=>this.activatePage(s),deactivate:()=>this.deactivatePage(s)}}))}createPage(t){return t.scrollTriggers=[],t.indexh=parseInt(t.slideElement.getAttribute("data-index-h"),10),t.indexv=parseInt(t.slideElement.getAttribute("data-index-v"),10),t}syncProgressBar(){this.progressBarInner.querySelectorAll(".scrollbar-slide").forEach(a=>a.remove());const t=this.viewportElement.scrollHeight,e=this.viewportElement.offsetHeight,n=e/t;this.progressBarHeight=this.progressBarInner.offsetHeight,this.playheadHeight=Math.max(n*this.progressBarHeight,8),this.progressBarScrollableHeight=this.progressBarHeight-this.playheadHeight;const s=e/t*this.progressBarHeight,r=Math.min(s/8,4);this.progressBarPlayhead.style.height=this.playheadHeight-r+"px",s>6?this.slideTriggers.forEach(a=>{const{page:o}=a;o.progressBarSlide=document.createElement("div"),o.progressBarSlide.className="scrollbar-slide",o.progressBarSlide.style.top=a.range[0]*this.progressBarHeight+"px",o.progressBarSlide.style.height=(a.range[1]-a.range[0])*this.progressBarHeight-r+"px",o.progressBarSlide.classList.toggle("has-triggers",o.scrollTriggers.length>0),this.progressBarInner.appendChild(o.progressBarSlide),o.scrollTriggerElements=o.scrollTriggers.map((l,d)=>{const h=document.createElement("div");return h.className="scrollbar-trigger",h.style.top=(l.range[0]-a.range[0])*this.progressBarHeight+"px",h.style.height=(l.range[1]-l.range[0])*this.progressBarHeight-r+"px",o.progressBarSlide.appendChild(h),d===0&&(h.style.display="none"),h})}):this.pages.forEach(a=>a.progressBarSlide=null)}syncScrollPosition(){const t=this.viewportElement.offsetHeight,e=t/this.viewportElement.scrollHeight,n=this.viewportElement.scrollTop,s=this.viewportElement.scrollHeight-t,r=Math.max(Math.min(n/s,1),0),a=Math.max(Math.min((n+t/2)/this.viewportElement.scrollHeight,1),0);let o;this.slideTriggers.forEach(l=>{const{page:d}=l;r>=l.range[0]-2*e&&r<=l.range[1]+2*e&&!d.loaded?(d.loaded=!0,this.Reveal.slideContent.load(d.slideElement)):d.loaded&&(d.loaded=!1,this.Reveal.slideContent.unload(d.slideElement)),r>=l.range[0]&&r<=l.range[1]?(this.activateTrigger(l),o=l.page):l.active&&this.deactivateTrigger(l)}),o&&o.scrollTriggers.forEach(l=>{a>=l.range[0]&&a<=l.range[1]?this.activateTrigger(l):l.active&&this.deactivateTrigger(l)}),this.setProgressBarValue(n/(this.viewportElement.scrollHeight-t))}setProgressBarValue(t){this.progressBar&&(this.progressBarPlayhead.style.transform=`translateY(${t*this.progressBarScrollableHeight}px)`,this.getAllPages().filter(e=>e.progressBarSlide).forEach(e=>{e.progressBarSlide.classList.toggle("active",e.active===!0),e.scrollTriggers.forEach((n,s)=>{e.scrollTriggerElements[s].classList.toggle("active",e.active===!0&&n.active===!0)})}),this.showProgressBar())}showProgressBar(){this.progressBar.classList.add("visible"),clearTimeout(this.hideProgressBarTimeout),this.Reveal.getConfig().scrollProgress!=="auto"||this.draggingProgressBar||(this.hideProgressBarTimeout=setTimeout(()=>{this.progressBar&&this.progressBar.classList.remove("visible")},500))}prev(){this.viewportElement.scrollTop-=this.scrollTriggerHeight}next(){this.viewportElement.scrollTop+=this.scrollTriggerHeight}scrollToSlide(t){if(this.active){const e=this.getScrollTriggerBySlide(t);e&&(this.viewportElement.scrollTop=e.range[0]*(this.viewportElement.scrollHeight-this.viewportElement.offsetHeight))}else this.activatedCallbacks.push(()=>this.scrollToSlide(t))}storeScrollPosition(){clearTimeout(this.storeScrollPositionTimeout),this.storeScrollPositionTimeout=setTimeout(()=>{sessionStorage.setItem("reveal-scroll-top",this.viewportElement.scrollTop),sessionStorage.setItem("reveal-scroll-origin",location.origin+location.pathname),this.storeScrollPositionTimeout=null},50)}restoreScrollPosition(){const t=sessionStorage.getItem("reveal-scroll-top"),e=sessionStorage.getItem("reveal-scroll-origin");t&&e===location.origin+location.pathname&&(this.viewportElement.scrollTop=parseInt(t,10))}activatePage(t){if(!t.active){t.active=!0;const{slideElement:e,backgroundElement:n,contentElement:s,indexh:r,indexv:a}=t;s.style.display="block",e.classList.add("present"),n&&n.classList.add("present"),this.Reveal.setCurrentScrollPage(e,r,a),this.Reveal.backgrounds.bubbleSlideContrastClassToElement(e,this.viewportElement),Array.from(s.parentNode.querySelectorAll(".scroll-page-content")).forEach(o=>{o!==s&&(o.style.display="none")})}}deactivatePage(t){t.active&&(t.active=!1,t.slideElement&&t.slideElement.classList.remove("present"),t.backgroundElement&&t.backgroundElement.classList.remove("present"))}activateTrigger(t){t.active||(t.active=!0,t.activate())}deactivateTrigger(t){t.active&&(t.active=!1,t.deactivate&&t.deactivate())}getSlideByIndices(t,e){const n=this.getAllPages().find(s=>s.indexh===t&&s.indexv===e);return n?n.slideElement:null}getScrollTriggerBySlide(t){return this.slideTriggers.find(e=>e.page.slideElement===t)}getAllPages(){return this.pages.flatMap(t=>[t,...t.autoAnimatePages||[]])}onScroll(){this.syncScrollPosition(),this.storeScrollPosition()}get viewportElement(){return this.Reveal.getViewportElement()}}class bk{constructor(t){this.Reveal=t}async activate(){const t=this.Reveal.getConfig(),e=rt(this.Reveal.getRevealElement(),dr),n=t.slideNumber&&/all|print/i.test(t.showSlideNumber),s=this.Reveal.getComputedSlideSize(window.innerWidth,window.innerHeight),r=Math.floor(s.width*(1+t.margin)),a=Math.floor(s.height*(1+t.margin)),o=s.width,l=s.height;await new Promise(requestAnimationFrame),Df("@page{size:"+r+"px "+a+"px; margin: 0px;}"),Df(".reveal section>img, .reveal section>video, .reveal section>iframe{max-width: "+o+"px; max-height:"+l+"px}"),document.documentElement.classList.add("reveal-print","print-pdf"),document.body.style.width=r+"px",document.body.style.height=a+"px";const d=this.Reveal.getViewportElement();let h;if(d){const m=window.getComputedStyle(d);m&&m.background&&(h=m.background)}await new Promise(requestAnimationFrame),this.Reveal.layoutSlideContents(o,l),await new Promise(requestAnimationFrame);const u=e.map(m=>m.scrollHeight),f=[],p=e[0].parentNode;let g=1;e.forEach(function(m,b){if(m.classList.contains("stack")===!1){let v=(r-o)/2,E=(a-l)/2;const x=u[b];let C=Math.max(Math.ceil(x/a),1);C=Math.min(C,t.pdfMaxPagesPerSlide),(C===1&&t.center||m.classList.contains("center"))&&(E=Math.max((a-x)/2,0));const S=document.createElement("div");if(f.push(S),S.className="pdf-page",S.style.height=(a+t.pdfPageHeightOffset)*C+"px",h&&(S.style.background=h),S.appendChild(m),m.style.left=v+"px",m.style.top=E+"px",m.style.width=o+"px",this.Reveal.slideContent.layout(m),m.slideBackgroundElement&&S.insertBefore(m.slideBackgroundElement,m),t.showNotes){const k=this.Reveal.getSlideNotes(m);if(k){const T=typeof t.showNotes=="string"?t.showNotes:"inline",M=document.createElement("div");M.classList.add("speaker-notes"),M.classList.add("speaker-notes-pdf"),M.setAttribute("data-layout",T),M.innerHTML=k,T==="separate-page"?f.push(M):(M.style.left="8px",M.style.bottom="8px",M.style.width=r-2*8+"px",S.appendChild(M))}}if(n){const k=document.createElement("div");k.classList.add("slide-number"),k.classList.add("slide-number-pdf"),k.innerHTML=g++,S.appendChild(k)}if(t.pdfSeparateFragments){const k=this.Reveal.fragments.sort(S.querySelectorAll(".fragment"),!0);let L;k.forEach(function(T,M){L&&L.forEach(function(I){I.classList.remove("current-fragment")}),T.forEach(function(I){I.classList.add("visible","current-fragment")},this);const _=S.cloneNode(!0);if(n){const I=M+1;_.querySelector(".slide-number-pdf").innerHTML+="."+I}f.push(_),L=T},this),k.forEach(function(T){T.forEach(function(M){M.classList.remove("visible","current-fragment")})})}else rt(S,".fragment:not(.fade-out)").forEach(function(k){k.classList.add("visible")})}},this),await new Promise(requestAnimationFrame),f.forEach(m=>p.appendChild(m)),this.Reveal.slideContent.layout(this.Reveal.getSlidesElement()),this.Reveal.dispatchEvent({type:"pdf-ready"}),d.classList.remove("loading-scroll-mode")}isActive(){return this.Reveal.getConfig().view==="print"}}class yk{constructor(t){this.Reveal=t}configure(t,e){t.fragments===!1?this.disable():e.fragments===!1&&this.enable()}disable(){rt(this.Reveal.getSlidesElement(),".fragment").forEach(t=>{t.classList.add("visible"),t.classList.remove("current-fragment")})}enable(){rt(this.Reveal.getSlidesElement(),".fragment").forEach(t=>{t.classList.remove("visible"),t.classList.remove("current-fragment")})}availableRoutes(){let t=this.Reveal.getCurrentSlide();if(t&&this.Reveal.getConfig().fragments){let e=t.querySelectorAll(".fragment:not(.disabled)"),n=t.querySelectorAll(".fragment:not(.disabled):not(.visible)");return{prev:e.length-n.length>0,next:!!n.length}}return{prev:!1,next:!1}}sort(t,e=!1){t=Array.from(t);let n=[],s=[],r=[];t.forEach(o=>{if(o.hasAttribute("data-fragment-index")){let l=parseInt(o.getAttribute("data-fragment-index"),10);n[l]||(n[l]=[]),n[l].push(o)}else s.push([o])}),n=n.concat(s);let a=0;return n.forEach(o=>{o.forEach(l=>{r.push(l),l.setAttribute("data-fragment-index",a)}),a++}),e===!0?n:r}sortAll(){this.Reveal.getHorizontalSlides().forEach(t=>{let e=rt(t,"section");e.forEach((n,s)=>{this.sort(n.querySelectorAll(".fragment"))},this),e.length===0&&this.sort(t.querySelectorAll(".fragment"))})}update(t,e,n=this.Reveal.getCurrentSlide()){let s={shown:[],hidden:[]};if(n&&this.Reveal.getConfig().fragments&&(e=e||this.sort(n.querySelectorAll(".fragment"))).length){let r=0;if(typeof t!="number"){let a=this.sort(n.querySelectorAll(".fragment.visible")).pop();a&&(t=parseInt(a.getAttribute("data-fragment-index")||0,10))}Array.from(e).forEach((a,o)=>{if(a.hasAttribute("data-fragment-index")&&(o=parseInt(a.getAttribute("data-fragment-index"),10)),r=Math.max(r,o),o<=t){let l=a.classList.contains("visible");a.classList.add("visible"),a.classList.remove("current-fragment"),o===t&&(this.Reveal.announceStatus(this.Reveal.getStatusText(a)),a.classList.add("current-fragment"),this.Reveal.slideContent.startEmbeddedContent(a)),l||(s.shown.push(a),this.Reveal.dispatchEvent({target:a,type:"visible",bubbles:!1}))}else{let l=a.classList.contains("visible");a.classList.remove("visible"),a.classList.remove("current-fragment"),l&&(this.Reveal.slideContent.stopEmbeddedContent(a),s.hidden.push(a),this.Reveal.dispatchEvent({target:a,type:"hidden",bubbles:!1}))}}),t=typeof t=="number"?t:-1,t=Math.max(Math.min(t,r),-1),n.setAttribute("data-fragment",t)}return s.hidden.length&&this.Reveal.dispatchEvent({type:"fragmenthidden",data:{fragment:s.hidden[0],fragments:s.hidden}}),s.shown.length&&this.Reveal.dispatchEvent({type:"fragmentshown",data:{fragment:s.shown[0],fragments:s.shown}}),s}sync(t=this.Reveal.getCurrentSlide()){return this.sort(t.querySelectorAll(".fragment"))}goto(t,e=0){let n=this.Reveal.getCurrentSlide();if(n&&this.Reveal.getConfig().fragments){let s=this.sort(n.querySelectorAll(".fragment:not(.disabled)"));if(s.length){if(typeof t!="number"){let a=this.sort(n.querySelectorAll(".fragment:not(.disabled).visible")).pop();t=a?parseInt(a.getAttribute("data-fragment-index")||0,10):-1}t+=e;let r=this.update(t,s);return this.Reveal.controls.update(),this.Reveal.progress.update(),this.Reveal.getConfig().fragmentInURL&&this.Reveal.location.writeURL(),!(!r.shown.length&&!r.hidden.length)}}return!1}next(){return this.goto(null,1)}prev(){return this.goto(null,-1)}}class wk{constructor(t){this.Reveal=t,this.active=!1,this.onSlideClicked=this.onSlideClicked.bind(this)}activate(){if(this.Reveal.getConfig().overview&&!this.Reveal.isScrollView()&&!this.isActive()){this.active=!0,this.Reveal.getRevealElement().classList.add("overview"),this.Reveal.cancelAutoSlide(),this.Reveal.getSlidesElement().appendChild(this.Reveal.getBackgroundsElement()),rt(this.Reveal.getRevealElement(),dr).forEach(s=>{s.classList.contains("stack")||s.addEventListener("click",this.onSlideClicked,!0)});const t=70,e=this.Reveal.getComputedSlideSize();this.overviewSlideWidth=e.width+t,this.overviewSlideHeight=e.height+t,this.Reveal.getConfig().rtl&&(this.overviewSlideWidth=-this.overviewSlideWidth),this.Reveal.updateSlidesVisibility(),this.layout(),this.update(),this.Reveal.layout();const n=this.Reveal.getIndices();this.Reveal.dispatchEvent({type:"overviewshown",data:{indexh:n.h,indexv:n.v,currentSlide:this.Reveal.getCurrentSlide()}})}}layout(){this.Reveal.getHorizontalSlides().forEach((t,e)=>{t.setAttribute("data-index-h",e),vi(t,"translate3d("+e*this.overviewSlideWidth+"px, 0, 0)"),t.classList.contains("stack")&&rt(t,"section").forEach((n,s)=>{n.setAttribute("data-index-h",e),n.setAttribute("data-index-v",s),vi(n,"translate3d(0, "+s*this.overviewSlideHeight+"px, 0)")})}),Array.from(this.Reveal.getBackgroundsElement().childNodes).forEach((t,e)=>{vi(t,"translate3d("+e*this.overviewSlideWidth+"px, 0, 0)"),rt(t,".slide-background").forEach((n,s)=>{vi(n,"translate3d(0, "+s*this.overviewSlideHeight+"px, 0)")})})}update(){const t=Math.min(window.innerWidth,window.innerHeight),e=Math.max(t/5,150)/t,n=this.Reveal.getIndices();this.Reveal.transformSlides({overview:["scale("+e+")","translateX("+-n.h*this.overviewSlideWidth+"px)","translateY("+-n.v*this.overviewSlideHeight+"px)"].join(" ")})}deactivate(){if(this.Reveal.getConfig().overview){this.active=!1,this.Reveal.getRevealElement().classList.remove("overview"),this.Reveal.getRevealElement().classList.add("overview-deactivating"),setTimeout(()=>{this.Reveal.getRevealElement().classList.remove("overview-deactivating")},1),this.Reveal.getRevealElement().appendChild(this.Reveal.getBackgroundsElement()),rt(this.Reveal.getRevealElement(),dr).forEach(e=>{vi(e,""),e.removeEventListener("click",this.onSlideClicked,!0)}),rt(this.Reveal.getBackgroundsElement(),".slide-background").forEach(e=>{vi(e,"")}),this.Reveal.transformSlides({overview:""});const t=this.Reveal.getIndices();this.Reveal.slide(t.h,t.v),this.Reveal.layout(),this.Reveal.cueAutoSlide(),this.Reveal.dispatchEvent({type:"overviewhidden",data:{indexh:t.h,indexv:t.v,currentSlide:this.Reveal.getCurrentSlide()}})}}toggle(t){typeof t=="boolean"?t?this.activate():this.deactivate():this.isActive()?this.deactivate():this.activate()}isActive(){return this.active}onSlideClicked(t){if(this.isActive()){t.preventDefault();let e=t.target;for(;e&&!e.nodeName.match(/section/gi);)e=e.parentNode;if(e&&!e.classList.contains("disabled")&&(this.deactivate(),e.nodeName.match(/section/gi))){let n=parseInt(e.getAttribute("data-index-h"),10),s=parseInt(e.getAttribute("data-index-v"),10);this.Reveal.slide(n,s)}}}}class Ak{constructor(t){this.Reveal=t,this.shortcuts={},this.bindings={},this.onDocumentKeyDown=this.onDocumentKeyDown.bind(this)}configure(t,e){t.navigationMode==="linear"?(this.shortcuts["&#8594;  ,  &#8595;  ,  SPACE  ,  N  ,  L  ,  J"]="Next slide",this.shortcuts["&#8592;  ,  &#8593;  ,  P  ,  H  ,  K"]="Previous slide"):(this.shortcuts["N  ,  SPACE"]="Next slide",this.shortcuts["P  ,  Shift SPACE"]="Previous slide",this.shortcuts["&#8592;  ,  H"]="Navigate left",this.shortcuts["&#8594;  ,  L"]="Navigate right",this.shortcuts["&#8593;  ,  K"]="Navigate up",this.shortcuts["&#8595;  ,  J"]="Navigate down"),this.shortcuts["Alt + &#8592;/&#8593/&#8594;/&#8595;"]="Navigate without fragments",this.shortcuts["Shift + &#8592;/&#8593/&#8594;/&#8595;"]="Jump to first/last slide",this.shortcuts["B  ,  ."]="Pause",this.shortcuts.F="Fullscreen",this.shortcuts.G="Jump to slide",this.shortcuts["ESC, O"]="Slide overview"}bind(){document.addEventListener("keydown",this.onDocumentKeyDown,!1)}unbind(){document.removeEventListener("keydown",this.onDocumentKeyDown,!1)}addKeyBinding(t,e){typeof t=="object"&&t.keyCode?this.bindings[t.keyCode]={callback:e,key:t.key,description:t.description}:this.bindings[t]={callback:e,key:null,description:null}}removeKeyBinding(t){delete this.bindings[t]}triggerKey(t){this.onDocumentKeyDown({keyCode:t})}registerKeyboardShortcut(t,e){this.shortcuts[t]=e}getShortcuts(){return this.shortcuts}getBindings(){return this.bindings}onDocumentKeyDown(t){let e=this.Reveal.getConfig();if(typeof e.keyboardCondition=="function"&&e.keyboardCondition(t)===!1||e.keyboardCondition==="focused"&&!this.Reveal.isFocused())return!0;let n=t.keyCode,s=!this.Reveal.isAutoSliding();this.Reveal.onUserInput(t);let r=document.activeElement&&document.activeElement.isContentEditable===!0,a=document.activeElement&&document.activeElement.tagName&&/input|textarea/i.test(document.activeElement.tagName),o=document.activeElement&&document.activeElement.className&&/speaker-notes/i.test(document.activeElement.className),l=!([32,37,38,39,40,63,78,80,191].indexOf(t.keyCode)!==-1&&t.shiftKey||t.altKey)&&(t.shiftKey||t.altKey||t.ctrlKey||t.metaKey);if(r||a||o||l)return;let d,h=[66,86,190,191,112];if(typeof e.keyboard=="object")for(d in e.keyboard)e.keyboard[d]==="togglePause"&&h.push(parseInt(d,10));if(this.Reveal.isOverlayOpen()&&!["Escape","f","c","b","."].includes(t.key)||this.Reveal.isPaused()&&h.indexOf(n)===-1)return!1;let u=e.navigationMode==="linear"||!this.Reveal.hasHorizontalSlides()||!this.Reveal.hasVerticalSlides(),f=!1;if(typeof e.keyboard=="object"){for(d in e.keyboard)if(parseInt(d,10)===n){let p=e.keyboard[d];typeof p=="function"?p.apply(null,[t]):typeof p=="string"&&typeof this.Reveal[p]=="function"&&this.Reveal[p].call(),f=!0}}if(f===!1){for(d in this.bindings)if(parseInt(d,10)===n){let p=this.bindings[d].callback;typeof p=="function"?p.apply(null,[t]):typeof p=="string"&&typeof this.Reveal[p]=="function"&&this.Reveal[p].call(),f=!0}}f===!1&&(f=!0,n===80||n===33?this.Reveal.prev({skipFragments:t.altKey}):n===78||n===34?this.Reveal.next({skipFragments:t.altKey}):n===72||n===37?t.shiftKey?this.Reveal.slide(0):!this.Reveal.overview.isActive()&&u?e.rtl?this.Reveal.next({skipFragments:t.altKey}):this.Reveal.prev({skipFragments:t.altKey}):this.Reveal.left({skipFragments:t.altKey}):n===76||n===39?t.shiftKey?this.Reveal.slide(this.Reveal.getHorizontalSlides().length-1):!this.Reveal.overview.isActive()&&u?e.rtl?this.Reveal.prev({skipFragments:t.altKey}):this.Reveal.next({skipFragments:t.altKey}):this.Reveal.right({skipFragments:t.altKey}):n===75||n===38?t.shiftKey?this.Reveal.slide(void 0,0):!this.Reveal.overview.isActive()&&u?this.Reveal.prev({skipFragments:t.altKey}):this.Reveal.up({skipFragments:t.altKey}):n===74||n===40?t.shiftKey?this.Reveal.slide(void 0,Number.MAX_VALUE):!this.Reveal.overview.isActive()&&u?this.Reveal.next({skipFragments:t.altKey}):this.Reveal.down({skipFragments:t.altKey}):n===36?this.Reveal.slide(0):n===35?this.Reveal.slide(this.Reveal.getHorizontalSlides().length-1):n===32?(this.Reveal.overview.isActive()&&this.Reveal.overview.deactivate(),t.shiftKey?this.Reveal.prev({skipFragments:t.altKey}):this.Reveal.next({skipFragments:t.altKey})):[58,59,66,86,190].includes(n)||n===191&&!t.shiftKey?this.Reveal.togglePause():n===70?Py(e.embedded?this.Reveal.getViewportElement():document.documentElement):n===65?e.autoSlideStoppable&&this.Reveal.toggleAutoSlide(s):n===71?e.jumpToSlide&&this.Reveal.toggleJumpToSlide():n===67&&this.Reveal.isOverlayOpen()?this.Reveal.closeOverlay():n!==63&&n!==191||!t.shiftKey?n===112?this.Reveal.toggleHelp():f=!1:this.Reveal.toggleHelp()),f?t.preventDefault&&t.preventDefault():n!==27&&n!==79||(this.Reveal.closeOverlay()===!1&&this.Reveal.overview.toggle(),t.preventDefault&&t.preventDefault()),this.Reveal.cueAutoSlide()}}class Ek{constructor(t){ut(this,"MAX_REPLACE_STATE_FREQUENCY",1e3);this.Reveal=t,this.writeURLTimeout=0,this.replaceStateTimestamp=0,this.onWindowHashChange=this.onWindowHashChange.bind(this)}bind(){window.addEventListener("hashchange",this.onWindowHashChange,!1)}unbind(){window.removeEventListener("hashchange",this.onWindowHashChange,!1)}getIndicesFromHash(t=window.location.hash,e={}){let n=t.replace(/^#\/?/,""),s=n.split("/");if(/^[0-9]*$/.test(s[0])||!n.length){const r=this.Reveal.getConfig();let a,o=r.hashOneBasedIndex||e.oneBasedIndex?1:0,l=parseInt(s[0],10)-o||0,d=parseInt(s[1],10)-o||0;return r.fragmentInURL&&(a=parseInt(s[2],10),isNaN(a)&&(a=void 0)),{h:l,v:d,f:a}}{let r,a;/\/[-\d]+$/g.test(n)&&(a=parseInt(n.split("/").pop(),10),a=isNaN(a)?void 0:a,n=n.split("/").shift());try{r=document.getElementById(decodeURIComponent(n)).closest(".slides section")}catch{}if(r)return{...this.Reveal.getIndices(r),f:a}}return null}readURL(){const t=this.Reveal.getIndices(),e=this.getIndicesFromHash();e?e.h===t.h&&e.v===t.v&&e.f===void 0||this.Reveal.slide(e.h,e.v,e.f):this.Reveal.slide(t.h||0,t.v||0)}writeURL(t){let e=this.Reveal.getConfig(),n=this.Reveal.getCurrentSlide();if(clearTimeout(this.writeURLTimeout),typeof t=="number")this.writeURLTimeout=setTimeout(this.writeURL,t);else if(n){let s=this.getHash();e.history?window.location.hash=s:e.hash&&(s==="/"?this.debouncedReplaceState(window.location.pathname+window.location.search):this.debouncedReplaceState("#"+s))}}replaceState(t){window.history.replaceState(null,null,t),this.replaceStateTimestamp=Date.now()}debouncedReplaceState(t){clearTimeout(this.replaceStateTimeout),Date.now()-this.replaceStateTimestamp>this.MAX_REPLACE_STATE_FREQUENCY?this.replaceState(t):this.replaceStateTimeout=setTimeout(()=>this.replaceState(t),this.MAX_REPLACE_STATE_FREQUENCY)}getHash(t){let e="/",n=t||this.Reveal.getCurrentSlide(),s=n?n.getAttribute("id"):null;s&&(s=encodeURIComponent(s));let r=this.Reveal.getIndices(t);if(this.Reveal.getConfig().fragmentInURL||(r.f=void 0),typeof s=="string"&&s.length)e="/"+s,r.f>=0&&(e+="/"+r.f);else{let a=this.Reveal.getConfig().hashOneBasedIndex?1:0;(r.h>0||r.v>0||r.f>=0)&&(e+=r.h+a),(r.v>0||r.f>=0)&&(e+="/"+(r.v+a)),r.f>=0&&(e+="/"+r.f)}return e}onWindowHashChange(t){this.readURL()}}class xk{constructor(t){this.Reveal=t,this.onNavigateLeftClicked=this.onNavigateLeftClicked.bind(this),this.onNavigateRightClicked=this.onNavigateRightClicked.bind(this),this.onNavigateUpClicked=this.onNavigateUpClicked.bind(this),this.onNavigateDownClicked=this.onNavigateDownClicked.bind(this),this.onNavigatePrevClicked=this.onNavigatePrevClicked.bind(this),this.onNavigateNextClicked=this.onNavigateNextClicked.bind(this),this.onEnterFullscreen=this.onEnterFullscreen.bind(this)}render(){const t=this.Reveal.getConfig().rtl,e=this.Reveal.getRevealElement();this.element=document.createElement("aside"),this.element.className="controls",this.element.innerHTML=`<button class="navigate-left" aria-label="${t?"next slide":"previous slide"}"><div class="controls-arrow"></div></button>
			<button class="navigate-right" aria-label="${t?"previous slide":"next slide"}"><div class="controls-arrow"></div></button>
			<button class="navigate-up" aria-label="above slide"><div class="controls-arrow"></div></button>
			<button class="navigate-down" aria-label="below slide"><div class="controls-arrow"></div></button>`,this.Reveal.getRevealElement().appendChild(this.element),this.controlsLeft=rt(e,".navigate-left"),this.controlsRight=rt(e,".navigate-right"),this.controlsUp=rt(e,".navigate-up"),this.controlsDown=rt(e,".navigate-down"),this.controlsPrev=rt(e,".navigate-prev"),this.controlsNext=rt(e,".navigate-next"),this.controlsFullscreen=rt(e,".enter-fullscreen"),this.controlsRightArrow=this.element.querySelector(".navigate-right"),this.controlsLeftArrow=this.element.querySelector(".navigate-left"),this.controlsDownArrow=this.element.querySelector(".navigate-down")}configure(t,e){this.element.style.display=t.controls&&(t.controls!=="speaker-only"||this.Reveal.isSpeakerNotes())?"block":"none",this.element.setAttribute("data-controls-layout",t.controlsLayout),this.element.setAttribute("data-controls-back-arrows",t.controlsBackArrows)}bind(){let t=["touchstart","click"];Ly&&(t=["touchstart"]),t.forEach(e=>{this.controlsLeft.forEach(n=>n.addEventListener(e,this.onNavigateLeftClicked,!1)),this.controlsRight.forEach(n=>n.addEventListener(e,this.onNavigateRightClicked,!1)),this.controlsUp.forEach(n=>n.addEventListener(e,this.onNavigateUpClicked,!1)),this.controlsDown.forEach(n=>n.addEventListener(e,this.onNavigateDownClicked,!1)),this.controlsPrev.forEach(n=>n.addEventListener(e,this.onNavigatePrevClicked,!1)),this.controlsNext.forEach(n=>n.addEventListener(e,this.onNavigateNextClicked,!1)),this.controlsFullscreen.forEach(n=>n.addEventListener(e,this.onEnterFullscreen,!1))})}unbind(){["touchstart","click"].forEach(t=>{this.controlsLeft.forEach(e=>e.removeEventListener(t,this.onNavigateLeftClicked,!1)),this.controlsRight.forEach(e=>e.removeEventListener(t,this.onNavigateRightClicked,!1)),this.controlsUp.forEach(e=>e.removeEventListener(t,this.onNavigateUpClicked,!1)),this.controlsDown.forEach(e=>e.removeEventListener(t,this.onNavigateDownClicked,!1)),this.controlsPrev.forEach(e=>e.removeEventListener(t,this.onNavigatePrevClicked,!1)),this.controlsNext.forEach(e=>e.removeEventListener(t,this.onNavigateNextClicked,!1)),this.controlsFullscreen.forEach(e=>e.removeEventListener(t,this.onEnterFullscreen,!1))})}update(){let t=this.Reveal.availableRoutes();[...this.controlsLeft,...this.controlsRight,...this.controlsUp,...this.controlsDown,...this.controlsPrev,...this.controlsNext].forEach(n=>{n.classList.remove("enabled","fragmented"),n.setAttribute("disabled","disabled")}),t.left&&this.controlsLeft.forEach(n=>{n.classList.add("enabled"),n.removeAttribute("disabled")}),t.right&&this.controlsRight.forEach(n=>{n.classList.add("enabled"),n.removeAttribute("disabled")}),t.up&&this.controlsUp.forEach(n=>{n.classList.add("enabled"),n.removeAttribute("disabled")}),t.down&&this.controlsDown.forEach(n=>{n.classList.add("enabled"),n.removeAttribute("disabled")}),(t.left||t.up)&&this.controlsPrev.forEach(n=>{n.classList.add("enabled"),n.removeAttribute("disabled")}),(t.right||t.down)&&this.controlsNext.forEach(n=>{n.classList.add("enabled"),n.removeAttribute("disabled")});let e=this.Reveal.getCurrentSlide();if(e){let n=this.Reveal.fragments.availableRoutes();n.prev&&this.controlsPrev.forEach(a=>{a.classList.add("fragmented","enabled"),a.removeAttribute("disabled")}),n.next&&this.controlsNext.forEach(a=>{a.classList.add("fragmented","enabled"),a.removeAttribute("disabled")});const s=this.Reveal.isVerticalSlide(e),r=s&&e.parentElement&&e.parentElement.querySelectorAll(":scope > section").length>1;s&&r?(n.prev&&this.controlsUp.forEach(a=>{a.classList.add("fragmented","enabled"),a.removeAttribute("disabled")}),n.next&&this.controlsDown.forEach(a=>{a.classList.add("fragmented","enabled"),a.removeAttribute("disabled")})):(n.prev&&this.controlsLeft.forEach(a=>{a.classList.add("fragmented","enabled"),a.removeAttribute("disabled")}),n.next&&this.controlsRight.forEach(a=>{a.classList.add("fragmented","enabled"),a.removeAttribute("disabled")}))}if(this.Reveal.getConfig().controlsTutorial){let n=this.Reveal.getIndices();!this.Reveal.hasNavigatedVertically()&&t.down?this.controlsDownArrow.classList.add("highlight"):(this.controlsDownArrow.classList.remove("highlight"),this.Reveal.getConfig().rtl?!this.Reveal.hasNavigatedHorizontally()&&t.left&&n.v===0?this.controlsLeftArrow.classList.add("highlight"):this.controlsLeftArrow.classList.remove("highlight"):!this.Reveal.hasNavigatedHorizontally()&&t.right&&n.v===0?this.controlsRightArrow.classList.add("highlight"):this.controlsRightArrow.classList.remove("highlight"))}}destroy(){this.unbind(),this.element.remove()}onNavigateLeftClicked(t){t.preventDefault(),this.Reveal.onUserInput(),this.Reveal.getConfig().navigationMode==="linear"?this.Reveal.prev():this.Reveal.left()}onNavigateRightClicked(t){t.preventDefault(),this.Reveal.onUserInput(),this.Reveal.getConfig().navigationMode==="linear"?this.Reveal.next():this.Reveal.right()}onNavigateUpClicked(t){t.preventDefault(),this.Reveal.onUserInput(),this.Reveal.up()}onNavigateDownClicked(t){t.preventDefault(),this.Reveal.onUserInput(),this.Reveal.down()}onNavigatePrevClicked(t){t.preventDefault(),this.Reveal.onUserInput(),this.Reveal.prev()}onNavigateNextClicked(t){t.preventDefault(),this.Reveal.onUserInput(),this.Reveal.next()}onEnterFullscreen(t){const e=this.Reveal.getConfig(),n=this.Reveal.getViewportElement();Py(e.embedded?n:n.parentElement)}}class Sk{constructor(t){this.Reveal=t,this.onProgressClicked=this.onProgressClicked.bind(this)}render(){this.element=document.createElement("div"),this.element.className="progress",this.Reveal.getRevealElement().appendChild(this.element),this.bar=document.createElement("span"),this.element.appendChild(this.bar)}configure(t,e){this.element.style.display=t.progress?"block":"none"}bind(){this.Reveal.getConfig().progress&&this.element&&this.element.addEventListener("click",this.onProgressClicked,!1)}unbind(){this.Reveal.getConfig().progress&&this.element&&this.element.removeEventListener("click",this.onProgressClicked,!1)}update(){if(this.Reveal.getConfig().progress&&this.bar){let t=this.Reveal.getProgress();this.Reveal.getTotalSlides()<2&&(t=0),this.bar.style.transform="scaleX("+t+")"}}getMaxWidth(){return this.Reveal.getRevealElement().offsetWidth}onProgressClicked(t){this.Reveal.onUserInput(t),t.preventDefault();let e=this.Reveal.getSlides(),n=e.length,s=Math.floor(t.clientX/this.getMaxWidth()*n);this.Reveal.getConfig().rtl&&(s=n-s);let r=this.Reveal.getIndices(e[s]);this.Reveal.slide(r.h,r.v)}destroy(){this.element.remove()}}class Ck{constructor(t){this.Reveal=t,this.lastMouseWheelStep=0,this.cursorHidden=!1,this.cursorInactiveTimeout=0,this.onDocumentCursorActive=this.onDocumentCursorActive.bind(this),this.onDocumentMouseScroll=this.onDocumentMouseScroll.bind(this)}configure(t,e){t.mouseWheel?document.addEventListener("wheel",this.onDocumentMouseScroll,!1):document.removeEventListener("wheel",this.onDocumentMouseScroll,!1),t.hideInactiveCursor?(document.addEventListener("mousemove",this.onDocumentCursorActive,!1),document.addEventListener("mousedown",this.onDocumentCursorActive,!1)):(this.showCursor(),document.removeEventListener("mousemove",this.onDocumentCursorActive,!1),document.removeEventListener("mousedown",this.onDocumentCursorActive,!1))}showCursor(){this.cursorHidden&&(this.cursorHidden=!1,this.Reveal.getRevealElement().style.cursor="")}hideCursor(){this.cursorHidden===!1&&(this.cursorHidden=!0,this.Reveal.getRevealElement().style.cursor="none")}destroy(){this.showCursor(),document.removeEventListener("wheel",this.onDocumentMouseScroll,!1),document.removeEventListener("mousemove",this.onDocumentCursorActive,!1),document.removeEventListener("mousedown",this.onDocumentCursorActive,!1)}onDocumentCursorActive(t){this.showCursor(),clearTimeout(this.cursorInactiveTimeout),this.cursorInactiveTimeout=setTimeout(this.hideCursor.bind(this),this.Reveal.getConfig().hideCursorTime)}onDocumentMouseScroll(t){if(Date.now()-this.lastMouseWheelStep>1e3){this.lastMouseWheelStep=Date.now();let e=t.detail||-t.wheelDelta;e>0?this.Reveal.next():e<0&&this.Reveal.prev()}}}const rv=(i,t)=>{const e=document.createElement("script");e.type="text/javascript",e.async=!1,e.defer=!1,e.src=i,typeof t=="function"&&(e.onload=e.onreadystatechange=s=>{(s.type==="load"||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=e.onerror=null,t())},e.onerror=s=>{e.onload=e.onreadystatechange=e.onerror=null,t(new Error("Failed loading script: "+e.src+`
`+s))});const n=document.querySelector("head");n.insertBefore(e,n.lastChild)};class _k{constructor(t){this.Reveal=t,this.state="idle",this.registeredPlugins={},this.asyncDependencies=[]}load(t,e){return this.state="loading",t.forEach(this.registerPlugin.bind(this)),new Promise(n=>{let s=[],r=0;if(e.forEach(a=>{a.condition&&!a.condition()||(a.async?this.asyncDependencies.push(a):s.push(a))}),s.length){r=s.length;const a=o=>{o&&typeof o.callback=="function"&&o.callback(),--r==0&&this.initPlugins().then(n)};s.forEach(o=>{typeof o.id=="string"?(this.registerPlugin(o),a(o)):typeof o.src=="string"?rv(o.src,()=>a(o)):(console.warn("Unrecognized plugin format",o),a())})}else this.initPlugins().then(n)})}initPlugins(){return new Promise(t=>{let e=Object.values(this.registeredPlugins),n=e.length;if(n===0)this.loadAsync().then(t);else{let s,r=()=>{--n==0?this.loadAsync().then(t):s()},a=0;s=()=>{let o=e[a++];if(typeof o.init=="function"){let l=o.init(this.Reveal);l&&typeof l.then=="function"?l.then(r):r()}else r()},s()}})}loadAsync(){return this.state="loaded",this.asyncDependencies.length&&this.asyncDependencies.forEach(t=>{rv(t.src,t.callback)}),Promise.resolve()}registerPlugin(t){arguments.length===2&&typeof arguments[0]=="string"?(t=arguments[1]).id=arguments[0]:typeof t=="function"&&(t=t());let e=t.id;typeof e!="string"?console.warn("Unrecognized plugin format; can't find plugin.id",t):this.registeredPlugins[e]===void 0?(this.registeredPlugins[e]=t,this.state==="loaded"&&typeof t.init=="function"&&t.init(this.Reveal)):console.warn('reveal.js: "'+e+'" plugin has already been registered')}hasPlugin(t){return!!this.registeredPlugins[t]}getPlugin(t){return this.registeredPlugins[t]}getRegisteredPlugins(){return this.registeredPlugins}destroy(){Object.values(this.registeredPlugins).forEach(t=>{typeof t.destroy=="function"&&t.destroy()}),this.registeredPlugins={},this.asyncDependencies=[]}}class kk{constructor(t){this.Reveal=t,this.onSlidesClicked=this.onSlidesClicked.bind(this),this.iframeTriggerSelector=null,this.mediaTriggerSelector="[data-preview-image], [data-preview-video]",this.stateProps=["previewIframe","previewImage","previewVideo","previewFit"],this.state={}}update(){this.Reveal.getConfig().previewLinks?this.iframeTriggerSelector="a[href]:not([data-preview-link=false]), [data-preview-link]:not(a):not([data-preview-link=false])":this.iframeTriggerSelector="[data-preview-link]:not([data-preview-link=false])";const t=this.Reveal.getSlidesElement().querySelectorAll(this.iframeTriggerSelector).length>0,e=this.Reveal.getSlidesElement().querySelectorAll(this.mediaTriggerSelector).length>0;t||e?this.Reveal.getSlidesElement().addEventListener("click",this.onSlidesClicked,!1):this.Reveal.getSlidesElement().removeEventListener("click",this.onSlidesClicked,!1)}createOverlay(t){this.dom=document.createElement("div"),this.dom.classList.add("r-overlay"),this.dom.classList.add(t),this.viewport=document.createElement("div"),this.viewport.classList.add("r-overlay-viewport"),this.dom.appendChild(this.viewport),this.Reveal.getRevealElement().appendChild(this.dom)}previewIframe(t){this.close(),this.state={previewIframe:t},this.createOverlay("r-overlay-preview"),this.dom.dataset.state="loading",this.viewport.innerHTML=`<header class="r-overlay-header">
				<a class="r-overlay-button r-overlay-external" href="${t}" target="_blank"><span class="icon"></span></a>
				<button class="r-overlay-button r-overlay-close"><span class="icon"></span></button>
			</header>
			<div class="r-overlay-spinner"></div>
			<div class="r-overlay-content">
				<iframe src="${t}"></iframe>
				<small class="r-overlay-content-inner">
					<span class="r-overlay-error x-frame-error">Unable to load iframe. This is likely due to the site's policy (x-frame-options).</span>
				</small>
			</div>`,this.dom.querySelector("iframe").addEventListener("load",e=>{this.dom.dataset.state="loaded"},!1),this.dom.querySelector(".r-overlay-close").addEventListener("click",e=>{this.close(),e.preventDefault()},!1),this.dom.querySelector(".r-overlay-external").addEventListener("click",e=>{this.close()},!1),this.Reveal.dispatchEvent({type:"previewiframe",data:{url:t}})}previewMedia(t,e,n){if(e!=="image"&&e!=="video")return void console.warn("Please specify a valid media type to preview (image|video)");this.close(),n=n||"scale-down",this.createOverlay("r-overlay-preview"),this.dom.dataset.state="loading",this.dom.dataset.previewFit=n,this.viewport.innerHTML=`<header class="r-overlay-header">
				<button class="r-overlay-button r-overlay-close">Esc <span class="icon"></span></button>
			</header>
			<div class="r-overlay-spinner"></div>
			<div class="r-overlay-content"></div>`;const s=this.dom.querySelector(".r-overlay-content");if(e==="image"){this.state={previewImage:t,previewFit:n};const r=document.createElement("img",{});r.src=t,s.appendChild(r),r.addEventListener("load",()=>{this.dom.dataset.state="loaded"},!1),r.addEventListener("error",()=>{this.dom.dataset.state="error",s.innerHTML='<span class="r-overlay-error">Unable to load image.</span>'},!1),this.dom.style.cursor="zoom-out",this.dom.addEventListener("click",a=>{this.close()},!1),this.Reveal.dispatchEvent({type:"previewimage",data:{url:t}})}else{if(e!=="video")throw new Error("Please specify a valid media type to preview");{this.state={previewVideo:t,previewFit:n};const r=document.createElement("video");r.autoplay=this.dom.dataset.previewAutoplay!=="false",r.controls=this.dom.dataset.previewControls!=="false",r.loop=this.dom.dataset.previewLoop==="true",r.muted=this.dom.dataset.previewMuted==="true",r.playsInline=!0,r.src=t,s.appendChild(r),r.addEventListener("loadeddata",()=>{this.dom.dataset.state="loaded"},!1),r.addEventListener("error",()=>{this.dom.dataset.state="error",s.innerHTML='<span class="r-overlay-error">Unable to load video.</span>'},!1),this.Reveal.dispatchEvent({type:"previewvideo",data:{url:t}})}}this.dom.querySelector(".r-overlay-close").addEventListener("click",r=>{this.close(),r.preventDefault()},!1)}previewImage(t,e){this.previewMedia(t,"image",e)}previewVideo(t,e){this.previewMedia(t,"video",e)}toggleHelp(t){typeof t=="boolean"?t?this.showHelp():this.close():this.dom?this.close():this.showHelp()}showHelp(){if(this.Reveal.getConfig().help){this.close(),this.createOverlay("r-overlay-help");let t='<p class="title">Keyboard Shortcuts</p>',e=this.Reveal.keyboard.getShortcuts(),n=this.Reveal.keyboard.getBindings();t+="<table><th>KEY</th><th>ACTION</th>";for(let s in e)t+=`<tr><td>${s}</td><td>${e[s]}</td></tr>`;for(let s in n)n[s].key&&n[s].description&&(t+=`<tr><td>${n[s].key}</td><td>${n[s].description}</td></tr>`);t+="</table>",this.viewport.innerHTML=`
				<header class="r-overlay-header">
					<button class="r-overlay-button r-overlay-close">Esc <span class="icon"></span></button>
				</header>
				<div class="r-overlay-content">
					<div class="r-overlay-help-content">${t}</div>
				</div>
			`,this.dom.querySelector(".r-overlay-close").addEventListener("click",s=>{this.close(),s.preventDefault()},!1),this.Reveal.dispatchEvent({type:"showhelp"})}}isOpen(){return!!this.dom}close(){return!!this.dom&&(this.dom.remove(),this.dom=null,this.state={},this.Reveal.dispatchEvent({type:"closeoverlay"}),!0)}getState(){return this.state}setState(t){this.stateProps.every(e=>this.state[e]===t[e])||(t.previewIframe?this.previewIframe(t.previewIframe):t.previewImage?this.previewImage(t.previewImage,t.previewFit):t.previewVideo?this.previewVideo(t.previewVideo,t.previewFit):this.close())}onSlidesClicked(t){const e=t.target,n=e.closest(this.iframeTriggerSelector),s=e.closest(this.mediaTriggerSelector);if(n){if(t.metaKey||t.shiftKey||t.altKey)return;let r=n.getAttribute("href")||n.getAttribute("data-preview-link");r&&(this.previewIframe(r),t.preventDefault())}else if(s){if(s.hasAttribute("data-preview-image")){let r=s.dataset.previewImage||s.getAttribute("src");r&&(this.previewImage(r,s.dataset.previewFit),t.preventDefault())}else if(s.hasAttribute("data-preview-video")){let r=s.dataset.previewVideo||s.getAttribute("src");if(!r){let a=s.querySelector("source");a&&(r=a.getAttribute("src"))}r&&(this.previewVideo(r,s.dataset.previewFit),t.preventDefault())}}}destroy(){this.close()}}class Rk{constructor(t){this.Reveal=t,this.touchStartX=0,this.touchStartY=0,this.touchStartCount=0,this.touchCaptured=!1,this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this)}bind(){let t=this.Reveal.getRevealElement();"onpointerdown"in window?(t.addEventListener("pointerdown",this.onPointerDown,!1),t.addEventListener("pointermove",this.onPointerMove,!1),t.addEventListener("pointerup",this.onPointerUp,!1)):window.navigator.msPointerEnabled?(t.addEventListener("MSPointerDown",this.onPointerDown,!1),t.addEventListener("MSPointerMove",this.onPointerMove,!1),t.addEventListener("MSPointerUp",this.onPointerUp,!1)):(t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1))}unbind(){let t=this.Reveal.getRevealElement();t.removeEventListener("pointerdown",this.onPointerDown,!1),t.removeEventListener("pointermove",this.onPointerMove,!1),t.removeEventListener("pointerup",this.onPointerUp,!1),t.removeEventListener("MSPointerDown",this.onPointerDown,!1),t.removeEventListener("MSPointerMove",this.onPointerMove,!1),t.removeEventListener("MSPointerUp",this.onPointerUp,!1),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1)}isSwipePrevented(t){if(Th(t,"video[controls], audio[controls]"))return!0;for(;t&&typeof t.hasAttribute=="function";){if(t.hasAttribute("data-prevent-swipe"))return!0;t=t.parentNode}return!1}onTouchStart(t){if(this.touchCaptured=!1,this.isSwipePrevented(t.target))return!0;this.touchStartX=t.touches[0].clientX,this.touchStartY=t.touches[0].clientY,this.touchStartCount=t.touches.length}onTouchMove(t){if(this.isSwipePrevented(t.target))return!0;let e=this.Reveal.getConfig();if(this.touchCaptured)Ly&&t.preventDefault();else{this.Reveal.onUserInput(t);let n=t.touches[0].clientX,s=t.touches[0].clientY;if(t.touches.length===1&&this.touchStartCount!==2){let r=this.Reveal.availableRoutes({includeFragments:!0}),a=n-this.touchStartX,o=s-this.touchStartY;a>40&&Math.abs(a)>Math.abs(o)?(this.touchCaptured=!0,e.navigationMode==="linear"?e.rtl?this.Reveal.next():this.Reveal.prev():this.Reveal.left()):a<-40&&Math.abs(a)>Math.abs(o)?(this.touchCaptured=!0,e.navigationMode==="linear"?e.rtl?this.Reveal.prev():this.Reveal.next():this.Reveal.right()):o>40&&r.up?(this.touchCaptured=!0,e.navigationMode==="linear"?this.Reveal.prev():this.Reveal.up()):o<-40&&r.down&&(this.touchCaptured=!0,e.navigationMode==="linear"?this.Reveal.next():this.Reveal.down()),e.embedded?(this.touchCaptured||this.Reveal.isVerticalSlide())&&t.preventDefault():t.preventDefault()}}}onTouchEnd(t){this.touchCaptured=!1}onPointerDown(t){t.pointerType!==t.MSPOINTER_TYPE_TOUCH&&t.pointerType!=="touch"||(t.touches=[{clientX:t.clientX,clientY:t.clientY}],this.onTouchStart(t))}onPointerMove(t){t.pointerType!==t.MSPOINTER_TYPE_TOUCH&&t.pointerType!=="touch"||(t.touches=[{clientX:t.clientX,clientY:t.clientY}],this.onTouchMove(t))}onPointerUp(t){t.pointerType!==t.MSPOINTER_TYPE_TOUCH&&t.pointerType!=="touch"||(t.touches=[{clientX:t.clientX,clientY:t.clientY}],this.onTouchEnd(t))}}const Qu="focus",av="blur";class Pk{constructor(t){this.Reveal=t,this.onRevealPointerDown=this.onRevealPointerDown.bind(this),this.onDocumentPointerDown=this.onDocumentPointerDown.bind(this)}configure(t,e){t.embedded?this.blur():(this.focus(),this.unbind())}bind(){this.Reveal.getConfig().embedded&&this.Reveal.getRevealElement().addEventListener("pointerdown",this.onRevealPointerDown,!1)}unbind(){this.Reveal.getRevealElement().removeEventListener("pointerdown",this.onRevealPointerDown,!1),document.removeEventListener("pointerdown",this.onDocumentPointerDown,!1)}focus(){this.state!==Qu&&(this.Reveal.getRevealElement().classList.add("focused"),document.addEventListener("pointerdown",this.onDocumentPointerDown,!1)),this.state=Qu}blur(){this.state!==av&&(this.Reveal.getRevealElement().classList.remove("focused"),document.removeEventListener("pointerdown",this.onDocumentPointerDown,!1)),this.state=av}isFocused(){return this.state===Qu}destroy(){this.Reveal.getRevealElement().classList.remove("focused")}onRevealPointerDown(t){this.focus()}onDocumentPointerDown(t){let e=Pe(t.target,".reveal");e&&e===this.Reveal.getRevealElement()||this.blur()}}class Tk{constructor(t){this.Reveal=t}render(){this.element=document.createElement("div"),this.element.className="speaker-notes",this.element.setAttribute("data-prevent-swipe",""),this.element.setAttribute("tabindex","0"),this.Reveal.getRevealElement().appendChild(this.element)}configure(t,e){t.showNotes&&this.element.setAttribute("data-layout",typeof t.showNotes=="string"?t.showNotes:"inline")}update(){this.Reveal.getConfig().showNotes&&this.element&&this.Reveal.getCurrentSlide()&&!this.Reveal.isScrollView()&&!this.Reveal.isPrintView()&&(this.element.innerHTML=this.getSlideNotes()||'<span class="notes-placeholder">No notes on this slide.</span>')}updateVisibility(){this.Reveal.getConfig().showNotes&&this.hasNotes()&&!this.Reveal.isScrollView()&&!this.Reveal.isPrintView()?this.Reveal.getRevealElement().classList.add("show-notes"):this.Reveal.getRevealElement().classList.remove("show-notes")}hasNotes(){return this.Reveal.getSlidesElement().querySelectorAll("[data-notes], aside.notes").length>0}isSpeakerNotesWindow(){return!!window.location.search.match(/receiver/gi)}getSlideNotes(t=this.Reveal.getCurrentSlide()){if(t.hasAttribute("data-notes"))return t.getAttribute("data-notes");let e=t.querySelectorAll("aside.notes");return e?Array.from(e).map(n=>n.innerHTML).join(`
`):null}destroy(){this.element.remove()}}class Lk{constructor(t,e){this.diameter=100,this.diameter2=this.diameter/2,this.thickness=6,this.playing=!1,this.progress=0,this.progressOffset=1,this.container=t,this.progressCheck=e,this.canvas=document.createElement("canvas"),this.canvas.className="playback",this.canvas.width=this.diameter,this.canvas.height=this.diameter,this.canvas.style.width=this.diameter2+"px",this.canvas.style.height=this.diameter2+"px",this.context=this.canvas.getContext("2d"),this.container.appendChild(this.canvas),this.render()}setPlaying(t){const e=this.playing;this.playing=t,!e&&this.playing?this.animate():this.render()}animate(){const t=this.progress;this.progress=this.progressCheck(),t>.8&&this.progress<.2&&(this.progressOffset=this.progress),this.render(),this.playing&&requestAnimationFrame(this.animate.bind(this))}render(){let t=this.playing?this.progress:0,e=this.diameter2-this.thickness,n=this.diameter2,s=this.diameter2,r=28;this.progressOffset+=.1*(1-this.progressOffset);const a=-Math.PI/2+t*(2*Math.PI),o=-Math.PI/2+this.progressOffset*(2*Math.PI);this.context.save(),this.context.clearRect(0,0,this.diameter,this.diameter),this.context.beginPath(),this.context.arc(n,s,e+4,0,2*Math.PI,!1),this.context.fillStyle="rgba( 0, 0, 0, 0.4 )",this.context.fill(),this.context.beginPath(),this.context.arc(n,s,e,0,2*Math.PI,!1),this.context.lineWidth=this.thickness,this.context.strokeStyle="rgba( 255, 255, 255, 0.2 )",this.context.stroke(),this.playing&&(this.context.beginPath(),this.context.arc(n,s,e,o,a,!1),this.context.lineWidth=this.thickness,this.context.strokeStyle="#fff",this.context.stroke()),this.context.translate(n-14,s-14),this.playing?(this.context.fillStyle="#fff",this.context.fillRect(0,0,10,r),this.context.fillRect(18,0,10,r)):(this.context.beginPath(),this.context.translate(4,0),this.context.moveTo(0,0),this.context.lineTo(24,14),this.context.lineTo(0,r),this.context.fillStyle="#fff",this.context.fill()),this.context.restore()}on(t,e){this.canvas.addEventListener(t,e,!1)}off(t,e){this.canvas.removeEventListener(t,e,!1)}destroy(){this.playing=!1,this.canvas.parentNode&&this.container.removeChild(this.canvas)}}var Mk={width:960,height:700,margin:.04,minScale:.2,maxScale:2,controls:!0,controlsTutorial:!0,controlsLayout:"bottom-right",controlsBackArrows:"faded",progress:!0,slideNumber:!1,showSlideNumber:"all",hashOneBasedIndex:!1,hash:!1,respondToHashChanges:!0,jumpToSlide:!0,history:!1,keyboard:!0,keyboardCondition:null,disableLayout:!1,overview:!0,center:!0,touch:!0,loop:!1,rtl:!1,navigationMode:"default",shuffle:!1,fragments:!0,fragmentInURL:!0,embedded:!1,help:!0,pause:!0,showNotes:!1,showHiddenSlides:!1,autoPlayMedia:null,preloadIframes:null,autoAnimate:!0,autoAnimateMatcher:null,autoAnimateEasing:"ease",autoAnimateDuration:1,autoAnimateUnmatched:!0,autoAnimateStyles:["opacity","color","background-color","padding","font-size","line-height","letter-spacing","border-width","border-color","border-radius","outline","outline-offset"],autoSlide:0,autoSlideStoppable:!0,autoSlideMethod:null,defaultTiming:null,mouseWheel:!1,previewLinks:!1,postMessage:!0,postMessageEvents:!1,focusBodyOnPageVisibilityChange:!0,transition:"slide",transitionSpeed:"default",backgroundTransition:"fade",parallaxBackgroundImage:"",parallaxBackgroundSize:"",parallaxBackgroundRepeat:"",parallaxBackgroundPosition:"",parallaxBackgroundHorizontal:null,parallaxBackgroundVertical:null,view:null,scrollLayout:"full",scrollSnap:"mandatory",scrollProgress:"auto",scrollActivationWidth:435,pdfMaxPagesPerSlide:Number.POSITIVE_INFINITY,pdfSeparateFragments:!0,pdfPageHeightOffset:-1,viewDistance:3,mobileViewDistance:2,display:"block",hideInactiveCursor:!0,hideCursorTime:5e3,sortFragmentsOnSync:!0,dependencies:[],plugins:[]};const My="5.2.1";function Iy(i,t){arguments.length<2&&(t=arguments[0],i=document.querySelector(".reveal"));const e={};let n,s,r,a,o,l={},d=!1,h=!1,u={hasNavigatedHorizontally:!1,hasNavigatedVertically:!1},f=[],p=1,g={layout:"",overview:""},m={},b="idle",v=0,E=0,x=-1,C=!1,S=new hk(e),k=new fk(e),L=new pk(e),T=new mk(e),M=new gk(e),_=new vk(e),I=new bk(e),F=new yk(e),H=new wk(e),B=new Ak(e),W=new Ek(e),$=new xk(e),N=new Sk(e),O=new Ck(e),at=new _k(e),ot=new kk(e),Ct=new Pk(e),vt=new Rk(e),et=new Tk(e);function ft(){d!==!1&&(h=!0,l.showHiddenSlides||rt(m.wrapper,'section[data-visibility="hidden"]').forEach(P=>{const D=P.parentNode;D.childElementCount===1&&/section/i.test(D.nodeName)?D.remove():P.remove()}),function(){m.slides.classList.add("no-transition"),Oa?m.wrapper.classList.add("no-hover"):m.wrapper.classList.remove("no-hover"),M.render(),k.render(),L.render(),$.render(),N.render(),et.render(),m.pauseOverlay=((P,D,z,U="")=>{let V=P.querySelectorAll("."+z);for(let Dt=0;Dt<V.length;Dt++){let Wt=V[Dt];if(Wt.parentNode===P)return Wt}let St=document.createElement(D);return St.className=z,St.innerHTML=U,P.appendChild(St),St})(m.wrapper,"div","pause-overlay",l.controls?'<button class="resume-button">Resume presentation</button>':null),m.statusElement=function(){let P=m.wrapper.querySelector(".aria-status");return P||(P=document.createElement("div"),P.style.position="absolute",P.style.height="1px",P.style.width="1px",P.style.overflow="hidden",P.style.clip="rect( 1px, 1px, 1px, 1px )",P.classList.add("aria-status"),P.setAttribute("aria-live","polite"),P.setAttribute("aria-atomic","true"),m.wrapper.appendChild(P)),P}(),m.wrapper.setAttribute("role","application")}(),l.postMessage&&window.addEventListener("message",Vg,!1),setInterval(()=>{(!_.isActive()&&m.wrapper.scrollTop!==0||m.wrapper.scrollLeft!==0)&&(m.wrapper.scrollTop=0,m.wrapper.scrollLeft=0)},1e3),document.addEventListener("fullscreenchange",Ld),document.addEventListener("webkitfullscreenchange",Ld),Sn().forEach(P=>{rt(P,"section").forEach((D,z)=>{z>0&&(D.classList.remove("present"),D.classList.remove("past"),D.classList.add("future"),D.setAttribute("aria-hidden","true"))})}),Q(),M.update(!0),function(){const P=l.view==="print",D=l.view==="scroll"||l.view==="reader";(P||D)&&(P?Rt():vt.unbind(),m.viewport.classList.add("loading-scroll-mode"),P?document.readyState==="complete"?I.activate():window.addEventListener("load",()=>I.activate()):_.activate())}(),W.readURL(),setTimeout(()=>{m.slides.classList.remove("no-transition"),m.wrapper.classList.add("ready"),K({type:"ready",data:{indexh:n,indexv:s,currentSlide:a}})},1))}function It(P){m.statusElement.textContent=P}function Lt(P){let D="";if(P.nodeType===3)D+=P.textContent;else if(P.nodeType===1){let z=P.getAttribute("aria-hidden"),U=window.getComputedStyle(P).display==="none";z==="true"||U||Array.from(P.childNodes).forEach(V=>{D+=Lt(V)})}return D=D.trim(),D===""?"":D+" "}function Q(P){const D={...l};if(typeof P=="object"&&La(l,P),e.isReady()===!1)return;const z=m.wrapper.querySelectorAll(dr).length;m.wrapper.classList.remove(D.transition),m.wrapper.classList.add(l.transition),m.wrapper.setAttribute("data-transition-speed",l.transitionSpeed),m.wrapper.setAttribute("data-background-transition",l.backgroundTransition),m.viewport.style.setProperty("--slide-width",typeof l.width=="string"?l.width:l.width+"px"),m.viewport.style.setProperty("--slide-height",typeof l.height=="string"?l.height:l.height+"px"),l.shuffle&&Ji(),Yu(m.wrapper,"embedded",l.embedded),Yu(m.wrapper,"rtl",l.rtl),Yu(m.wrapper,"center",l.center),l.pause===!1&&ms(),T.reset(),o&&(o.destroy(),o=null),z>1&&l.autoSlide&&l.autoSlideStoppable&&(o=new Lk(m.wrapper,()=>Math.min(Math.max((Date.now()-x)/v,0),1)),o.on("click",qA),C=!1),l.navigationMode!=="default"?m.wrapper.setAttribute("data-navigation-mode",l.navigationMode):m.wrapper.removeAttribute("data-navigation-mode"),et.configure(l,D),Ct.configure(l,D),O.configure(l,D),$.configure(l,D),N.configure(l,D),B.configure(l,D),F.configure(l,D),k.configure(l,D),ya()}function pt(){window.addEventListener("resize",Xg,!1),l.touch&&vt.bind(),l.keyboard&&B.bind(),l.progress&&N.bind(),l.respondToHashChanges&&W.bind(),$.bind(),Ct.bind(),m.slides.addEventListener("click",Gg,!1),m.slides.addEventListener("transitionend",qg,!1),m.pauseOverlay.addEventListener("click",ms,!1),l.focusBodyOnPageVisibilityChange&&document.addEventListener("visibilitychange",Yg,!1)}function Rt(){vt.unbind(),Ct.unbind(),B.unbind(),$.unbind(),N.unbind(),W.unbind(),window.removeEventListener("resize",Xg,!1),m.slides.removeEventListener("click",Gg,!1),m.slides.removeEventListener("transitionend",qg,!1),m.pauseOverlay.removeEventListener("click",ms,!1)}function dt(P,D,z){i.addEventListener(P,D,z)}function gt(P,D,z){i.removeEventListener(P,D,z)}function G(P){typeof P.layout=="string"&&(g.layout=P.layout),typeof P.overview=="string"&&(g.overview=P.overview),g.layout?vi(m.slides,g.layout+" "+g.overview):vi(m.slides,g.overview)}function K({target:P=m.wrapper,type:D,data:z,bubbles:U=!0}){let V=document.createEvent("HTMLEvents",1,2);return V.initEvent(D,U,!0),La(V,z),P.dispatchEvent(V),P===m.wrapper&&wt(D),V}function lt(P){K({type:"slidechanged",data:{indexh:n,indexv:s,previousSlide:r,currentSlide:a,origin:P}})}function wt(P,D){if(l.postMessageEvents&&window.parent!==window.self){let z={namespace:"reveal",eventName:P,state:Cd()};La(z,D),window.parent.postMessage(JSON.stringify(z),"*")}}function bt(){if(m.wrapper&&!I.isActive()){const P=m.viewport.offsetWidth,D=m.viewport.offsetHeight;if(!l.disableLayout){Oa&&!l.embedded&&document.documentElement.style.setProperty("--vh",.01*window.innerHeight+"px");const z=_.isActive()?te(P,D):te(),U=p;Qt(l.width,l.height),m.slides.style.width=z.width+"px",m.slides.style.height=z.height+"px",p=Math.min(z.presentationWidth/z.width,z.presentationHeight/z.height),p=Math.max(p,l.minScale),p=Math.min(p,l.maxScale),p===1||_.isActive()?(m.slides.style.zoom="",m.slides.style.left="",m.slides.style.top="",m.slides.style.bottom="",m.slides.style.right="",G({layout:""})):(m.slides.style.zoom="",m.slides.style.left="50%",m.slides.style.top="50%",m.slides.style.bottom="auto",m.slides.style.right="auto",G({layout:"translate(-50%, -50%) scale("+p+")"}));const V=Array.from(m.wrapper.querySelectorAll(dr));for(let St=0,Dt=V.length;St<Dt;St++){const Wt=V[St];Wt.style.display!=="none"&&(l.center||Wt.classList.contains("center")?Wt.classList.contains("stack")?Wt.style.top=0:Wt.style.top=Math.max((z.height-Wt.scrollHeight)/2,0)+"px":Wt.style.top="")}U!==p&&K({type:"resize",data:{oldScale:U,scale:p,size:z}})}(function(){if(m.wrapper&&!l.disableLayout&&!I.isActive()&&typeof l.scrollActivationWidth=="number"&&l.view!=="scroll"){const z=te();z.presentationWidth>0&&z.presentationWidth<=l.scrollActivationWidth?_.isActive()||(M.create(),_.activate()):_.isActive()&&_.deactivate()}})(),m.viewport.style.setProperty("--slide-scale",p),m.viewport.style.setProperty("--viewport-width",P+"px"),m.viewport.style.setProperty("--viewport-height",D+"px"),_.layout(),N.update(),M.updateParallax(),H.isActive()&&H.update()}}function Qt(P,D){rt(m.slides,"section > .stretch, section > .r-stretch").forEach(z=>{let U=((V,St=0)=>{if(V){let Dt,Wt=V.style.height;return V.style.height="0px",V.parentNode.style.height="auto",Dt=St-V.parentNode.offsetHeight,V.style.height=Wt+"px",V.parentNode.style.removeProperty("height"),Dt}return St})(z,D);if(/(img|video)/gi.test(z.nodeName)){const V=z.naturalWidth||z.videoWidth,St=z.naturalHeight||z.videoHeight,Dt=Math.min(P/V,U/St);z.style.width=V*Dt+"px",z.style.height=St*Dt+"px"}else z.style.width=P+"px",z.style.height=U+"px"})}function te(P,D){let z=l.width,U=l.height;l.disableLayout&&(z=m.slides.offsetWidth,U=m.slides.offsetHeight);const V={width:z,height:U,presentationWidth:P||m.wrapper.offsetWidth,presentationHeight:D||m.wrapper.offsetHeight};return V.presentationWidth-=V.presentationWidth*l.margin,V.presentationHeight-=V.presentationHeight*l.margin,typeof V.width=="string"&&/%$/.test(V.width)&&(V.width=parseInt(V.width,10)/100*V.presentationWidth),typeof V.height=="string"&&/%$/.test(V.height)&&(V.height=parseInt(V.height,10)/100*V.presentationHeight),V}function ue(P,D){typeof P=="object"&&typeof P.setAttribute=="function"&&P.setAttribute("data-previous-indexv",D||0)}function un(P){if(typeof P=="object"&&typeof P.setAttribute=="function"&&P.classList.contains("stack")){const D=P.hasAttribute("data-start-indexv")?"data-start-indexv":"data-previous-indexv";return parseInt(P.getAttribute(D)||0,10)}return 0}function Se(P=a){return P&&P.parentNode&&!!P.parentNode.nodeName.match(/section/i)}function li(){return!(!a||!Se(a))&&!a.nextElementSibling}function ci(){return n===0&&s===0}function di(){return!!a&&!a.nextElementSibling&&(!Se(a)||!a.parentNode.nextElementSibling)}function Qi(){if(l.pause){const P=m.wrapper.classList.contains("paused");_d(),m.wrapper.classList.add("paused"),P===!1&&K({type:"paused"})}}function ms(){const P=m.wrapper.classList.contains("paused");m.wrapper.classList.remove("paused"),wa(),P&&K({type:"resumed"})}function fn(P){typeof P=="boolean"?P?Qi():ms():pn()?ms():Qi()}function pn(){return m.wrapper.classList.contains("paused")}function se(P,D,z,U){if(K({type:"beforeslidechange",data:{indexh:P===void 0?n:P,indexv:D===void 0?s:D,origin:U}}).defaultPrevented)return;r=a;const V=m.wrapper.querySelectorAll(fi);if(_.isActive()){const Xe=_.getSlideByIndices(P,D);return void(Xe&&_.scrollToSlide(Xe))}if(V.length===0)return;D!==void 0||H.isActive()||(D=un(V[P])),r&&r.parentNode&&r.parentNode.classList.contains("stack")&&ue(r.parentNode,s);const St=f.concat();f.length=0;let Dt=n||0,Wt=s||0;n=Zi(fi,P===void 0?n:P),s=Zi(sv,D===void 0?s:D);let vs=n!==Dt||s!==Wt;vs||(r=null);let tr=V[n],Ie=tr.querySelectorAll("section");i.classList.toggle("is-vertical-slide",Ie.length>1),a=Ie[s]||tr;let Yt=!1;vs&&r&&a&&!H.isActive()&&(b="running",Yt=ze(r,a,Dt,Wt),Yt&&m.slides.classList.add("disable-slide-transitions")),qo(),bt(),H.isActive()&&H.update(),z!==void 0&&F.goto(z),r&&r!==a&&(r.classList.remove("present"),r.setAttribute("aria-hidden","true"),ci()&&setTimeout(()=>{rt(m.wrapper,fi+".stack").forEach(Xe=>{ue(Xe,0)})},0));t:for(let Xe=0,GA=f.length;Xe<GA;Xe++){for(let Md=0;Md<St.length;Md++)if(St[Md]===f[Xe]){St.splice(Md,1);continue t}m.viewport.classList.add(f[Xe]),K({type:f[Xe]})}for(;St.length;)m.viewport.classList.remove(St.pop());vs&&lt(U),!vs&&r||(S.stopEmbeddedContent(r),S.startEmbeddedContent(a)),requestAnimationFrame(()=>{It(Lt(a))}),N.update(),$.update(),et.update(),M.update(),M.updateParallax(),k.update(),F.update(),W.writeURL(),wa(),Yt&&(setTimeout(()=>{m.slides.classList.remove("disable-slide-transitions")},0),l.autoAnimate&&T.run(r,a))}function ze(P,D,z,U){return P.hasAttribute("data-auto-animate")&&D.hasAttribute("data-auto-animate")&&P.getAttribute("data-auto-animate-id")===D.getAttribute("data-auto-animate-id")&&!(n>z||s>U?D:P).hasAttribute("data-auto-animate-restart")}function ya(){Rt(),pt(),bt(),v=l.autoSlide,wa(),M.create(),W.writeURL(),l.sortFragmentsOnSync===!0&&F.sortAll(),$.update(),N.update(),qo(),et.update(),et.updateVisibility(),ot.update(),M.update(!0),k.update(),S.formatEmbeddedContent(),l.autoPlayMedia===!1?S.stopEmbeddedContent(a,{unloadIframes:!1}):S.startEmbeddedContent(a),H.isActive()&&H.layout()}function Ji(P=Sn()){P.forEach((D,z)=>{let U=P[Math.floor(Math.random()*P.length)];U.parentNode===D.parentNode&&D.parentNode.insertBefore(D,U);let V=D.querySelectorAll("section");V.length&&Ji(V)})}function Zi(P,D){let z=rt(m.wrapper,P),U=z.length,V=_.isActive()||I.isActive(),St=!1,Dt=!1;if(U){l.loop&&(D>=U&&(St=!0),(D%=U)<0&&(D=U+D,Dt=!0)),D=Math.max(Math.min(D,U-1),0);for(let Ie=0;Ie<U;Ie++){let Yt=z[Ie],Xe=l.rtl&&!Se(Yt);Yt.classList.remove("past"),Yt.classList.remove("present"),Yt.classList.remove("future"),Yt.setAttribute("hidden",""),Yt.setAttribute("aria-hidden","true"),Yt.querySelector("section")&&Yt.classList.add("stack"),V?Yt.classList.add("present"):Ie<D?(Yt.classList.add(Xe?"future":"past"),l.fragments&&Ad(Yt)):Ie>D?(Yt.classList.add(Xe?"past":"future"),l.fragments&&Ed(Yt)):Ie===D&&l.fragments&&(St?Ed(Yt):Dt&&Ad(Yt))}let Wt=z[D],vs=Wt.classList.contains("present");Wt.classList.add("present"),Wt.removeAttribute("hidden"),Wt.removeAttribute("aria-hidden"),vs||K({target:Wt,type:"visible",bubbles:!1});let tr=Wt.getAttribute("data-state");tr&&(f=f.concat(tr.split(" ")))}else D=0;return D}function Ad(P){rt(P,".fragment").forEach(D=>{D.classList.add("visible"),D.classList.remove("current-fragment")})}function Ed(P){rt(P,".fragment.visible").forEach(D=>{D.classList.remove("visible","current-fragment")})}function qo(){let P,D,z=Sn(),U=z.length;if(U&&n!==void 0){let V=H.isActive()?10:l.viewDistance;Oa&&(V=H.isActive()?6:l.mobileViewDistance),I.isActive()&&(V=Number.MAX_VALUE);for(let St=0;St<U;St++){let Dt=z[St],Wt=rt(Dt,"section"),vs=Wt.length;if(P=Math.abs((n||0)-St)||0,l.loop&&(P=Math.abs(((n||0)-St)%(U-V))||0),P<V?S.load(Dt):S.unload(Dt),vs){let tr=un(Dt);for(let Ie=0;Ie<vs;Ie++){let Yt=Wt[Ie];D=Math.abs(St===(n||0)?(s||0)-Ie:Ie-tr),P+D<V?S.load(Yt):S.unload(Yt)}}}Sd()?m.wrapper.classList.add("has-vertical-slides"):m.wrapper.classList.remove("has-vertical-slides"),Ko()?m.wrapper.classList.add("has-horizontal-slides"):m.wrapper.classList.remove("has-horizontal-slides")}}function xn({includeFragments:P=!1}={}){let D=m.wrapper.querySelectorAll(fi),z=m.wrapper.querySelectorAll(sv),U={left:n>0,right:n<D.length-1,up:s>0,down:s<z.length-1};if(l.loop&&(D.length>1&&(U.left=!0,U.right=!0),z.length>1&&(U.up=!0,U.down=!0)),D.length>1&&l.navigationMode==="linear"&&(U.right=U.right||U.down,U.left=U.left||U.up),P===!0){let V=F.availableRoutes();U.left=U.left||V.prev,U.up=U.up||V.prev,U.down=U.down||V.next,U.right=U.right||V.next}if(l.rtl){let V=U.left;U.left=U.right,U.right=V}return U}function xd(P=a){let D=Sn(),z=0;t:for(let U=0;U<D.length;U++){let V=D[U],St=V.querySelectorAll("section");for(let Dt=0;Dt<St.length;Dt++){if(St[Dt]===P)break t;St[Dt].dataset.visibility!=="uncounted"&&z++}if(V===P)break;V.classList.contains("stack")===!1&&V.dataset.visibility!=="uncounted"&&z++}return z}function Go(P){let D,z=n,U=s;if(P)if(_.isActive())z=parseInt(P.getAttribute("data-index-h"),10),P.getAttribute("data-index-v")&&(U=parseInt(P.getAttribute("data-index-v"),10));else{let V=Se(P),St=V?P.parentNode:P,Dt=Sn();z=Math.max(Dt.indexOf(St),0),U=void 0,V&&(U=Math.max(rt(P.parentNode,"section").indexOf(P),0))}if(!P&&a&&a.querySelectorAll(".fragment").length>0){let V=a.querySelector(".current-fragment");D=V&&V.hasAttribute("data-fragment-index")?parseInt(V.getAttribute("data-fragment-index"),10):a.querySelectorAll(".fragment.visible").length-1}return{h:z,v:U,f:D}}function Xo(){return rt(m.wrapper,dr+':not(.stack):not([data-visibility="uncounted"])')}function Sn(){return rt(m.wrapper,fi)}function Yo(){return rt(m.wrapper,".slides>section>section")}function Ko(){return Sn().length>1}function Sd(){return Yo().length>1}function Qo(){return Xo().length}function Jo(P,D){let z=Sn()[P],U=z&&z.querySelectorAll("section");return U&&U.length&&typeof D=="number"?U?U[D]:void 0:z}function Cd(){let P=Go();return{indexh:P.h,indexv:P.v,indexf:P.f,paused:pn(),overview:H.isActive(),...ot.getState()}}function wa(){if(_d(),a&&l.autoSlide!==!1){let P=a.querySelector(".current-fragment[data-autoslide]"),D=P?P.getAttribute("data-autoslide"):null,z=a.parentNode?a.parentNode.getAttribute("data-autoslide"):null,U=a.getAttribute("data-autoslide");D?v=parseInt(D,10):U?v=parseInt(U,10):z?v=parseInt(z,10):(v=l.autoSlide,a.querySelectorAll(".fragment").length===0&&rt(a,"video, audio").forEach(V=>{V.hasAttribute("data-autoplay")&&v&&1e3*V.duration/V.playbackRate>v&&(v=1e3*V.duration/V.playbackRate+1e3)})),!v||C||pn()||H.isActive()||di()&&!F.availableRoutes().next&&l.loop!==!0||(E=setTimeout(()=>{typeof l.autoSlideMethod=="function"?l.autoSlideMethod():Mu(),wa()},v),x=Date.now()),o&&o.setPlaying(E!==-1)}}function _d(){clearTimeout(E),E=-1}function kd(){v&&!C&&(C=!0,K({type:"autoslidepaused"}),clearTimeout(E),o&&o.setPlaying(!1))}function Rd(){v&&C&&(C=!1,K({type:"autoslideresumed"}),wa())}function Pd({skipFragments:P=!1}={}){if(u.hasNavigatedHorizontally=!0,_.isActive())return _.prev();l.rtl?(H.isActive()||P||F.next()===!1)&&xn().left&&se(n+1,l.navigationMode==="grid"?s:void 0):(H.isActive()||P||F.prev()===!1)&&xn().left&&se(n-1,l.navigationMode==="grid"?s:void 0)}function Td({skipFragments:P=!1}={}){if(u.hasNavigatedHorizontally=!0,_.isActive())return _.next();l.rtl?(H.isActive()||P||F.prev()===!1)&&xn().right&&se(n-1,l.navigationMode==="grid"?s:void 0):(H.isActive()||P||F.next()===!1)&&xn().right&&se(n+1,l.navigationMode==="grid"?s:void 0)}function Tu({skipFragments:P=!1}={}){if(_.isActive())return _.prev();(H.isActive()||P||F.prev()===!1)&&xn().up&&se(n,s-1)}function Lu({skipFragments:P=!1}={}){if(u.hasNavigatedVertically=!0,_.isActive())return _.next();(H.isActive()||P||F.next()===!1)&&xn().down&&se(n,s+1)}function Wg({skipFragments:P=!1}={}){if(_.isActive())return _.prev();if(P||F.prev()===!1)if(xn().up)Tu({skipFragments:P});else{let D;if(D=l.rtl?rt(m.wrapper,fi+".future").pop():rt(m.wrapper,fi+".past").pop(),D&&D.classList.contains("stack")){let z=D.querySelectorAll("section").length-1||void 0;se(n-1,z)}else l.rtl?Td({skipFragments:P}):Pd({skipFragments:P})}}function Mu({skipFragments:P=!1}={}){if(u.hasNavigatedHorizontally=!0,u.hasNavigatedVertically=!0,_.isActive())return _.next();if(P||F.next()===!1){let D=xn();D.down&&D.right&&l.loop&&li()&&(D.down=!1),D.down?Lu({skipFragments:P}):l.rtl?Pd({skipFragments:P}):Td({skipFragments:P})}}function Vg(P){let D=P.data;if(typeof D=="string"&&D.charAt(0)==="{"&&D.charAt(D.length-1)==="}"&&(D=JSON.parse(D),D.method&&typeof e[D.method]=="function"))if(uk.test(D.method)===!1){const z=e[D.method].apply(e,D.args);wt("callback",{method:D.method,result:z})}else console.warn('reveal.js: "'+D.method+'" is is blacklisted from the postMessage API')}function qg(P){b==="running"&&/section/gi.test(P.target.nodeName)&&(b="idle",K({type:"slidetransitionend",data:{indexh:n,indexv:s,previousSlide:r,currentSlide:a}}))}function Gg(P){const D=Pe(P.target,'a[href^="#"]');if(D){const z=D.getAttribute("href"),U=W.getIndicesFromHash(z);U&&(e.slide(U.h,U.v,U.f),P.preventDefault())}}function Xg(P){bt()}function Yg(P){document.hidden===!1&&document.activeElement!==document.body&&(typeof document.activeElement.blur=="function"&&document.activeElement.blur(),document.body.focus())}function Ld(P){(document.fullscreenElement||document.webkitFullscreenElement)===m.wrapper&&(P.stopImmediatePropagation(),setTimeout(()=>{e.layout(),e.focus.focus()},1))}function qA(P){di()&&l.loop===!1?(se(0,0),Rd()):C?Rd():kd()}const Kg={VERSION:My,initialize:function(P){if(!i)throw'Unable to find presentation root (<div class="reveal">).';if(d)throw"Reveal.js has already been initialized.";if(d=!0,m.wrapper=i,m.slides=i.querySelector(".slides"),!m.slides)throw'Unable to find slides container (<div class="slides">).';return l={...Mk,...l,...t,...P,...nv()},/print-pdf/gi.test(window.location.search)&&(l.view="print"),function(){l.embedded===!0?m.viewport=Pe(i,".reveal-viewport")||i:(m.viewport=document.body,document.documentElement.classList.add("reveal-full-page")),m.viewport.classList.add("reveal-viewport")}(),window.addEventListener("load",bt,!1),at.load(l.plugins,l.dependencies).then(ft),new Promise(D=>e.on("ready",D))},configure:Q,destroy:function(){d=!1,h!==!1&&(Rt(),_d(),et.destroy(),Ct.destroy(),ot.destroy(),at.destroy(),O.destroy(),$.destroy(),N.destroy(),M.destroy(),k.destroy(),L.destroy(),document.removeEventListener("fullscreenchange",Ld),document.removeEventListener("webkitfullscreenchange",Ld),document.removeEventListener("visibilitychange",Yg,!1),window.removeEventListener("message",Vg,!1),window.removeEventListener("load",bt,!1),m.pauseOverlay&&m.pauseOverlay.remove(),m.statusElement&&m.statusElement.remove(),document.documentElement.classList.remove("reveal-full-page"),m.wrapper.classList.remove("ready","center","has-horizontal-slides","has-vertical-slides"),m.wrapper.removeAttribute("data-transition-speed"),m.wrapper.removeAttribute("data-background-transition"),m.viewport.classList.remove("reveal-viewport"),m.viewport.style.removeProperty("--slide-width"),m.viewport.style.removeProperty("--slide-height"),m.slides.style.removeProperty("width"),m.slides.style.removeProperty("height"),m.slides.style.removeProperty("zoom"),m.slides.style.removeProperty("left"),m.slides.style.removeProperty("top"),m.slides.style.removeProperty("bottom"),m.slides.style.removeProperty("right"),m.slides.style.removeProperty("transform"),Array.from(m.wrapper.querySelectorAll(dr)).forEach(P=>{P.style.removeProperty("display"),P.style.removeProperty("top"),P.removeAttribute("hidden"),P.removeAttribute("aria-hidden")}))},sync:ya,syncSlide:function(P=a){M.sync(P),F.sync(P),S.load(P),M.update(),et.update()},syncFragments:F.sync.bind(F),slide:se,left:Pd,right:Td,up:Tu,down:Lu,prev:Wg,next:Mu,navigateLeft:Pd,navigateRight:Td,navigateUp:Tu,navigateDown:Lu,navigatePrev:Wg,navigateNext:Mu,navigateFragment:F.goto.bind(F),prevFragment:F.prev.bind(F),nextFragment:F.next.bind(F),on:dt,off:gt,addEventListener:dt,removeEventListener:gt,layout:bt,shuffle:Ji,availableRoutes:xn,availableFragments:F.availableRoutes.bind(F),toggleHelp:ot.toggleHelp.bind(ot),toggleOverview:H.toggle.bind(H),toggleScrollView:_.toggle.bind(_),togglePause:fn,toggleAutoSlide:function(P){typeof P=="boolean"?P?Rd():kd():C?Rd():kd()},toggleJumpToSlide:function(P){typeof P=="boolean"?P?L.show():L.hide():L.isVisible()?L.hide():L.show()},isFirstSlide:ci,isLastSlide:di,isLastVerticalSlide:li,isVerticalSlide:Se,isVerticalStack:function(P=a){return P.classList.contains(".stack")||P.querySelector("section")!==null},isPaused:pn,isAutoSliding:function(){return!(!v||C)},isSpeakerNotes:et.isSpeakerNotesWindow.bind(et),isOverview:H.isActive.bind(H),isFocused:Ct.isFocused.bind(Ct),isOverlayOpen:ot.isOpen.bind(ot),isScrollView:_.isActive.bind(_),isPrintView:I.isActive.bind(I),isReady:()=>h,loadSlide:S.load.bind(S),unloadSlide:S.unload.bind(S),startEmbeddedContent:()=>S.startEmbeddedContent(a),stopEmbeddedContent:()=>S.stopEmbeddedContent(a,{unloadIframes:!1}),previewIframe:ot.previewIframe.bind(ot),previewImage:ot.previewImage.bind(ot),previewVideo:ot.previewVideo.bind(ot),showPreview:ot.previewIframe.bind(ot),hidePreview:ot.close.bind(ot),addEventListeners:pt,removeEventListeners:Rt,dispatchEvent:K,getState:Cd,setState:function(P){if(typeof P=="object"){se(Ea(P.indexh),Ea(P.indexv),Ea(P.indexf));let D=Ea(P.paused),z=Ea(P.overview);typeof D=="boolean"&&D!==pn()&&fn(D),typeof z=="boolean"&&z!==H.isActive()&&H.toggle(z),ot.setState(P)}},getProgress:function(){let P=Qo(),D=xd();if(a){let z=a.querySelectorAll(".fragment");z.length>0&&(D+=a.querySelectorAll(".fragment.visible").length/z.length*.9)}return Math.min(D/(P-1),1)},getIndices:Go,getSlidesAttributes:function(){return Xo().map(P=>{let D={};for(let z=0;z<P.attributes.length;z++){let U=P.attributes[z];D[U.name]=U.value}return D})},getSlidePastCount:xd,getTotalSlides:Qo,getSlide:Jo,getPreviousSlide:()=>r,getCurrentSlide:()=>a,getSlideBackground:function(P,D){let z=typeof P=="number"?Jo(P,D):P;if(z)return z.slideBackgroundElement},getSlideNotes:et.getSlideNotes.bind(et),getSlides:Xo,getHorizontalSlides:Sn,getVerticalSlides:Yo,hasHorizontalSlides:Ko,hasVerticalSlides:Sd,hasNavigatedHorizontally:()=>u.hasNavigatedHorizontally,hasNavigatedVertically:()=>u.hasNavigatedVertically,shouldAutoAnimateBetween:ze,addKeyBinding:B.addKeyBinding.bind(B),removeKeyBinding:B.removeKeyBinding.bind(B),triggerKey:B.triggerKey.bind(B),registerKeyboardShortcut:B.registerKeyboardShortcut.bind(B),getComputedSlideSize:te,setCurrentScrollPage:function(P,D,z){let U=n||0;n=D,s=z;const V=a!==P;r=a,a=P,a&&r&&l.autoAnimate&&ze(r,a,U,s)&&T.run(r,a),V&&(r&&(S.stopEmbeddedContent(r),S.stopEmbeddedContent(r.slideBackgroundElement)),S.startEmbeddedContent(a),S.startEmbeddedContent(a.slideBackgroundElement)),requestAnimationFrame(()=>{It(Lt(a))}),lt()},getScale:()=>p,getConfig:()=>l,getQueryHash:nv,getSlidePath:W.getHash.bind(W),getRevealElement:()=>i,getSlidesElement:()=>m.slides,getViewportElement:()=>m.viewport,getBackgroundsElement:()=>M.element,registerPlugin:at.registerPlugin.bind(at),hasPlugin:at.hasPlugin.bind(at),getPlugin:at.getPlugin.bind(at),getPlugins:at.getRegisteredPlugins.bind(at)};return La(e,{...Kg,announceStatus:It,getStatusText:Lt,focus:Ct,scroll:_,progress:N,controls:$,location:W,overview:H,keyboard:B,fragments:F,backgrounds:M,slideContent:S,slideNumber:k,onUserInput:function(P){l.autoSlideStoppable&&kd()},closeOverlay:ot.close.bind(ot),updateSlidesVisibility:qo,layoutSlideContents:Qt,transformSlides:G,cueAutoSlide:wa,cancelAutoSlide:_d}),Kg}let nr=Iy,ov=[];nr.initialize=i=>(Object.assign(nr,new Iy(document.querySelector(".reveal"),i)),ov.map(t=>t(nr)),nr.initialize()),["configure","on","off","addEventListener","removeEventListener","registerPlugin"].forEach(i=>{nr[i]=(...t)=>{ov.push(e=>e[i].call(null,...t))}}),nr.isReady=()=>!1,nr.VERSION=My;const Ik="modulepreload",Dk=function(i){return"/"+i},lv={},Bd=function(t,e,n){let s=Promise.resolve();if(e&&e.length>0){let a=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=a(e.map(d=>{if(d=Dk(d),d in lv)return;lv[d]=!0;const h=d.endsWith(".css"),u=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${u}`))return;const f=document.createElement("link");if(f.rel=h?"stylesheet":Ik,h||(f.as="script"),f.crossOrigin="",f.href=d,l&&f.setAttribute("nonce",l),document.head.appendChild(f),h)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${d}`)))})}))}function r(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&r(o.reason);return t().catch(r)})};var xl={};xl.d=(i,t)=>{for(var e in t)xl.o(t,e)&&!xl.o(i,e)&&Object.defineProperty(i,e,{enumerable:!0,get:t[e]})};xl.o=(i,t)=>Object.prototype.hasOwnProperty.call(i,t);var ct=globalThis.pdfjsLib={};xl.d(ct,{AbortException:()=>va,AnnotationEditorLayer:()=>Wp,AnnotationEditorParamsType:()=>ht,AnnotationEditorType:()=>kt,AnnotationEditorUIManager:()=>ha,AnnotationLayer:()=>MR,AnnotationMode:()=>bi,CMapCompressionType:()=>Nf,ColorPicker:()=>Fh,DOMSVGFactory:()=>Lg,DrawLayer:()=>Xp,FeatureTest:()=>Ve,GlobalWorkerOptions:()=>Ks,ImageKind:()=>Xd,InvalidPDFException:()=>Oy,MissingPDFException:()=>ma,OPS:()=>_n,Outliner:()=>Cp,PDFDataRangeTransport:()=>Tw,PDFDateString:()=>$y,PDFWorker:()=>Fa,PasswordResponses:()=>Hk,PermissionFlag:()=>Fk,PixelsPerInch:()=>Vi,RenderingCancelledException:()=>Mg,TextLayer:()=>Oh,UnexpectedResponseException:()=>wu,Util:()=>nt,VerbosityLevel:()=>vu,XfaLayer:()=>Mw,build:()=>uR,createValidAbsoluteUrl:()=>$k,fetchData:()=>Cu,getDocument:()=>sR,getFilenameFromUrl:()=>Jk,getPdfFilenameFromUrl:()=>Zk,getXfaPageViewport:()=>t1,isDataScheme:()=>Ig,isPdfFile:()=>Dg,noContextMenu:()=>Ge,normalizeUnicode:()=>Xk,renderTextLayer:()=>X1,setLayerDimensions:()=>da,shadow:()=>Pt,updateTextLayer:()=>Y1,version:()=>hR});const Le=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Dy=[1,0,0,1,0,0],Of=[.001,0,0,.001,0,0],Ok=1e7,Ju=1.35,wn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},bi={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Nk="pdfjs_internal_editor_",kt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},ht={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},Fk={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Ce={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Xd={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},re={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},tl={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},vu={ERRORS:0,WARNINGS:1,INFOS:5},Nf={NONE:0,BINARY:1},_n={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},Hk={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let bu=vu.WARNINGS;function Bk(i){Number.isInteger(i)&&(bu=i)}function zk(){return bu}function yu(i){bu>=vu.INFOS&&console.log(`Info: ${i}`)}function yt(i){bu>=vu.WARNINGS&&console.log(`Warning: ${i}`)}function Ht(i){throw new Error(i)}function he(i,t){i||Ht(t)}function jk(i){switch(i==null?void 0:i.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function $k(i,t=null,e=null){if(!i)return null;try{if(e&&typeof i=="string"){if(e.addDefaultProtocol&&i.startsWith("www.")){const s=i.match(/\./g);(s==null?void 0:s.length)>=2&&(i=`http://${i}`)}if(e.tryConvertEncoding)try{i=Gk(i)}catch{}}const n=t?new URL(i,t):new URL(i);if(jk(n))return n}catch{}return null}function Pt(i,t,e,n=!1){return Object.defineProperty(i,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const Ki=function(){function t(e,n){this.constructor===t&&Ht("Cannot initialize BaseException."),this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t}();class Ff extends Ki{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Hf extends Ki{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class Oy extends Ki{constructor(t){super(t,"InvalidPDFException")}}class ma extends Ki{constructor(t){super(t,"MissingPDFException")}}class wu extends Ki{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class Uk extends Ki{constructor(t){super(t,"FormatError")}}class va extends Ki{constructor(t){super(t,"AbortException")}}function Ny(i){(typeof i!="object"||(i==null?void 0:i.length)===void 0)&&Ht("Invalid argument for bytesToString");const t=i.length,e=8192;if(t<e)return String.fromCharCode.apply(null,i);const n=[];for(let s=0;s<t;s+=e){const r=Math.min(s+e,t),a=i.subarray(s,r);n.push(String.fromCharCode.apply(null,a))}return n.join("")}function Au(i){typeof i!="string"&&Ht("Invalid argument for stringToBytes");const t=i.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=i.charCodeAt(n)&255;return e}function Wk(i){return String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,i&255)}function Pg(i){const t=Object.create(null);for(const[e,n]of i)t[e]=n;return t}function Vk(){const i=new Uint8Array(4);return i[0]=1,new Uint32Array(i.buffer,0,1)[0]===1}function qk(){try{return new Function(""),!0}catch{return!1}}class Ve{static get isLittleEndian(){return Pt(this,"isLittleEndian",Vk())}static get isEvalSupported(){return Pt(this,"isEvalSupported",qk())}static get isOffscreenCanvasSupported(){return Pt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Pt(this,"platform",{isMac:navigator.platform.includes("Mac")}):Pt(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var t,e;return Pt(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const Zu=Array.from(Array(256).keys(),i=>i.toString(16).padStart(2,"0"));var Js,Yd,Bf;class nt{static makeHexColor(t,e,n){return`#${Zu[t]}${Zu[e]}${Zu[n]}`}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const n=t[0]*e[0]+t[1]*e[2]+e[4],s=t[0]*e[1]+t[1]*e[3]+e[5];return[n,s]}static applyInverseTransform(t,e){const n=e[0]*e[3]-e[1]*e[2],s=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,r=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n;return[s,r]}static getAxialAlignedBoundingBox(t,e){const n=this.applyTransform(t,e),s=this.applyTransform(t.slice(2,4),e),r=this.applyTransform([t[0],t[3]],e),a=this.applyTransform([t[2],t[1]],e);return[Math.min(n[0],s[0],r[0],a[0]),Math.min(n[1],s[1],r[1],a[1]),Math.max(n[0],s[0],r[0],a[0]),Math.max(n[1],s[1],r[1],a[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],s=t[0]*e[1]+t[1]*e[3],r=t[2]*e[0]+t[3]*e[2],a=t[2]*e[1]+t[3]*e[3],o=(n+a)/2,l=Math.sqrt((n+a)**2-4*(n*a-r*s))/2,d=o+l||1,h=o-l||1;return[Math.sqrt(d),Math.sqrt(h)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),s=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>s)return null;const r=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),a=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return r>a?null:[n,r,s,a]}static bezierBoundingBox(t,e,n,s,r,a,o,l,d){return d?(d[0]=Math.min(d[0],t,o),d[1]=Math.min(d[1],e,l),d[2]=Math.max(d[2],t,o),d[3]=Math.max(d[3],e,l)):d=[Math.min(t,o),Math.min(e,l),Math.max(t,o),Math.max(e,l)],w(this,Js,Bf).call(this,t,n,r,o,e,s,a,l,3*(-t+3*(n-r)+o),6*(t-2*n+r),3*(n-t),d),w(this,Js,Bf).call(this,t,n,r,o,e,s,a,l,3*(-e+3*(s-a)+l),6*(e-2*s+a),3*(s-e),d),d}}Js=new WeakSet,Yd=function(t,e,n,s,r,a,o,l,d,h){if(d<=0||d>=1)return;const u=1-d,f=d*d,p=f*d,g=u*(u*(u*t+3*d*e)+3*f*n)+p*s,m=u*(u*(u*r+3*d*a)+3*f*o)+p*l;h[0]=Math.min(h[0],g),h[1]=Math.min(h[1],m),h[2]=Math.max(h[2],g),h[3]=Math.max(h[3],m)},Bf=function(t,e,n,s,r,a,o,l,d,h,u,f){if(Math.abs(d)<1e-12){Math.abs(h)>=1e-12&&w(this,Js,Yd).call(this,t,e,n,s,r,a,o,l,-u/h,f);return}const p=h**2-4*u*d;if(p<0)return;const g=Math.sqrt(p),m=2*d;w(this,Js,Yd).call(this,t,e,n,s,r,a,o,l,(-h+g)/m,f),w(this,Js,Yd).call(this,t,e,n,s,r,a,o,l,(-h-g)/m,f)},A(nt,Js);function Gk(i){return decodeURIComponent(escape(i))}let tf=null,cv=null;function Xk(i){return tf||(tf=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,cv=new Map([["","t"]])),i.replaceAll(tf,(t,e,n)=>e?e.normalize("NFKC"):cv.get(n))}function Yk(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const i=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(i);else for(let t=0;t<32;t++)i[t]=Math.floor(Math.random()*255);return Ny(i)}const Fy="pdfjs_internal_id_",ys={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class Eu{constructor(){this.constructor===Eu&&Ht("Cannot initialize BaseFilterFactory.")}addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,s,r){return"none"}destroy(t=!1){}}var Dl;const zg=class zg{constructor({enableHWA:t=!1}={}){A(this,Dl,!1);this.constructor===zg&&Ht("Cannot initialize BaseCanvasFactory."),y(this,Dl,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!c(this,Dl)})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Ht("Abstract method `_createCanvas` called.")}};Dl=new WeakMap;let Lh=zg;class xu{constructor({baseUrl:t=null,isCompressed:e=!0}){this.constructor===xu&&Ht("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":""),n=this.isCompressed?Nf.BINARY:Nf.NONE;return this._fetchData(e,n).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}_fetchData(t,e){Ht("Abstract method `_fetchData` called.")}}class Su{constructor({baseUrl:t=null}){this.constructor===Su&&Ht("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetchData(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}_fetchData(t){Ht("Abstract method `_fetchData` called.")}}class Tg{constructor(){this.constructor===Tg&&Ht("Cannot initialize BaseSVGFactory.")}create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),n||(s.setAttribute("width",`${t}px`),s.setAttribute("height",`${e}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${t} ${e}`),s}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Ht("Abstract method `_createSVG` called.")}}const As="http://www.w3.org/2000/svg",or=class or{};ut(or,"CSS",96),ut(or,"PDF",72),ut(or,"PDF_TO_CSS_UNITS",or.CSS/or.PDF);let Vi=or;var hr,Wn,_s,$e,Bh,ur,tt,_e,xa,Sa,Kd,Hy,zf,Ca,rl,al,jf,ol;class Kk extends Eu{constructor({docId:e,ownerDocument:n=globalThis.document}={}){super();A(this,tt);A(this,hr);A(this,Wn);A(this,_s);A(this,$e);A(this,Bh);A(this,ur,0);y(this,_s,e),y(this,$e,n)}addFilter(e){if(!e)return"none";let n=c(this,tt,_e).get(e);if(n)return n;const[s,r,a]=w(this,tt,Kd).call(this,e),o=e.length===1?s:`${s}${r}${a}`;if(n=c(this,tt,_e).get(o),n)return c(this,tt,_e).set(e,n),n;const l=`g_${c(this,_s)}_transfer_map_${Ye(this,ur)._++}`,d=`url(#${l})`;c(this,tt,_e).set(e,d),c(this,tt,_e).set(o,d);const h=w(this,tt,Ca).call(this,l);return w(this,tt,al).call(this,s,r,a,h),d}addHCMFilter(e,n){var g;const s=`${e}-${n}`,r="base";let a=c(this,tt,xa).get(r);if((a==null?void 0:a.key)===s||(a?((g=a.filter)==null||g.remove(),a.key=s,a.url="none",a.filter=null):(a={key:s,url:"none",filter:null},c(this,tt,xa).set(r,a)),!e||!n))return a.url;const o=w(this,tt,ol).call(this,e);e=nt.makeHexColor(...o);const l=w(this,tt,ol).call(this,n);if(n=nt.makeHexColor(...l),c(this,tt,Sa).style.color="",e==="#000000"&&n==="#ffffff"||e===n)return a.url;const d=new Array(256);for(let m=0;m<=255;m++){const b=m/255;d[m]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const h=d.join(","),u=`g_${c(this,_s)}_hcm_filter`,f=a.filter=w(this,tt,Ca).call(this,u);w(this,tt,al).call(this,h,h,h,f),w(this,tt,zf).call(this,f);const p=(m,b)=>{const v=o[m]/255,E=l[m]/255,x=new Array(b+1);for(let C=0;C<=b;C++)x[C]=v+C/b*(E-v);return x.join(",")};return w(this,tt,al).call(this,p(0,5),p(1,5),p(2,5),f),a.url=`url(#${u})`,a.url}addAlphaFilter(e){let n=c(this,tt,_e).get(e);if(n)return n;const[s]=w(this,tt,Kd).call(this,[e]),r=`alpha_${s}`;if(n=c(this,tt,_e).get(r),n)return c(this,tt,_e).set(e,n),n;const a=`g_${c(this,_s)}_alpha_map_${Ye(this,ur)._++}`,o=`url(#${a})`;c(this,tt,_e).set(e,o),c(this,tt,_e).set(r,o);const l=w(this,tt,Ca).call(this,a);return w(this,tt,jf).call(this,s,l),o}addLuminosityFilter(e){let n=c(this,tt,_e).get(e||"luminosity");if(n)return n;let s,r;if(e?([s]=w(this,tt,Kd).call(this,[e]),r=`luminosity_${s}`):r="luminosity",n=c(this,tt,_e).get(r),n)return c(this,tt,_e).set(e,n),n;const a=`g_${c(this,_s)}_luminosity_map_${Ye(this,ur)._++}`,o=`url(#${a})`;c(this,tt,_e).set(e,o),c(this,tt,_e).set(r,o);const l=w(this,tt,Ca).call(this,a);return w(this,tt,Hy).call(this,l),e&&w(this,tt,jf).call(this,s,l),o}addHighlightHCMFilter(e,n,s,r,a){var E;const o=`${n}-${s}-${r}-${a}`;let l=c(this,tt,xa).get(e);if((l==null?void 0:l.key)===o||(l?((E=l.filter)==null||E.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},c(this,tt,xa).set(e,l)),!n||!s))return l.url;const[d,h]=[n,s].map(w(this,tt,ol).bind(this));let u=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),f=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[p,g]=[r,a].map(w(this,tt,ol).bind(this));f<u&&([u,f,p,g]=[f,u,g,p]),c(this,tt,Sa).style.color="";const m=(x,C,S)=>{const k=new Array(256),L=(f-u)/S,T=x/255,M=(C-x)/(255*S);let _=0;for(let I=0;I<=S;I++){const F=Math.round(u+I*L),H=T+I*M;for(let B=_;B<=F;B++)k[B]=H;_=F+1}for(let I=_;I<256;I++)k[I]=k[_-1];return k.join(",")},b=`g_${c(this,_s)}_hcm_${e}_filter`,v=l.filter=w(this,tt,Ca).call(this,b);return w(this,tt,zf).call(this,v),w(this,tt,al).call(this,m(p[0],g[0],5),m(p[1],g[1],5),m(p[2],g[2],5),v),l.url=`url(#${b})`,l.url}destroy(e=!1){e&&c(this,tt,xa).size!==0||(c(this,Wn)&&(c(this,Wn).parentNode.parentNode.remove(),y(this,Wn,null)),c(this,hr)&&(c(this,hr).clear(),y(this,hr,null)),y(this,ur,0))}}hr=new WeakMap,Wn=new WeakMap,_s=new WeakMap,$e=new WeakMap,Bh=new WeakMap,ur=new WeakMap,tt=new WeakSet,_e=function(){return c(this,hr)||y(this,hr,new Map)},xa=function(){return c(this,Bh)||y(this,Bh,new Map)},Sa=function(){if(!c(this,Wn)){const e=c(this,$e).createElement("div"),{style:n}=e;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const s=c(this,$e).createElementNS(As,"svg");s.setAttribute("width",0),s.setAttribute("height",0),y(this,Wn,c(this,$e).createElementNS(As,"defs")),e.append(s),s.append(c(this,Wn)),c(this,$e).body.append(e)}return c(this,Wn)},Kd=function(e){if(e.length===1){const d=e[0],h=new Array(256);for(let f=0;f<256;f++)h[f]=d[f]/255;const u=h.join(",");return[u,u,u]}const[n,s,r]=e,a=new Array(256),o=new Array(256),l=new Array(256);for(let d=0;d<256;d++)a[d]=n[d]/255,o[d]=s[d]/255,l[d]=r[d]/255;return[a.join(","),o.join(","),l.join(",")]},Hy=function(e){const n=c(this,$e).createElementNS(As,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(n)},zf=function(e){const n=c(this,$e).createElementNS(As,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(n)},Ca=function(e){const n=c(this,$e).createElementNS(As,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",e),c(this,tt,Sa).append(n),n},rl=function(e,n,s){const r=c(this,$e).createElementNS(As,n);r.setAttribute("type","discrete"),r.setAttribute("tableValues",s),e.append(r)},al=function(e,n,s,r){const a=c(this,$e).createElementNS(As,"feComponentTransfer");r.append(a),w(this,tt,rl).call(this,a,"feFuncR",e),w(this,tt,rl).call(this,a,"feFuncG",n),w(this,tt,rl).call(this,a,"feFuncB",s)},jf=function(e,n){const s=c(this,$e).createElementNS(As,"feComponentTransfer");n.append(s),w(this,tt,rl).call(this,s,"feFuncA",e)},ol=function(e){return c(this,tt,Sa).style.color=e,Og(getComputedStyle(c(this,tt,Sa)).getPropertyValue("color"))};class Qk extends Lh{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}={}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}async function Cu(i,t="text"){if(ll(i,document.baseURI)){const e=await fetch(i);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const s=new XMLHttpRequest;s.open("GET",i,!0),s.responseType=t,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(s.response);return}e(s.responseText);return}n(new Error(s.statusText))}},s.send(null)})}class By extends xu{_fetchData(t,e){return Cu(t,this.isCompressed?"arraybuffer":"text").then(n=>({cMapData:n instanceof ArrayBuffer?new Uint8Array(n):Au(n),compressionType:e}))}}class zy extends Su{_fetchData(t){return Cu(t,"arraybuffer").then(e=>new Uint8Array(e))}}class Lg extends Tg{_createSVG(t){return document.createElementNS(As,t)}}class md{constructor({viewBox:t,scale:e,rotation:n,offsetX:s=0,offsetY:r=0,dontFlip:a=!1}){this.viewBox=t,this.scale=e,this.rotation=n,this.offsetX=s,this.offsetY=r;const o=(t[2]+t[0])/2,l=(t[3]+t[1])/2;let d,h,u,f;switch(n%=360,n<0&&(n+=360),n){case 180:d=-1,h=0,u=0,f=1;break;case 90:d=0,h=1,u=1,f=0;break;case 270:d=0,h=-1,u=-1,f=0;break;case 0:d=1,h=0,u=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(u=-u,f=-f);let p,g,m,b;d===0?(p=Math.abs(l-t[1])*e+s,g=Math.abs(o-t[0])*e+r,m=(t[3]-t[1])*e,b=(t[2]-t[0])*e):(p=Math.abs(o-t[0])*e+s,g=Math.abs(l-t[1])*e+r,m=(t[2]-t[0])*e,b=(t[3]-t[1])*e),this.transform=[d*e,h*e,u*e,f*e,p-d*e*o-u*e*l,g-h*e*o-f*e*l],this.width=m,this.height=b}get rawDims(){const{viewBox:t}=this;return Pt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:s=this.offsetY,dontFlip:r=!1}={}){return new md({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:n,offsetY:s,dontFlip:r})}convertToViewportPoint(t,e){return nt.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=nt.applyTransform([t[0],t[1]],this.transform),n=nt.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){return nt.applyInverseTransform([t,e],this.transform)}}class Mg extends Ki{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Ig(i){const t=i.length;let e=0;for(;e<t&&i[e].trim()==="";)e++;return i.substring(e,e+5).toLowerCase()==="data:"}function Dg(i){return typeof i=="string"&&/\.pdf$/i.test(i)}function Jk(i){return[i]=i.split(/[#?]/,1),i.substring(i.lastIndexOf("/")+1)}function Zk(i,t="document.pdf"){if(typeof i!="string")return t;if(Ig(i))return yt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=e.exec(i);let r=n.exec(s[1])||n.exec(s[2])||n.exec(s[3]);if(r&&(r=r[0],r.includes("%")))try{r=n.exec(decodeURIComponent(r))[0]}catch{}return r||t}class dv{constructor(){ut(this,"started",Object.create(null));ut(this,"times",[])}time(t){t in this.started&&yt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||yt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:s,end:r}of this.times)t.push(`${n.padEnd(e)} ${r-s}ms
`);return t.join("")}}function ll(i,t){try{const{protocol:e}=t?new URL(i,t):new URL(i);return e==="http:"||e==="https:"}catch{return!1}}function Ge(i){i.preventDefault()}function jy(i){console.log("Deprecated API usage: "+i)}let hv;class $y{static toDateObject(t){if(!t||typeof t!="string")return null;hv||(hv=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=hv.exec(t);if(!e)return null;const n=parseInt(e[1],10);let s=parseInt(e[2],10);s=s>=1&&s<=12?s-1:0;let r=parseInt(e[3],10);r=r>=1&&r<=31?r:1;let a=parseInt(e[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(e[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(e[6],10);l=l>=0&&l<=59?l:0;const d=e[7]||"Z";let h=parseInt(e[8],10);h=h>=0&&h<=23?h:0;let u=parseInt(e[9],10)||0;return u=u>=0&&u<=59?u:0,d==="-"?(a+=h,o+=u):d==="+"&&(a-=h,o-=u),new Date(Date.UTC(n,s,r,a,o,l))}}function t1(i,{scale:t=1,rotation:e=0}){const{width:n,height:s}=i.attributes.style,r=[0,0,parseInt(n),parseInt(s)];return new md({viewBox:r,scale:t,rotation:e})}function Og(i){if(i.startsWith("#")){const t=parseInt(i.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return i.startsWith("rgb(")?i.slice(4,-1).split(",").map(t=>parseInt(t)):i.startsWith("rgba(")?i.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(yt(`Not a valid color format: "${i}"`),[0,0,0])}function e1(i){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of i.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;i.set(e,Og(n))}t.remove()}function Gt(i){const{a:t,b:e,c:n,d:s,e:r,f:a}=i.getTransform();return[t,e,n,s,r,a]}function ws(i){const{a:t,b:e,c:n,d:s,e:r,f:a}=i.getTransform().invertSelf();return[t,e,n,s,r,a]}function da(i,t,e=!1,n=!0){if(t instanceof md){const{pageWidth:s,pageHeight:r}=t.rawDims,{style:a}=i,o=Ve.isCSSRoundSupported,l=`var(--scale-factor) * ${s}px`,d=`var(--scale-factor) * ${r}px`,h=o?`round(${l}, 1px)`:`calc(${l})`,u=o?`round(${d}, 1px)`:`calc(${d})`;!e||t.rotation%180===0?(a.width=h,a.height=u):(a.width=u,a.height=h)}n&&i.setAttribute("data-main-rotation",t.rotation)}var fr,pr,Je,gr,zh,Uy,He,Wy,Vy,Qd,qy,Uf;const jh=class jh{constructor(t){A(this,He);A(this,fr,null);A(this,pr,null);A(this,Je);A(this,gr,null);y(this,Je,t)}render(){const t=y(this,fr,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar");const e=c(this,Je)._uiManager._signal;t.addEventListener("contextmenu",Ge,{signal:e}),t.addEventListener("pointerdown",w(jh,zh,Uy),{signal:e});const n=y(this,gr,document.createElement("div"));n.className="buttons",t.append(n);const s=c(this,Je).toolbarPosition;if(s){const{style:r}=t,a=c(this,Je)._uiManager.direction==="ltr"?1-s[0]:s[0];r.insetInlineEnd=`${100*a}%`,r.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return w(this,He,qy).call(this),t}hide(){var t;c(this,fr).classList.add("hidden"),(t=c(this,pr))==null||t.hideDropdown()}show(){c(this,fr).classList.remove("hidden")}addAltTextButton(t){w(this,He,Qd).call(this,t),c(this,gr).prepend(t,c(this,He,Uf))}addColorPicker(t){y(this,pr,t);const e=t.renderButton();w(this,He,Qd).call(this,e),c(this,gr).prepend(e,c(this,He,Uf))}remove(){var t;c(this,fr).remove(),(t=c(this,pr))==null||t.destroy(),y(this,pr,null)}};fr=new WeakMap,pr=new WeakMap,Je=new WeakMap,gr=new WeakMap,zh=new WeakSet,Uy=function(t){t.stopPropagation()},He=new WeakSet,Wy=function(t){c(this,Je)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},Vy=function(t){c(this,Je)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},Qd=function(t){const e=c(this,Je)._uiManager._signal;t.addEventListener("focusin",w(this,He,Wy).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",w(this,He,Vy).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Ge,{signal:e})},qy=function(){const t=document.createElement("button");t.className="delete",t.tabIndex=0,t.setAttribute("data-l10n-id",`pdfjs-editor-remove-${c(this,Je).editorType}-button`),w(this,He,Qd).call(this,t),t.addEventListener("click",e=>{c(this,Je)._uiManager.delete()},{signal:c(this,Je)._uiManager._signal}),c(this,gr).append(t)},Uf=function(){const t=document.createElement("div");return t.className="divider",t},A(jh,zh);let $f=jh;var Ol,mr,vr,qi,Gy,Xy,Yy;class n1{constructor(t){A(this,qi);A(this,Ol,null);A(this,mr,null);A(this,vr);y(this,vr,t)}show(t,e,n){const[s,r]=w(this,qi,Xy).call(this,e,n),{style:a}=c(this,mr)||y(this,mr,w(this,qi,Gy).call(this));t.append(c(this,mr)),a.insetInlineEnd=`${100*s}%`,a.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){c(this,mr).remove()}}Ol=new WeakMap,mr=new WeakMap,vr=new WeakMap,qi=new WeakSet,Gy=function(){const t=y(this,mr,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Ge,{signal:c(this,vr)._signal});const e=y(this,Ol,document.createElement("div"));return e.className="buttons",t.append(e),w(this,qi,Yy).call(this),t},Xy=function(t,e){let n=0,s=0;for(const r of t){const a=r.y+r.height;if(a<n)continue;const o=r.x+(e?r.width:0);if(a>n){s=o,n=a;continue}e?o>s&&(s=o):o<s&&(s=o)}return[e?1-s:s,n]},Yy=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=c(this,vr)._signal;t.addEventListener("contextmenu",Ge,{signal:n}),t.addEventListener("click",()=>{c(this,vr).highlightSelection("floating_button")},{signal:n}),c(this,Ol).append(t)};function Mh(i,t,e){for(const n of e)t.addEventListener(n,i[n].bind(i))}function s1(i){return Math.round(Math.min(255,Math.max(1,255*i))).toString(16).padStart(2,"0")}var $h;class i1{constructor(){A(this,$h,0)}get id(){return`${Nk}${Ye(this,$h)._++}`}}$h=new WeakMap;var Nl,Uh,mn,Fl,Vf;const jg=class jg{constructor(){A(this,Fl);A(this,Nl,Yk());A(this,Uh,0);A(this,mn,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=t;const r=s.decode().then(()=>(n.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Pt(this,"_isSVGFittingCanvas",r)}async getFromFile(t){const{lastModified:e,name:n,size:s,type:r}=t;return w(this,Fl,Vf).call(this,`${e}_${n}_${s}_${r}`,t)}async getFromUrl(t){return w(this,Fl,Vf).call(this,t,t)}async getFromId(t){c(this,mn)||y(this,mn,new Map);const e=c(this,mn).get(t);return e?e.bitmap?(e.refCounter+=1,e):e.file?this.getFromFile(e.file):this.getFromUrl(e.url):null}getSvgUrl(t){const e=c(this,mn).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){c(this,mn)||y(this,mn,new Map);const e=c(this,mn).get(t);e&&(e.refCounter-=1,e.refCounter===0&&(e.bitmap=null))}isValidId(t){return t.startsWith(`image_${c(this,Nl)}_`)}};Nl=new WeakMap,Uh=new WeakMap,mn=new WeakMap,Fl=new WeakSet,Vf=async function(t,e){c(this,mn)||y(this,mn,new Map);let n=c(this,mn).get(t);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${c(this,Nl)}_${Ye(this,Uh)._++}`,refCounter:0,isSvg:!1});let s;if(typeof e=="string"?(n.url=e,s=await Cu(e,"blob")):s=n.file=e,s.type==="image/svg+xml"){const r=jg._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((d,h)=>{o.onload=()=>{n.bitmap=o,n.isSvg=!0,d()},a.onload=async()=>{const u=n.svgUrl=a.result;o.src=await r?`${u}#svgView(preserveAspectRatio(none))`:u},o.onerror=a.onerror=h});a.readAsDataURL(s),await l}else n.bitmap=await createImageBitmap(s);n.refCounter=1}catch(s){console.error(s),n=null}return c(this,mn).set(t,n),n&&c(this,mn).set(n.id,n),n};let Wf=jg;var pe,yi,Hl,ge;class r1{constructor(t=128){A(this,pe,[]);A(this,yi,!1);A(this,Hl);A(this,ge,-1);y(this,Hl,t)}add({cmd:t,undo:e,post:n,mustExec:s,type:r=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(s&&t(),c(this,yi))return;const l={cmd:t,undo:e,post:n,type:r};if(c(this,ge)===-1){c(this,pe).length>0&&(c(this,pe).length=0),y(this,ge,0),c(this,pe).push(l);return}if(a&&c(this,pe)[c(this,ge)].type===r){o&&(l.undo=c(this,pe)[c(this,ge)].undo),c(this,pe)[c(this,ge)]=l;return}const d=c(this,ge)+1;d===c(this,Hl)?c(this,pe).splice(0,1):(y(this,ge,d),d<c(this,pe).length&&c(this,pe).splice(d)),c(this,pe).push(l)}undo(){if(c(this,ge)===-1)return;y(this,yi,!0);const{undo:t,post:e}=c(this,pe)[c(this,ge)];t(),e==null||e(),y(this,yi,!1),y(this,ge,c(this,ge)-1)}redo(){if(c(this,ge)<c(this,pe).length-1){y(this,ge,c(this,ge)+1),y(this,yi,!0);const{cmd:t,post:e}=c(this,pe)[c(this,ge)];t(),e==null||e(),y(this,yi,!1)}}hasSomethingToUndo(){return c(this,ge)!==-1}hasSomethingToRedo(){return c(this,ge)<c(this,pe).length-1}destroy(){y(this,pe,null)}}pe=new WeakMap,yi=new WeakMap,Hl=new WeakMap,ge=new WeakMap;var Wh,Ky;class vd{constructor(t){A(this,Wh);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Ve.platform;for(const[n,s,r={}]of t)for(const a of n){const o=a.startsWith("mac+");e&&o?(this.callbacks.set(a.slice(4),{callback:s,options:r}),this.allKeys.add(a.split("+").at(-1))):!e&&!o&&(this.callbacks.set(a,{callback:s,options:r}),this.allKeys.add(a.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(w(this,Wh,Ky).call(this,e));if(!n)return;const{callback:s,options:{bubbles:r=!1,args:a=[],checker:o=null}}=n;o&&!o(t,e)||(s.bind(t,...a,e)(),r||(e.stopPropagation(),e.preventDefault()))}}Wh=new WeakSet,Ky=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const Vh=class Vh{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return e1(t),Pt(this,"_colors",t)}convert(t){const e=Og(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,s]of this._colors)if(s.every((r,a)=>r===e[a]))return Vh._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?nt.makeHexColor(...e):t}};ut(Vh,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let qf=Vh;var za,Ze,ae,ve,ja,ks,$a,kn,Ua,br,Vn,Rn,yr,Bl,zl,qn,Wa,wi,Gn,qh,Ai,jl,wr,$l,Va,be,Ot,Rs,Ar,Ul,Wl,Vl,ql,Gl,Xl,Yl,Kl,Ql,Jl,Zl,tc,ec,Ei,Xn,Ps,nc,X,Jd,Qy,Jy,Zd,Zy,tw,ew,Gf,nw,Xf,Yf,sw,De,pi,iw,rw,Kf,aw,cl,Qf;const Ma=class Ma{constructor(t,e,n,s,r,a,o,l,d){A(this,X);A(this,za,new AbortController);A(this,Ze,null);A(this,ae,new Map);A(this,ve,new Map);A(this,ja,null);A(this,ks,null);A(this,$a,null);A(this,kn,new r1);A(this,Ua,0);A(this,br,new Set);A(this,Vn,null);A(this,Rn,null);A(this,yr,new Set);A(this,Bl,!1);A(this,zl,null);A(this,qn,null);A(this,Wa,null);A(this,wi,!1);A(this,Gn,null);A(this,qh,new i1);A(this,Ai,!1);A(this,jl,!1);A(this,wr,null);A(this,$l,null);A(this,Va,null);A(this,be,kt.NONE);A(this,Ot,new Set);A(this,Rs,null);A(this,Ar,null);A(this,Ul,null);A(this,Wl,this.blur.bind(this));A(this,Vl,this.focus.bind(this));A(this,ql,this.copy.bind(this));A(this,Gl,this.cut.bind(this));A(this,Xl,this.paste.bind(this));A(this,Yl,this.keydown.bind(this));A(this,Kl,this.keyup.bind(this));A(this,Ql,this.onEditingAction.bind(this));A(this,Jl,this.onPageChanging.bind(this));A(this,Zl,this.onScaleChanging.bind(this));A(this,tc,this.onRotationChanging.bind(this));A(this,ec,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});A(this,Ei,[0,0]);A(this,Xn,null);A(this,Ps,null);A(this,nc,null);this._signal=c(this,za).signal,y(this,Ps,t),y(this,nc,e),y(this,ja,n),this._eventBus=s,this._eventBus._on("editingaction",c(this,Ql)),this._eventBus._on("pagechanging",c(this,Jl)),this._eventBus._on("scalechanging",c(this,Zl)),this._eventBus._on("rotationchanging",c(this,tc)),w(this,X,Zy).call(this),w(this,X,sw).call(this),w(this,X,Gf).call(this),y(this,ks,r.annotationStorage),y(this,zl,r.filterFactory),y(this,Ar,a),y(this,Wa,o||null),y(this,Bl,l),y(this,Va,d||null),this.viewParameters={realScale:Vi.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=Ma.prototype,e=a=>c(a,Ps).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),n=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},s=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return Pt(this,"_keyboardManager",new vd([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&c(a,Ps).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&c(a,Ps).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}]]))}destroy(){var t,e,n;(t=c(this,za))==null||t.abort(),y(this,za,null),this._signal=null,this._eventBus._off("editingaction",c(this,Ql)),this._eventBus._off("pagechanging",c(this,Jl)),this._eventBus._off("scalechanging",c(this,Zl)),this._eventBus._off("rotationchanging",c(this,tc));for(const s of c(this,ve).values())s.destroy();c(this,ve).clear(),c(this,ae).clear(),c(this,yr).clear(),y(this,Ze,null),c(this,Ot).clear(),c(this,kn).destroy(),(e=c(this,ja))==null||e.destroy(),(n=c(this,Gn))==null||n.hide(),y(this,Gn,null),c(this,qn)&&(clearTimeout(c(this,qn)),y(this,qn,null)),c(this,Xn)&&(clearTimeout(c(this,Xn)),y(this,Xn,null))}async mlGuess(t){var e;return((e=c(this,Va))==null?void 0:e.guess(t))||null}get hasMLManager(){return!!c(this,Va)}get hcmFilter(){return Pt(this,"hcmFilter",c(this,Ar)?c(this,zl).addHCMFilter(c(this,Ar).foreground,c(this,Ar).background):"none")}get direction(){return Pt(this,"direction",getComputedStyle(c(this,Ps)).direction)}get highlightColors(){return Pt(this,"highlightColors",c(this,Wa)?new Map(c(this,Wa).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return Pt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){y(this,$l,t)}editAltText(t){var e;(e=c(this,ja))==null||e.editAltText(this,t)}onPageChanging({pageNumber:t}){y(this,Ua,t-1)}focusMainContainer(){c(this,Ps).focus()}findParent(t,e){for(const n of c(this,ve).values()){const{x:s,y:r,width:a,height:o}=n.div.getBoundingClientRect();if(t>=s&&t<=s+a&&e>=r&&e<=r+o)return n}return null}disableUserSelect(t=!1){c(this,nc).classList.toggle("noUserSelect",t)}addShouldRescale(t){c(this,yr).add(t)}removeShouldRescale(t){c(this,yr).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Vi.PDF_TO_CSS_UNITS;for(const e of c(this,yr))e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:n,anchorOffset:s,focusNode:r,focusOffset:a}=e,o=e.toString(),d=w(this,X,Jd).call(this,e).closest(".textLayer"),h=this.getSelectionBoxes(d);if(h){e.empty(),c(this,be)===kt.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:kt.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const u of c(this,ve).values())if(u.hasTextLayer(d)){u.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:h,anchorNode:n,anchorOffset:s,focusNode:r,focusOffset:a,text:o});break}}}addToAnnotationStorage(t){!t.isEmpty()&&c(this,ks)&&!c(this,ks).has(t.id)&&c(this,ks).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,c(this,wi)&&(y(this,wi,!1),w(this,X,Zd).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of c(this,Ot))if(e.div.contains(t)){y(this,wr,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!c(this,wr))return;const[t,e]=c(this,wr);y(this,wr,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){w(this,X,Gf).call(this),w(this,X,Xf).call(this)}removeEditListeners(){w(this,X,nw).call(this),w(this,X,Yf).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of c(this,Rn))if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of c(this,Rn))if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var n;if(t.preventDefault(),(n=c(this,Ze))==null||n.commitOrRemove(),!this.hasSelection)return;const e=[];for(const s of c(this,Ot)){const r=s.serialize(!0);r&&e.push(r)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}paste(t){t.preventDefault();const{clipboardData:e}=t;for(const r of e.items)for(const a of c(this,Rn))if(a.isHandlingMimeForPasting(r.type)){a.paste(r,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(r){yt(`paste: "${r.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const s=this.currentLayer;try{const r=[];for(const l of n){const d=s.deserialize(l);if(!d)return;r.push(d)}const a=()=>{for(const l of r)w(this,X,Kf).call(this,l);w(this,X,Qf).call(this,r)},o=()=>{for(const l of r)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(r){yt(`paste: "${r.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),c(this,be)!==kt.NONE&&!this.isEditorHandlingKeyboard&&Ma._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,c(this,wi)&&(y(this,wi,!1),w(this,X,Zd).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(w(this,X,tw).call(this),w(this,X,Xf).call(this),w(this,X,De).call(this,{isEditing:c(this,be)!==kt.NONE,isEmpty:w(this,X,cl).call(this),hasSomethingToUndo:c(this,kn).hasSomethingToUndo(),hasSomethingToRedo:c(this,kn).hasSomethingToRedo(),hasSelectedEditor:!1})):(w(this,X,ew).call(this),w(this,X,Yf).call(this),w(this,X,De).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!c(this,Rn)){y(this,Rn,t);for(const e of c(this,Rn))w(this,X,pi).call(this,e.defaultPropertiesToUpdate)}}getId(){return c(this,qh).id}get currentLayer(){return c(this,ve).get(c(this,Ua))}getLayer(t){return c(this,ve).get(t)}get currentPageIndex(){return c(this,Ua)}addLayer(t){c(this,ve).set(t.pageIndex,t),c(this,Ai)?t.enable():t.disable()}removeLayer(t){c(this,ve).delete(t.pageIndex)}updateMode(t,e=null,n=!1){if(c(this,be)!==t){if(y(this,be,t),t===kt.NONE){this.setEditingState(!1),w(this,X,rw).call(this);return}this.setEditingState(!0),w(this,X,iw).call(this),this.unselectAll();for(const s of c(this,ve).values())s.updateMode(t);if(!e&&n){this.addNewEditorFromKeyboard();return}if(e){for(const s of c(this,ae).values())if(s.annotationElementId===e){this.setSelected(s),s.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==c(this,be)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var n;if(c(this,Rn)){switch(t){case ht.CREATE:this.currentLayer.addNewEditor();return;case ht.HIGHLIGHT_DEFAULT_COLOR:(n=c(this,$l))==null||n.updateColor(e);break;case ht.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(c(this,Ul)||y(this,Ul,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const s of c(this,Ot))s.updateParams(t,e);for(const s of c(this,Rn))s.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){var r;for(const a of c(this,ae).values())a.editorType===t&&a.show(e);(((r=c(this,Ul))==null?void 0:r.get(ht.HIGHLIGHT_SHOW_ALL))??!0)!==e&&w(this,X,pi).call(this,[[ht.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(c(this,jl)!==t){y(this,jl,t);for(const e of c(this,ve).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const n of c(this,ae).values())n.pageIndex===t&&e.push(n);return e}getEditor(t){return c(this,ae).get(t)}addEditor(t){c(this,ae).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(c(this,qn)&&clearTimeout(c(this,qn)),y(this,qn,setTimeout(()=>{this.focusMainContainer(),y(this,qn,null)},0))),c(this,ae).delete(t.id),this.unselect(t),(!t.annotationElementId||!c(this,br).has(t.annotationElementId))&&((e=c(this,ks))==null||e.remove(t.id))}addDeletedAnnotationElement(t){c(this,br).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return c(this,br).has(t)}removeDeletedAnnotationElement(t){c(this,br).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){c(this,Ze)!==t&&(y(this,Ze,t),t&&w(this,X,pi).call(this,t.propertiesToUpdate))}updateUI(t){c(this,X,aw)===t&&w(this,X,pi).call(this,t.propertiesToUpdate)}toggleSelected(t){if(c(this,Ot).has(t)){c(this,Ot).delete(t),t.unselect(),w(this,X,De).call(this,{hasSelectedEditor:this.hasSelection});return}c(this,Ot).add(t),t.select(),w(this,X,pi).call(this,t.propertiesToUpdate),w(this,X,De).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of c(this,Ot))e!==t&&e.unselect();c(this,Ot).clear(),c(this,Ot).add(t),t.select(),w(this,X,pi).call(this,t.propertiesToUpdate),w(this,X,De).call(this,{hasSelectedEditor:!0})}isSelected(t){return c(this,Ot).has(t)}get firstSelectedEditor(){return c(this,Ot).values().next().value}unselect(t){t.unselect(),c(this,Ot).delete(t),w(this,X,De).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return c(this,Ot).size!==0}get isEnterHandled(){return c(this,Ot).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){c(this,kn).undo(),w(this,X,De).call(this,{hasSomethingToUndo:c(this,kn).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:w(this,X,cl).call(this)})}redo(){c(this,kn).redo(),w(this,X,De).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:c(this,kn).hasSomethingToRedo(),isEmpty:w(this,X,cl).call(this)})}addCommands(t){c(this,kn).add(t),w(this,X,De).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:w(this,X,cl).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...c(this,Ot)],e=()=>{for(const s of t)s.remove()},n=()=>{for(const s of t)w(this,X,Kf).call(this,s)};this.addCommands({cmd:e,undo:n,mustExec:!0})}commitOrRemove(){var t;(t=c(this,Ze))==null||t.commitOrRemove()}hasSomethingToControl(){return c(this,Ze)||this.hasSelection}selectAll(){for(const t of c(this,Ot))t.commit();w(this,X,Qf).call(this,c(this,ae).values())}unselectAll(){if(!(c(this,Ze)&&(c(this,Ze).commitOrRemove(),c(this,be)!==kt.NONE))&&this.hasSelection){for(const t of c(this,Ot))t.unselect();c(this,Ot).clear(),w(this,X,De).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;c(this,Ei)[0]+=t,c(this,Ei)[1]+=e;const[s,r]=c(this,Ei),a=[...c(this,Ot)],o=1e3;c(this,Xn)&&clearTimeout(c(this,Xn)),y(this,Xn,setTimeout(()=>{y(this,Xn,null),c(this,Ei)[0]=c(this,Ei)[1]=0,this.addCommands({cmd:()=>{for(const l of a)c(this,ae).has(l.id)&&l.translateInPage(s,r)},undo:()=>{for(const l of a)c(this,ae).has(l.id)&&l.translateInPage(-s,-r)},mustExec:!1})},o));for(const l of a)l.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),y(this,Vn,new Map);for(const t of c(this,Ot))c(this,Vn).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!c(this,Vn))return!1;this.disableUserSelect(!1);const t=c(this,Vn);y(this,Vn,null);let e=!1;for(const[{x:s,y:r,pageIndex:a},o]of t)o.newX=s,o.newY=r,o.newPageIndex=a,e||(e=s!==o.savedX||r!==o.savedY||a!==o.savedPageIndex);if(!e)return!1;const n=(s,r,a,o)=>{if(c(this,ae).has(s.id)){const l=c(this,ve).get(o);l?s._setParentAndPosition(l,r,a):(s.pageIndex=o,s.x=r,s.y=a)}};return this.addCommands({cmd:()=>{for(const[s,{newX:r,newY:a,newPageIndex:o}]of t)n(s,r,a,o)},undo:()=>{for(const[s,{savedX:r,savedY:a,savedPageIndex:o}]of t)n(s,r,a,o)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(c(this,Vn))for(const n of c(this,Vn).keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||c(this,Ot).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return c(this,Ze)===t}getActive(){return c(this,Ze)}getMode(){return c(this,be)}get imageManager(){return Pt(this,"imageManager",new Wf)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let d=0,h=e.rangeCount;d<h;d++)if(!t.contains(e.getRangeAt(d).commonAncestorContainer))return null;const{x:n,y:s,width:r,height:a}=t.getBoundingClientRect();let o;switch(t.getAttribute("data-main-rotation")){case"90":o=(d,h,u,f)=>({x:(h-s)/a,y:1-(d+u-n)/r,width:f/a,height:u/r});break;case"180":o=(d,h,u,f)=>({x:1-(d+u-n)/r,y:1-(h+f-s)/a,width:u/r,height:f/a});break;case"270":o=(d,h,u,f)=>({x:1-(h+f-s)/a,y:(d-n)/r,width:f/a,height:u/r});break;default:o=(d,h,u,f)=>({x:(d-n)/r,y:(h-s)/a,width:u/r,height:f/a});break}const l=[];for(let d=0,h=e.rangeCount;d<h;d++){const u=e.getRangeAt(d);if(!u.collapsed)for(const{x:f,y:p,width:g,height:m}of u.getClientRects())g===0||m===0||l.push(o(f,p,g,m))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:t,id:e}){(c(this,$a)||y(this,$a,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=c(this,$a))==null||e.delete(t)}renderAnnotationElement(t){var s;const e=(s=c(this,$a))==null?void 0:s.get(t.data.id);if(!e)return;const n=c(this,ks).getRawValue(e);n&&(c(this,be)===kt.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}};za=new WeakMap,Ze=new WeakMap,ae=new WeakMap,ve=new WeakMap,ja=new WeakMap,ks=new WeakMap,$a=new WeakMap,kn=new WeakMap,Ua=new WeakMap,br=new WeakMap,Vn=new WeakMap,Rn=new WeakMap,yr=new WeakMap,Bl=new WeakMap,zl=new WeakMap,qn=new WeakMap,Wa=new WeakMap,wi=new WeakMap,Gn=new WeakMap,qh=new WeakMap,Ai=new WeakMap,jl=new WeakMap,wr=new WeakMap,$l=new WeakMap,Va=new WeakMap,be=new WeakMap,Ot=new WeakMap,Rs=new WeakMap,Ar=new WeakMap,Ul=new WeakMap,Wl=new WeakMap,Vl=new WeakMap,ql=new WeakMap,Gl=new WeakMap,Xl=new WeakMap,Yl=new WeakMap,Kl=new WeakMap,Ql=new WeakMap,Jl=new WeakMap,Zl=new WeakMap,tc=new WeakMap,ec=new WeakMap,Ei=new WeakMap,Xn=new WeakMap,Ps=new WeakMap,nc=new WeakMap,X=new WeakSet,Jd=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},Qy=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=w(this,X,Jd).call(this,t).closest(".textLayer"),s=this.getSelectionBoxes(n);s&&(c(this,Gn)||y(this,Gn,new n1(this)),c(this,Gn).show(n,s,this.direction==="ltr"))},Jy=function(){var r,a,o;const t=document.getSelection();if(!t||t.isCollapsed){c(this,Rs)&&((r=c(this,Gn))==null||r.hide(),y(this,Rs,null),w(this,X,De).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===c(this,Rs))return;if(!w(this,X,Jd).call(this,t).closest(".textLayer")){c(this,Rs)&&((a=c(this,Gn))==null||a.hide(),y(this,Rs,null),w(this,X,De).call(this,{hasSelectedText:!1}));return}if((o=c(this,Gn))==null||o.hide(),y(this,Rs,e),w(this,X,De).call(this,{hasSelectedText:!0}),!(c(this,be)!==kt.HIGHLIGHT&&c(this,be)!==kt.NONE)&&(c(this,be)===kt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),y(this,wi,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=this._signal,d=h=>{h.type==="pointerup"&&h.button!==0||(window.removeEventListener("pointerup",d),window.removeEventListener("blur",d),h.type==="pointerup"&&w(this,X,Zd).call(this,"main_toolbar"))};window.addEventListener("pointerup",d,{signal:l}),window.addEventListener("blur",d,{signal:l})}},Zd=function(t=""){c(this,be)===kt.HIGHLIGHT?this.highlightSelection(t):c(this,Bl)&&w(this,X,Qy).call(this)},Zy=function(){document.addEventListener("selectionchange",w(this,X,Jy).bind(this),{signal:this._signal})},tw=function(){const t=this._signal;window.addEventListener("focus",c(this,Vl),{signal:t}),window.addEventListener("blur",c(this,Wl),{signal:t})},ew=function(){window.removeEventListener("focus",c(this,Vl)),window.removeEventListener("blur",c(this,Wl))},Gf=function(){const t=this._signal;window.addEventListener("keydown",c(this,Yl),{signal:t}),window.addEventListener("keyup",c(this,Kl),{signal:t})},nw=function(){window.removeEventListener("keydown",c(this,Yl)),window.removeEventListener("keyup",c(this,Kl))},Xf=function(){const t=this._signal;document.addEventListener("copy",c(this,ql),{signal:t}),document.addEventListener("cut",c(this,Gl),{signal:t}),document.addEventListener("paste",c(this,Xl),{signal:t})},Yf=function(){document.removeEventListener("copy",c(this,ql)),document.removeEventListener("cut",c(this,Gl)),document.removeEventListener("paste",c(this,Xl))},sw=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},De=function(t){Object.entries(t).some(([n,s])=>c(this,ec)[n]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(c(this,ec),t)}),c(this,be)===kt.HIGHLIGHT&&t.hasSelectedEditor===!1&&w(this,X,pi).call(this,[[ht.HIGHLIGHT_FREE,!0]]))},pi=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},iw=function(){if(!c(this,Ai)){y(this,Ai,!0);for(const t of c(this,ve).values())t.enable();for(const t of c(this,ae).values())t.enable()}},rw=function(){if(this.unselectAll(),c(this,Ai)){y(this,Ai,!1);for(const t of c(this,ve).values())t.disable();for(const t of c(this,ae).values())t.disable()}},Kf=function(t){const e=c(this,ve).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},aw=function(){let t=null;for(t of c(this,Ot));return t},cl=function(){if(c(this,ae).size===0)return!0;if(c(this,ae).size===1)for(const t of c(this,ae).values())return t.isEmpty();return!1},Qf=function(t){for(const e of c(this,Ot))e.unselect();c(this,Ot).clear();for(const e of t)e.isEmpty()||(c(this,Ot).add(e),e.select());w(this,X,De).call(this,{hasSelectedEditor:this.hasSelection})},ut(Ma,"TRANSLATE_SMALL",1),ut(Ma,"TRANSLATE_BIG",10);let ha=Ma;var Ts,Ls,Pn,Ms,tn,qa,Tn,sc,Jf;const Es=class Es{constructor(t){A(this,sc);A(this,Ts,"");A(this,Ls,!1);A(this,Pn,null);A(this,Ms,null);A(this,tn,null);A(this,qa,!1);A(this,Tn,null);y(this,Tn,t)}static initialize(t){Es._l10nPromise||(Es._l10nPromise=t)}async render(){const t=y(this,Pn,document.createElement("button"));t.className="altText";const e=await Es._l10nPromise.get("pdfjs-editor-alt-text-button-label");t.textContent=e,t.setAttribute("aria-label",e),t.tabIndex="0";const n=c(this,Tn)._uiManager._signal;t.addEventListener("contextmenu",Ge,{signal:n}),t.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:n});const s=r=>{r.preventDefault(),c(this,Tn)._uiManager.editAltText(c(this,Tn))};return t.addEventListener("click",s,{capture:!0,signal:n}),t.addEventListener("keydown",r=>{r.target===t&&r.key==="Enter"&&(y(this,qa,!0),s(r))},{signal:n}),await w(this,sc,Jf).call(this),t}finish(){c(this,Pn)&&(c(this,Pn).focus({focusVisible:c(this,qa)}),y(this,qa,!1))}isEmpty(){return!c(this,Ts)&&!c(this,Ls)}get data(){return{altText:c(this,Ts),decorative:c(this,Ls)}}set data({altText:t,decorative:e}){c(this,Ts)===t&&c(this,Ls)===e||(y(this,Ts,t),y(this,Ls,e),w(this,sc,Jf).call(this))}toggle(t=!1){c(this,Pn)&&(!t&&c(this,tn)&&(clearTimeout(c(this,tn)),y(this,tn,null)),c(this,Pn).disabled=!t)}destroy(){var t;(t=c(this,Pn))==null||t.remove(),y(this,Pn,null),y(this,Ms,null)}};Ts=new WeakMap,Ls=new WeakMap,Pn=new WeakMap,Ms=new WeakMap,tn=new WeakMap,qa=new WeakMap,Tn=new WeakMap,sc=new WeakSet,Jf=async function(){var s;const t=c(this,Pn);if(!t)return;if(!c(this,Ts)&&!c(this,Ls)){t.classList.remove("done"),(s=c(this,Ms))==null||s.remove();return}t.classList.add("done"),Es._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(r=>{t.setAttribute("aria-label",r)});let e=c(this,Ms);if(!e){y(this,Ms,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip");const r=e.id=`alt-text-tooltip-${c(this,Tn).id}`;t.setAttribute("aria-describedby",r);const a=100,o=c(this,Tn)._uiManager._signal;o.addEventListener("abort",()=>{clearTimeout(c(this,tn)),y(this,tn,null)},{once:!0}),t.addEventListener("mouseenter",()=>{y(this,tn,setTimeout(()=>{y(this,tn,null),c(this,Ms).classList.add("show"),c(this,Tn)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:o}),t.addEventListener("mouseleave",()=>{var l;c(this,tn)&&(clearTimeout(c(this,tn)),y(this,tn,null)),(l=c(this,Ms))==null||l.classList.remove("show")},{signal:o})}e.innerText=c(this,Ls)?await Es._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):c(this,Ts),e.parentNode||t.append(e);const n=c(this,Tn).getImageForAltText();n==null||n.setAttribute("aria-describedby",e.id)},ut(Es,"_l10nPromise",null);let Ih=Es;var Er,Ln,ke,Ga,xr,ye,Sr,Xa,Ya,Re,ic,Cr,xi,rc,_r,Is,Yn,Ka,Qa,vn,ac,Gh,Et,Zf,oc,tp,ep,ow,lw,np,sp,ip,cw,dw,hw,uw,rp,dl;const zt=class zt{constructor(t){A(this,Et);A(this,Er,null);A(this,Ln,null);A(this,ke,null);A(this,Ga,!1);A(this,xr,!1);A(this,ye,null);A(this,Sr,null);A(this,Xa,this.focusin.bind(this));A(this,Ya,this.focusout.bind(this));A(this,Re,null);A(this,ic,"");A(this,Cr,!1);A(this,xi,null);A(this,rc,!1);A(this,_r,!1);A(this,Is,!1);A(this,Yn,null);A(this,Ka,0);A(this,Qa,0);A(this,vn,null);ut(this,"_initialOptions",Object.create(null));ut(this,"_isVisible",!0);ut(this,"_uiManager",null);ut(this,"_focusEventsAllowed",!0);ut(this,"_l10nPromise",null);A(this,ac,!1);A(this,Gh,zt._zIndex++);this.constructor===zt&&Ht("Cannot initialize AnnotationEditor."),this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:s,pageX:r,pageY:a}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,s],this.pageTranslation=[r,a];const[o,l]=this.parentDimensions;this.x=t.x/o,this.y=t.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=zt.prototype._resizeWithKeyboard,e=ha.TRANSLATE_SMALL,n=ha.TRANSLATE_BIG;return Pt(this,"_resizerKeyboardManager",new vd([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],zt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Pt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new a1({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e,n){if(zt._l10nPromise||(zt._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(r=>[r,t.get(r.replaceAll(/([A-Z])/g,a=>`-${a.toLowerCase()}`))]))),n!=null&&n.strings)for(const r of n.strings)zt._l10nPromise.set(r,t.get(r));if(zt._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);zt._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Ht("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return c(this,ac)}set _isDraggable(t){var e;y(this,ac,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=c(this,Gh)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):w(this,Et,dl).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(c(this,Cr)?y(this,Cr,!1):this.parent.setSelected(this))}focusout(t){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,s){const[r,a]=this.parentDimensions;[n,s]=this.screenToPageTranslation(n,s),this.x=(t+n)/r,this.y=(e+s)/a,this.fixAndSetPosition()}translate(t,e){w(this,Et,Zf).call(this,this.parentDimensions,t,e)}translateInPage(t,e){c(this,xi)||y(this,xi,[this.x,this.y]),w(this,Et,Zf).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){c(this,xi)||y(this,xi,[this.x,this.y]);const[n,s]=this.parentDimensions;if(this.x+=t/n,this.y+=e/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:r,y:a}=this;const[o,l]=this.getBaseTranslation();r+=o,a+=l,this.div.style.left=`${(100*r).toFixed(2)}%`,this.div.style.top=`${(100*a).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!c(this,xi)&&(c(this,xi)[0]!==this.x||c(this,xi)[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=zt,s=n/t,r=n/e;switch(this.rotation){case 90:return[-s,r];case 180:return[s,r];case 270:return[s,-r];default:return[-s,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[e,n]=this.pageDimensions;let{x:s,y:r,width:a,height:o}=this;if(a*=e,o*=n,s*=e,r*=n,this._mustFixPosition)switch(t){case 0:s=Math.max(0,Math.min(e-a,s)),r=Math.max(0,Math.min(n-o,r));break;case 90:s=Math.max(0,Math.min(e-o,s)),r=Math.min(n,Math.max(a,r));break;case 180:s=Math.min(e,Math.max(a,s)),r=Math.min(n,Math.max(o,r));break;case 270:s=Math.min(e,Math.max(o,s)),r=Math.max(0,Math.min(n-a,r));break}this.x=s/=e,this.y=r/=n;const[l,d]=this.getBaseTranslation();s+=l,r+=d;const{style:h}=this.div;h.left=`${(100*s).toFixed(2)}%`,h.top=`${(100*r).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var n;return w(n=zt,oc,tp).call(n,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var n;return w(n=zt,oc,tp).call(n,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this,s=e*t,r=n*t;return Ve.isCSSRoundSupported?[Math.round(s),Math.round(r)]:[s,r]}setDims(t,e){const[n,s]=this.parentDimensions;this.div.style.width=`${(100*t/n).toFixed(2)}%`,c(this,xr)||(this.div.style.height=`${(100*e/s).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:n}=t,s=n.endsWith("%"),r=!c(this,xr)&&e.endsWith("%");if(s&&r)return;const[a,o]=this.parentDimensions;s||(t.width=`${(100*parseFloat(n)/a).toFixed(2)}%`),!c(this,xr)&&!r&&(t.height=`${(100*parseFloat(e)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=c(this,ke))==null||t.finish()}async addEditToolbar(){return c(this,Re)||c(this,_r)?c(this,Re):(y(this,Re,new $f(this)),this.div.append(c(this,Re).render()),c(this,ke)&&c(this,Re).addAltTextButton(await c(this,ke).render()),c(this,Re))}removeEditToolbar(){var t;c(this,Re)&&(c(this,Re).remove(),y(this,Re,null),(t=c(this,ke))==null||t.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){c(this,ke)||(Ih.initialize(zt._l10nPromise),y(this,ke,new Ih(this)),c(this,Er)&&(c(this,ke).data=c(this,Er),y(this,Er,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=c(this,ke))==null?void 0:t.data}set altTextData(t){c(this,ke)&&(c(this,ke).data=t)}hasAltText(){var t;return!((t=c(this,ke))!=null&&t.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=c(this,Ga)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const t=this._uiManager._signal;this.div.addEventListener("focusin",c(this,Xa),{signal:t}),this.div.addEventListener("focusout",c(this,Ya),{signal:t});const[e,n]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*n/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/n).toFixed(2)}%`);const[s,r]=this.getInitialTranslation();return this.translate(s,r),Mh(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=Ve.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(y(this,Cr,!0),this._isDraggable){w(this,Et,cw).call(this,t);return}w(this,Et,ip).call(this,t)}moveInDOM(){c(this,Yn)&&clearTimeout(c(this,Yn)),y(this,Yn,setTimeout(()=>{var t;y(this,Yn,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition()}getRect(t,e,n=this.rotation){const s=this.parentScale,[r,a]=this.pageDimensions,[o,l]=this.pageTranslation,d=t/s,h=e/s,u=this.x*r,f=this.y*a,p=this.width*r,g=this.height*a;switch(n){case 0:return[u+d+o,a-f-h-g+l,u+d+p+o,a-f-h+l];case 90:return[u+h+o,a-f+d+l,u+h+g+o,a-f+d+p+l];case 180:return[u-d-p+o,a-f+h+l,u-d+o,a-f+h+g+l];case 270:return[u-h-g+o,a-f-d-p+l,u-h+o,a-f-d+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,s,r,a]=t,o=r-n,l=a-s;switch(this.rotation){case 0:return[n,e-a,o,l];case 90:return[n,e-s,l,o];case 180:return[r,e-s,o,l];case 270:return[r,e-a,l,o];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){y(this,_r,!0)}disableEditMode(){y(this,_r,!1)}isInEditMode(){return c(this,_r)}shouldGetKeyboardEvents(){return c(this,Is)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var e,n;const t=this._uiManager._signal;(e=this.div)==null||e.addEventListener("focusin",c(this,Xa),{signal:t}),(n=this.div)==null||n.addEventListener("focusout",c(this,Ya),{signal:t})}rotate(t){}serialize(t=!1,e=null){Ht("An editor must be serializable")}static deserialize(t,e,n){const s=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n});s.rotation=t.rotation,y(s,Er,t.accessibilityData);const[r,a]=s.pageDimensions,[o,l,d,h]=s.getRectInCurrentCoords(t.rect,a);return s.x=o/r,s.y=l/a,s.width=d/r,s.height=h/a,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",c(this,Xa)),this.div.removeEventListener("focusout",c(this,Ya)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),c(this,Yn)&&(clearTimeout(c(this,Yn)),y(this,Yn,null)),w(this,Et,dl).call(this),this.removeEditToolbar(),c(this,vn)){for(const t of c(this,vn).values())clearTimeout(t);y(this,vn,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(w(this,Et,ow).call(this),c(this,ye).classList.remove("hidden"),Mh(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),y(this,Sr,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=c(this,ye).children;if(!c(this,Ln)){y(this,Ln,Array.from(e));const a=w(this,Et,dw).bind(this),o=w(this,Et,hw).bind(this),l=this._uiManager._signal;for(const d of c(this,Ln)){const h=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",a,{signal:l}),d.addEventListener("blur",o,{signal:l}),d.addEventListener("focus",w(this,Et,uw).bind(this,h),{signal:l}),zt._l10nPromise.get(`pdfjs-editor-resizer-label-${h}`).then(u=>d.setAttribute("aria-label",u))}}const n=c(this,Ln)[0];let s=0;for(const a of e){if(a===n)break;s++}const r=(360-this.rotation+this.parentRotation)%360/90*(c(this,Ln).length/4);if(r!==s){if(r<s)for(let o=0;o<s-r;o++)c(this,ye).append(c(this,ye).firstChild);else if(r>s)for(let o=0;o<r-s;o++)c(this,ye).firstChild.before(c(this,ye).lastChild);let a=0;for(const o of e){const d=c(this,Ln)[a++].getAttribute("data-resizer-name");zt._l10nPromise.get(`pdfjs-editor-resizer-label-${d}`).then(h=>o.setAttribute("aria-label",h))}}w(this,Et,rp).call(this,0),y(this,Is,!0),c(this,ye).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){c(this,Is)&&w(this,Et,sp).call(this,c(this,ic),{movementX:t,movementY:e})}_stopResizingWithKeyboard(){w(this,Et,dl).call(this),this.div.focus()}select(){var t,e;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!c(this,Re)){this.addEditToolbar().then(()=>{var n,s;(n=this.div)!=null&&n.classList.contains("selectedEditor")&&((s=c(this,Re))==null||s.show())});return}(e=c(this,Re))==null||e.show()}unselect(){var t,e,n,s;(t=c(this,ye))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=c(this,Re))==null||s.hide()}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return c(this,rc)}set isEditing(t){y(this,rc,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){y(this,xr,!0);const n=t/e,{style:s}=this.div;s.aspectRatio=n,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){c(this,vn)||y(this,vn,new Map);const{action:n}=t;let s=c(this,vn).get(n);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(t),c(this,vn).delete(n),c(this,vn).size===0&&y(this,vn,null)},zt._telemetryTimeout),c(this,vn).set(n,s);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),y(this,Ga,!1)}disable(){this.div&&(this.div.tabIndex=-1),y(this,Ga,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};Er=new WeakMap,Ln=new WeakMap,ke=new WeakMap,Ga=new WeakMap,xr=new WeakMap,ye=new WeakMap,Sr=new WeakMap,Xa=new WeakMap,Ya=new WeakMap,Re=new WeakMap,ic=new WeakMap,Cr=new WeakMap,xi=new WeakMap,rc=new WeakMap,_r=new WeakMap,Is=new WeakMap,Yn=new WeakMap,Ka=new WeakMap,Qa=new WeakMap,vn=new WeakMap,ac=new WeakMap,Gh=new WeakMap,Et=new WeakSet,Zf=function([t,e],n,s){[n,s]=this.screenToPageTranslation(n,s),this.x+=n/t,this.y+=s/e,this.fixAndSetPosition()},oc=new WeakSet,tp=function(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},ep=function(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}},ow=function(){if(c(this,ye))return;y(this,ye,document.createElement("div")),c(this,ye).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const s=document.createElement("div");c(this,ye).append(s),s.classList.add("resizer",n),s.setAttribute("data-resizer-name",n),s.addEventListener("pointerdown",w(this,Et,lw).bind(this,n),{signal:e}),s.addEventListener("contextmenu",Ge,{signal:e}),s.tabIndex=-1}this.div.prepend(c(this,ye))},lw=function(t,e){var m;e.preventDefault();const{isMac:n}=Ve.platform;if(e.button!==0||e.ctrlKey&&n)return;(m=c(this,ke))==null||m.toggle(!1);const s=w(this,Et,sp).bind(this,t),r=this._isDraggable;this._isDraggable=!1;const a=this._uiManager._signal,o={passive:!0,capture:!0,signal:a};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",s,o),window.addEventListener("contextmenu",Ge,{signal:a});const l=this.x,d=this.y,h=this.width,u=this.height,f=this.parent.div.style.cursor,p=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const g=()=>{var b;this.parent.togglePointerEvents(!0),(b=c(this,ke))==null||b.toggle(!0),this._isDraggable=r,window.removeEventListener("pointerup",g),window.removeEventListener("blur",g),window.removeEventListener("pointermove",s,o),window.removeEventListener("contextmenu",Ge),this.parent.div.style.cursor=f,this.div.style.cursor=p,w(this,Et,np).call(this,l,d,h,u)};window.addEventListener("pointerup",g,{signal:a}),window.addEventListener("blur",g,{signal:a})},np=function(t,e,n,s){const r=this.x,a=this.y,o=this.width,l=this.height;r===t&&a===e&&o===n&&l===s||this.addCommands({cmd:()=>{this.width=o,this.height=l,this.x=r,this.y=a;const[d,h]=this.parentDimensions;this.setDims(d*o,h*l),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=s,this.x=t,this.y=e;const[d,h]=this.parentDimensions;this.setDims(d*n,h*s),this.fixAndSetPosition()},mustExec:!0})},sp=function(t,e){const[n,s]=this.parentDimensions,r=this.x,a=this.y,o=this.width,l=this.height,d=zt.MIN_SIZE/n,h=zt.MIN_SIZE/s,u=N=>Math.round(N*1e4)/1e4,f=w(this,Et,ep).call(this,this.rotation),p=(N,O)=>[f[0]*N+f[2]*O,f[1]*N+f[3]*O],g=w(this,Et,ep).call(this,360-this.rotation),m=(N,O)=>[g[0]*N+g[2]*O,g[1]*N+g[3]*O];let b,v,E=!1,x=!1;switch(t){case"topLeft":E=!0,b=(N,O)=>[0,0],v=(N,O)=>[N,O];break;case"topMiddle":b=(N,O)=>[N/2,0],v=(N,O)=>[N/2,O];break;case"topRight":E=!0,b=(N,O)=>[N,0],v=(N,O)=>[0,O];break;case"middleRight":x=!0,b=(N,O)=>[N,O/2],v=(N,O)=>[0,O/2];break;case"bottomRight":E=!0,b=(N,O)=>[N,O],v=(N,O)=>[0,0];break;case"bottomMiddle":b=(N,O)=>[N/2,O],v=(N,O)=>[N/2,0];break;case"bottomLeft":E=!0,b=(N,O)=>[0,O],v=(N,O)=>[N,0];break;case"middleLeft":x=!0,b=(N,O)=>[0,O/2],v=(N,O)=>[N,O/2];break}const C=b(o,l),S=v(o,l);let k=p(...S);const L=u(r+k[0]),T=u(a+k[1]);let M=1,_=1,[I,F]=this.screenToPageTranslation(e.movementX,e.movementY);if([I,F]=m(I/n,F/s),E){const N=Math.hypot(o,l);M=_=Math.max(Math.min(Math.hypot(S[0]-C[0]-I,S[1]-C[1]-F)/N,1/o,1/l),d/o,h/l)}else x?M=Math.max(d,Math.min(1,Math.abs(S[0]-C[0]-I)))/o:_=Math.max(h,Math.min(1,Math.abs(S[1]-C[1]-F)))/l;const H=u(o*M),B=u(l*_);k=p(...v(H,B));const W=L-k[0],$=T-k[1];this.width=H,this.height=B,this.x=W,this.y=$,this.setDims(n*H,s*B),this.fixAndSetPosition()},ip=function(t){const{isMac:e}=Ve.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},cw=function(t){const e=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let n,s;const r=this._uiManager._signal;e&&(this.div.classList.add("moving"),n={passive:!0,capture:!0,signal:r},y(this,Ka,t.clientX),y(this,Qa,t.clientY),s=o=>{const{clientX:l,clientY:d}=o,[h,u]=this.screenToPageTranslation(l-c(this,Ka),d-c(this,Qa));y(this,Ka,l),y(this,Qa,d),this._uiManager.dragSelectedEditors(h,u)},window.addEventListener("pointermove",s,n));const a=()=>{window.removeEventListener("pointerup",a),window.removeEventListener("blur",a),e&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",s,n)),y(this,Cr,!1),this._uiManager.endDragSession()||w(this,Et,ip).call(this,t)};window.addEventListener("pointerup",a,{signal:r}),window.addEventListener("blur",a,{signal:r})},dw=function(t){zt._resizerKeyboardManager.exec(this,t)},hw=function(t){var e;c(this,Is)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==c(this,ye)&&w(this,Et,dl).call(this)},uw=function(t){y(this,ic,c(this,Is)?t:"")},rp=function(t){if(c(this,Ln))for(const e of c(this,Ln))e.tabIndex=t},dl=function(){if(y(this,Is,!1),w(this,Et,rp).call(this,-1),c(this,Sr)){const{savedX:t,savedY:e,savedWidth:n,savedHeight:s}=c(this,Sr);w(this,Et,np).call(this,t,e,n,s),y(this,Sr,null)}},A(zt,oc),ut(zt,"_borderLineWidth",-1),ut(zt,"_colorManager",new qf),ut(zt,"_zIndex",1),ut(zt,"_telemetryTimeout",1e3);let Nt=zt;class a1 extends Nt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const uv=3285377520,gn=4294901760,Un=65535;class fw{constructor(t){this.h1=t?t&4294967295:uv,this.h2=t?t&4294967295:uv}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let m=0,b=t.length;m<b;m++){const v=t.charCodeAt(m);v<=255?e[n++]=v:(e[n++]=v>>>8,e[n++]=v&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=n>>2,r=n-s*4,a=new Uint32Array(e.buffer,0,s);let o=0,l=0,d=this.h1,h=this.h2;const u=3432918353,f=461845907,p=u&Un,g=f&Un;for(let m=0;m<s;m++)m&1?(o=a[m],o=o*u&gn|o*p&Un,o=o<<15|o>>>17,o=o*f&gn|o*g&Un,d^=o,d=d<<13|d>>>19,d=d*5+3864292196):(l=a[m],l=l*u&gn|l*p&Un,l=l<<15|l>>>17,l=l*f&gn|l*g&Un,h^=l,h=h<<13|h>>>19,h=h*5+3864292196);switch(o=0,r){case 3:o^=e[s*4+2]<<16;case 2:o^=e[s*4+1]<<8;case 1:o^=e[s*4],o=o*u&gn|o*p&Un,o=o<<15|o>>>17,o=o*f&gn|o*g&Un,s&1?d^=o:h^=o}this.h1=d,this.h2=h}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&gn|t*36045&Un,e=e*4283543511&gn|((e<<16|t>>>16)*2950163797&gn)>>>16,t^=e>>>1,t=t*444984403&gn|t*60499&Un,e=e*3301882366&gn|((e<<16|t>>>16)*3120437893&gn)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const ap=Object.freeze({map:null,hash:"",transfer:void 0});var kr,we,Xh,pw;class Ng{constructor(){A(this,Xh);A(this,kr,!1);A(this,we,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=c(this,we).get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return c(this,we).get(t)}remove(t){if(c(this,we).delete(t),c(this,we).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of c(this,we).values())if(e instanceof Nt)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=c(this,we).get(t);let s=!1;if(n!==void 0)for(const[r,a]of Object.entries(e))n[r]!==a&&(s=!0,n[r]=a);else s=!0,c(this,we).set(t,e);s&&w(this,Xh,pw).call(this),e instanceof Nt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return c(this,we).has(t)}getAll(){return c(this,we).size>0?Pg(c(this,we)):null}setAll(t){for(const[e,n]of Object.entries(t))this.setValue(e,n)}get size(){return c(this,we).size}resetModified(){c(this,kr)&&(y(this,kr,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new gw(this)}get serializable(){if(c(this,we).size===0)return ap;const t=new Map,e=new fw,n=[],s=Object.create(null);let r=!1;for(const[a,o]of c(this,we)){const l=o instanceof Nt?o.serialize(!1,s):o;l&&(t.set(a,l),e.update(`${a}:${JSON.stringify(l)}`),r||(r=!!l.bitmap))}if(r)for(const a of t.values())a.bitmap&&n.push(a.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:ap}get editorStats(){let t=null;const e=new Map;for(const n of c(this,we).values()){if(!(n instanceof Nt))continue;const s=n.telemetryFinalData;if(!s)continue;const{type:r}=s;e.has(r)||e.set(r,Object.getPrototypeOf(n).constructor),t||(t=Object.create(null));const a=t[r]||(t[r]=new Map);for(const[o,l]of Object.entries(s)){if(o==="type")continue;let d=a.get(o);d||(d=new Map,a.set(o,d));const h=d.get(l)??0;d.set(l,h+1)}}for(const[n,s]of e)t[n]=s.computeTelemetryFinalData(t[n]);return t}}kr=new WeakMap,we=new WeakMap,Xh=new WeakSet,pw=function(){c(this,kr)||(y(this,kr,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var lc;class gw extends Ng{constructor(e){super();A(this,lc);const{map:n,hash:s,transfer:r}=e.serializable,a=structuredClone(n,r?{transfer:r}:null);y(this,lc,{map:a,hash:s,transfer:r})}get print(){Ht("Should not call PrintAnnotationStorage.print")}get serializable(){return c(this,lc)}}lc=new WeakMap;var Ja;class o1{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){A(this,Ja,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),c(this,Ja).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||c(this,Ja).has(t.loadedName))){if(he(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:s,style:r}=t,a=new FontFace(n,s,r);this.addNativeFontFace(a);try{await a.load(),c(this,Ja).add(n),e==null||e(t)}catch{yt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}Ht("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(s){throw yt(`Failed to load font '${n.family}': '${s}'.`),t.disableFontFace=!0,s}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const s=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,s)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return Pt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(Le||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),Pt(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(he(!s.done,"completeRequest() cannot be called twice."),s.done=!0;n.length>0&&n[0].done;){const r=n.shift();setTimeout(r.callback,0)}}const{loadingRequests:n}=this,s={done:!1,complete:e,callback:t};return n.push(s),s}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Pt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(C,S){return C.charCodeAt(S)<<24|C.charCodeAt(S+1)<<16|C.charCodeAt(S+2)<<8|C.charCodeAt(S+3)&255}function s(C,S,k,L){const T=C.substring(0,S),M=C.substring(S+k);return T+L+M}let r,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let d=0;function h(C,S){if(++d>30){yt("Load test font never loaded."),S();return}if(l.font="30px "+C,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){S();return}setTimeout(h.bind(null,C,S))}const u=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=s(f,976,u.length,u);const g=16,m=1482184792;let b=n(f,g);for(r=0,a=u.length-3;r<a;r+=4)b=b-m+n(u,r)|0;r<u.length&&(b=b-m+n(u+"XXX",r)|0),f=s(f,g,4,Wk(b));const v=`url(data:font/opentype;base64,${btoa(f)});`,E=`@font-face {font-family:"${u}";src:${v}}`;this.insertRule(E);const x=this._document.createElement("div");x.style.visibility="hidden",x.style.width=x.style.height="10px",x.style.position="absolute",x.style.top=x.style.left="0px";for(const C of[t.loadedName,u]){const S=this._document.createElement("span");S.textContent="Hi",S.style.fontFamily=C,x.append(S)}this._document.body.append(x),h(u,()=>{x.remove(),e.complete()})}}Ja=new WeakMap;class l1{constructor(t,{disableFontFace:e=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const s in t)this[s]=t[s];this.disableFontFace=e===!0,this._inspectFont=n}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var s;if(!this.data||this.disableFontFace)return null;const t=Ny(this.data),e=`url(data:${this.mimetype};base64,${btoa(t)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(s=this._inspectFont)==null||s.call(this,this,e),n}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let n;try{n=t.get(this.loadedName+"_path_"+e)}catch(r){yt(`getPathGenerator - ignoring character: "${r}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[e]=function(r,a){};const s=[];for(let r=0,a=n.length;r<a;)switch(n[r++]){case ys.BEZIER_CURVE_TO:{const[o,l,d,h,u,f]=n.slice(r,r+6);s.push(p=>p.bezierCurveTo(o,l,d,h,u,f)),r+=6}break;case ys.MOVE_TO:{const[o,l]=n.slice(r,r+2);s.push(d=>d.moveTo(o,l)),r+=2}break;case ys.LINE_TO:{const[o,l]=n.slice(r,r+2);s.push(d=>d.lineTo(o,l)),r+=2}break;case ys.QUADRATIC_CURVE_TO:{const[o,l,d,h]=n.slice(r,r+4);s.push(u=>u.quadraticCurveTo(o,l,d,h)),r+=4}break;case ys.RESTORE:s.push(o=>o.restore());break;case ys.SAVE:s.push(o=>o.save());break;case ys.SCALE:he(s.length===2,"Scale command is only valid at the third position.");break;case ys.TRANSFORM:{const[o,l,d,h,u,f]=n.slice(r,r+6);s.push(p=>p.transform(o,l,d,h,u,f)),r+=6}break;case ys.TRANSLATE:{const[o,l]=n.slice(r,r+2);s.push(d=>d.translate(o,l)),r+=2}break}return this.compiledGlyphs[e]=function(a,o){s[0](a),s[1](a),a.scale(o,-o);for(let l=2,d=s.length;l<d;l++)s[l](a)}}}if(Le){var op=Promise.withResolvers(),Sl=null;(async()=>{const t=await Bd(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),e=await Bd(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await Bd(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await Bd(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let r,a;return new Map(Object.entries({fs:t,http:e,https:n,url:s,canvas:r,path2d:a}))})().then(t=>{Sl=t,op.resolve()},t=>{yt(`loadPackages: ${t}`),Sl=new Map,op.resolve()})}class ps{static get promise(){return op.promise}static get(t){return Sl==null?void 0:Sl.get(t)}}const mw=function(i){return ps.get("fs").promises.readFile(i).then(e=>new Uint8Array(e))};class c1 extends Eu{}class d1 extends Lh{_createCanvas(t,e){return ps.get("canvas").createCanvas(t,e)}}class h1 extends xu{_fetchData(t,e){return mw(t).then(n=>({cMapData:n,compressionType:e}))}}class u1 extends Su{_fetchData(t){return mw(t)}}const Fe={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function lp(i,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],s=new Path2D;s.rect(t[0],t[1],e,n),i.clip(s)}class bd{constructor(){this.constructor===bd&&Ht("Cannot initialize BaseShadingPattern.")}getPattern(){Ht("Abstract method `getPattern` called.")}}class f1 extends bd{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,s){let r;if(s===Fe.STROKE||s===Fe.FILL){const a=e.current.getClippedPathBoundingBox(s,Gt(t))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,d=e.cachedCanvases.getCanvas("pattern",o,l,!0),h=d.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-a[0],-a[1]),n=nt.transform(n,[1,0,0,1,a[0],a[1]]),h.transform(...e.baseTransform),this.matrix&&h.transform(...this.matrix),lp(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),r=t.createPattern(d.canvas,"no-repeat");const u=new DOMMatrix(n);r.setTransform(u)}else lp(t,this._bbox),r=this._createGradient(t);return r}}function ef(i,t,e,n,s,r,a,o){const l=t.coords,d=t.colors,h=i.data,u=i.width*4;let f;l[e+1]>l[n+1]&&(f=e,e=n,n=f,f=r,r=a,a=f),l[n+1]>l[s+1]&&(f=n,n=s,s=f,f=a,a=o,o=f),l[e+1]>l[n+1]&&(f=e,e=n,n=f,f=r,r=a,a=f);const p=(l[e]+t.offsetX)*t.scaleX,g=(l[e+1]+t.offsetY)*t.scaleY,m=(l[n]+t.offsetX)*t.scaleX,b=(l[n+1]+t.offsetY)*t.scaleY,v=(l[s]+t.offsetX)*t.scaleX,E=(l[s+1]+t.offsetY)*t.scaleY;if(g>=E)return;const x=d[r],C=d[r+1],S=d[r+2],k=d[a],L=d[a+1],T=d[a+2],M=d[o],_=d[o+1],I=d[o+2],F=Math.round(g),H=Math.round(E);let B,W,$,N,O,at,ot,Ct;for(let vt=F;vt<=H;vt++){if(vt<b){const Q=vt<g?0:(g-vt)/(g-b);B=p-(p-m)*Q,W=x-(x-k)*Q,$=C-(C-L)*Q,N=S-(S-T)*Q}else{let Q;vt>E?Q=1:b===E?Q=0:Q=(b-vt)/(b-E),B=m-(m-v)*Q,W=k-(k-M)*Q,$=L-(L-_)*Q,N=T-(T-I)*Q}let et;vt<g?et=0:vt>E?et=1:et=(g-vt)/(g-E),O=p-(p-v)*et,at=x-(x-M)*et,ot=C-(C-_)*et,Ct=S-(S-I)*et;const ft=Math.round(Math.min(B,O)),It=Math.round(Math.max(B,O));let Lt=u*vt+ft*4;for(let Q=ft;Q<=It;Q++)et=(B-Q)/(B-O),et<0?et=0:et>1&&(et=1),h[Lt++]=W-(W-at)*et|0,h[Lt++]=$-($-ot)*et|0,h[Lt++]=N-(N-Ct)*et|0,h[Lt++]=255}}function p1(i,t,e){const n=t.coords,s=t.colors;let r,a;switch(t.type){case"lattice":const o=t.verticesPerRow,l=Math.floor(n.length/o)-1,d=o-1;for(r=0;r<l;r++){let h=r*o;for(let u=0;u<d;u++,h++)ef(i,e,n[h],n[h+1],n[h+o],s[h],s[h+1],s[h+o]),ef(i,e,n[h+o+1],n[h+1],n[h+o],s[h+o+1],s[h+1],s[h+o])}break;case"triangles":for(r=0,a=n.length;r<a;r+=3)ef(i,e,n[r],n[r+1],n[r+2],s[r],s[r+1],s[r+2]);break;default:throw new Error("illegal figure")}}class g1 extends bd{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,n){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-o,h=Math.ceil(this._bounds[3])-l,u=Math.min(Math.ceil(Math.abs(d*t[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(h*t[1]*1.1)),3e3),p=d/u,g=h/f,m={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/p,scaleY:1/g},b=u+2*2,v=f+2*2,E=n.getCanvas("mesh",b,v,!1),x=E.context,C=x.createImageData(u,f);if(e){const k=C.data;for(let L=0,T=k.length;L<T;L+=4)k[L]=e[0],k[L+1]=e[1],k[L+2]=e[2],k[L+3]=255}for(const k of this._figures)p1(C,k,m);return x.putImageData(C,2,2),{canvas:E.canvas,offsetX:o-2*p,offsetY:l-2*g,scaleX:p,scaleY:g}}getPattern(t,e,n,s){lp(t,this._bbox);let r;if(s===Fe.SHADING)r=nt.singularValueDecompose2dScale(Gt(t));else if(r=nt.singularValueDecompose2dScale(e.baseTransform),this.matrix){const o=nt.singularValueDecompose2dScale(this.matrix);r=[r[0]*o[0],r[1]*o[1]]}const a=this._createMeshCanvas(r,s===Fe.SHADING?null:this._background,e.cachedCanvases);return s!==Fe.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(a.offsetX,a.offsetY),t.scale(a.scaleX,a.scaleY),t.createPattern(a.canvas,"no-repeat")}}class m1 extends bd{getPattern(){return"hotpink"}}function v1(i){switch(i[0]){case"RadialAxial":return new f1(i);case"Mesh":return new g1(i);case"Dummy":return new m1}throw new Error(`Unknown IR type: ${i[0]}`)}const fv={COLORED:1,UNCOLORED:2},Yh=class Yh{constructor(t,e,n,s,r){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=n,this.canvasGraphicsFactory=s,this.baseTransform=r}createPatternCanvas(t){const e=this.operatorList,n=this.bbox,s=this.xstep,r=this.ystep,a=this.paintType,o=this.tilingType,l=this.color,d=this.canvasGraphicsFactory;yu("TilingType: "+o);const h=n[0],u=n[1],f=n[2],p=n[3],g=nt.singularValueDecompose2dScale(this.matrix),m=nt.singularValueDecompose2dScale(this.baseTransform),b=[g[0]*m[0],g[1]*m[1]],v=this.getSizeAndScale(s,this.ctx.canvas.width,b[0]),E=this.getSizeAndScale(r,this.ctx.canvas.height,b[1]),x=t.cachedCanvases.getCanvas("pattern",v.size,E.size,!0),C=x.context,S=d.createCanvasGraphics(C);S.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(S,a,l);let k=h,L=u,T=f,M=p;return h<0&&(k=0,T+=Math.abs(h)),u<0&&(L=0,M+=Math.abs(u)),C.translate(-(v.scale*k),-(E.scale*L)),S.transform(v.scale,0,0,E.scale,0,0),C.save(),this.clipBbox(S,k,L,T,M),S.baseTransform=Gt(S.ctx),S.executeOperatorList(e),S.endDrawing(),{canvas:x.canvas,scaleX:v.scale,scaleY:E.scale,offsetX:k,offsetY:L}}getSizeAndScale(t,e,n){t=Math.abs(t);const s=Math.max(Yh.MAX_PATTERN_SIZE,e);let r=Math.ceil(t*n);return r>=s?r=s:n=r/t,{scale:n,size:r}}clipBbox(t,e,n,s,r){const a=s-e,o=r-n;t.ctx.rect(e,n,a,o),t.current.updateRectMinMax(Gt(t.ctx),[e,n,s,r]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const s=t.ctx,r=t.current;switch(e){case fv.COLORED:const a=this.ctx;s.fillStyle=a.fillStyle,s.strokeStyle=a.strokeStyle,r.fillColor=a.fillStyle,r.strokeColor=a.strokeStyle;break;case fv.UNCOLORED:const o=nt.makeHexColor(n[0],n[1],n[2]);s.fillStyle=o,s.strokeStyle=o,r.fillColor=o,r.strokeColor=o;break;default:throw new Uk(`Unsupported paint type: ${e}`)}}getPattern(t,e,n,s){let r=n;s!==Fe.SHADING&&(r=nt.transform(r,e.baseTransform),this.matrix&&(r=nt.transform(r,this.matrix)));const a=this.createPatternCanvas(e);let o=new DOMMatrix(r);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const l=t.createPattern(a.canvas,"repeat");return l.setTransform(o),l}};ut(Yh,"MAX_PATTERN_SIZE",3e3);let cp=Yh;function b1({src:i,srcPos:t=0,dest:e,width:n,height:s,nonBlackColor:r=4294967295,inverseDecode:a=!1}){const o=Ve.isLittleEndian?4278190080:255,[l,d]=a?[r,o]:[o,r],h=n>>3,u=n&7,f=i.length;e=new Uint32Array(e.buffer);let p=0;for(let g=0;g<s;g++){for(const b=t+h;t<b;t++){const v=t<f?i[t]:255;e[p++]=v&128?d:l,e[p++]=v&64?d:l,e[p++]=v&32?d:l,e[p++]=v&16?d:l,e[p++]=v&8?d:l,e[p++]=v&4?d:l,e[p++]=v&2?d:l,e[p++]=v&1?d:l}if(u===0)continue;const m=t<f?i[t++]:255;for(let b=0;b<u;b++)e[p++]=m&1<<7-b?d:l}return{srcPos:t,destPos:p}}const pv=16,gv=100,y1=15,mv=10,vv=1e3,We=16;function w1(i,t){if(i._removeMirroring)throw new Error("Context is already forwarding operations.");i.__originalSave=i.save,i.__originalRestore=i.restore,i.__originalRotate=i.rotate,i.__originalScale=i.scale,i.__originalTranslate=i.translate,i.__originalTransform=i.transform,i.__originalSetTransform=i.setTransform,i.__originalResetTransform=i.resetTransform,i.__originalClip=i.clip,i.__originalMoveTo=i.moveTo,i.__originalLineTo=i.lineTo,i.__originalBezierCurveTo=i.bezierCurveTo,i.__originalRect=i.rect,i.__originalClosePath=i.closePath,i.__originalBeginPath=i.beginPath,i._removeMirroring=()=>{i.save=i.__originalSave,i.restore=i.__originalRestore,i.rotate=i.__originalRotate,i.scale=i.__originalScale,i.translate=i.__originalTranslate,i.transform=i.__originalTransform,i.setTransform=i.__originalSetTransform,i.resetTransform=i.__originalResetTransform,i.clip=i.__originalClip,i.moveTo=i.__originalMoveTo,i.lineTo=i.__originalLineTo,i.bezierCurveTo=i.__originalBezierCurveTo,i.rect=i.__originalRect,i.closePath=i.__originalClosePath,i.beginPath=i.__originalBeginPath,delete i._removeMirroring},i.save=function(){t.save(),this.__originalSave()},i.restore=function(){t.restore(),this.__originalRestore()},i.translate=function(n,s){t.translate(n,s),this.__originalTranslate(n,s)},i.scale=function(n,s){t.scale(n,s),this.__originalScale(n,s)},i.transform=function(n,s,r,a,o,l){t.transform(n,s,r,a,o,l),this.__originalTransform(n,s,r,a,o,l)},i.setTransform=function(n,s,r,a,o,l){t.setTransform(n,s,r,a,o,l),this.__originalSetTransform(n,s,r,a,o,l)},i.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},i.rotate=function(n){t.rotate(n),this.__originalRotate(n)},i.clip=function(n){t.clip(n),this.__originalClip(n)},i.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},i.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},i.bezierCurveTo=function(e,n,s,r,a,o){t.bezierCurveTo(e,n,s,r,a,o),this.__originalBezierCurveTo(e,n,s,r,a,o)},i.rect=function(e,n,s,r){t.rect(e,n,s,r),this.__originalRect(e,n,s,r)},i.closePath=function(){t.closePath(),this.__originalClosePath()},i.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class A1{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let s;return this.cache[t]!==void 0?(s=this.cache[t],this.canvasFactory.reset(s,e,n)):(s=this.canvasFactory.create(e,n),this.cache[t]=s),s}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function zd(i,t,e,n,s,r,a,o,l,d){const[h,u,f,p,g,m]=Gt(i);if(u===0&&f===0){const E=a*h+g,x=Math.round(E),C=o*p+m,S=Math.round(C),k=(a+l)*h+g,L=Math.abs(Math.round(k)-x)||1,T=(o+d)*p+m,M=Math.abs(Math.round(T)-S)||1;return i.setTransform(Math.sign(h),0,0,Math.sign(p),x,S),i.drawImage(t,e,n,s,r,0,0,L,M),i.setTransform(h,u,f,p,g,m),[L,M]}if(h===0&&p===0){const E=o*f+g,x=Math.round(E),C=a*u+m,S=Math.round(C),k=(o+d)*f+g,L=Math.abs(Math.round(k)-x)||1,T=(a+l)*u+m,M=Math.abs(Math.round(T)-S)||1;return i.setTransform(0,Math.sign(u),Math.sign(f),0,x,S),i.drawImage(t,e,n,s,r,0,0,M,L),i.setTransform(h,u,f,p,g,m),[M,L]}i.drawImage(t,e,n,s,r,a,o,l,d);const b=Math.hypot(h,u),v=Math.hypot(f,p);return[b*l,v*d]}function E1(i){const{width:t,height:e}=i;if(t>vv||e>vv)return null;const n=1e3,s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),r=t+1;let a=new Uint8Array(r*(e+1)),o,l,d;const h=t+7&-8;let u=new Uint8Array(h*e),f=0;for(const v of i.data){let E=128;for(;E>0;)u[f++]=v&E?0:255,E>>=1}let p=0;for(f=0,u[f]!==0&&(a[0]=1,++p),l=1;l<t;l++)u[f]!==u[f+1]&&(a[l]=u[f]?2:1,++p),f++;for(u[f]!==0&&(a[l]=2,++p),o=1;o<e;o++){f=o*h,d=o*r,u[f-h]!==u[f]&&(a[d]=u[f]?1:8,++p);let v=(u[f]?4:0)+(u[f-h]?8:0);for(l=1;l<t;l++)v=(v>>2)+(u[f+1]?4:0)+(u[f-h+1]?8:0),s[v]&&(a[d+l]=s[v],++p),f++;if(u[f-h]!==u[f]&&(a[d+l]=u[f]?2:4,++p),p>n)return null}for(f=h*(e-1),d=o*r,u[f]!==0&&(a[d]=8,++p),l=1;l<t;l++)u[f]!==u[f+1]&&(a[d+l]=u[f]?4:8,++p),f++;if(u[f]!==0&&(a[d+l]=4,++p),p>n)return null;const g=new Int32Array([0,r,-1,0,-r,0,0,0,1]),m=new Path2D;for(o=0;p&&o<=e;o++){let v=o*r;const E=v+t;for(;v<E&&!a[v];)v++;if(v===E)continue;m.moveTo(v%r,o);const x=v;let C=a[v];do{const S=g[C];do v+=S;while(!a[v]);const k=a[v];k!==5&&k!==10?(C=k,a[v]=0):(C=k&51*C>>4,a[v]&=C>>2|C<<2),m.lineTo(v%r,v/r|0),a[v]||--p}while(x!==v);--o}return u=null,a=null,function(v){v.save(),v.scale(1/t,-1/e),v.translate(0,-e),v.fill(m),v.beginPath(),v.restore()}}class bv{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Dy,this.textMatrixScale=1,this.fontMatrix=Of,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Ce.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,n){[e,n]=nt.applyTransform([e,n],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(t,e){const n=nt.applyTransform(e,t),s=nt.applyTransform(e.slice(2),t),r=nt.applyTransform([e[0],e[3]],t),a=nt.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,n[0],s[0],r[0],a[0]),this.minY=Math.min(this.minY,n[1],s[1],r[1],a[1]),this.maxX=Math.max(this.maxX,n[0],s[0],r[0],a[0]),this.maxY=Math.max(this.maxY,n[1],s[1],r[1],a[1])}updateScalingPathMinMax(t,e){nt.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,n,s,r,a,o,l,d,h){const u=nt.bezierBoundingBox(e,n,s,r,a,o,l,d,h);h||this.updateRectMinMax(t,u)}getPathBoundingBox(t=Fe.FILL,e=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(t===Fe.STROKE){e||Ht("Stroke bounding box must include transform.");const s=nt.singularValueDecompose2dScale(e),r=s[0]*this.lineWidth/2,a=s[1]*this.lineWidth/2;n[0]-=r,n[1]-=a,n[2]+=r,n[3]+=a}return n}updateClipFromPath(){const t=nt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=Fe.FILL,e=null){return nt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function yv(i,t){if(typeof ImageData<"u"&&t instanceof ImageData){i.putImageData(t,0,0);return}const e=t.height,n=t.width,s=e%We,r=(e-s)/We,a=s===0?r:r+1,o=i.createImageData(n,We);let l=0,d;const h=t.data,u=o.data;let f,p,g,m;if(t.kind===Xd.GRAYSCALE_1BPP){const b=h.byteLength,v=new Uint32Array(u.buffer,0,u.byteLength>>2),E=v.length,x=n+7>>3,C=4294967295,S=Ve.isLittleEndian?4278190080:255;for(f=0;f<a;f++){for(g=f<r?We:s,d=0,p=0;p<g;p++){const k=b-l;let L=0;const T=k>x?n:k*8-7,M=T&-8;let _=0,I=0;for(;L<M;L+=8)I=h[l++],v[d++]=I&128?C:S,v[d++]=I&64?C:S,v[d++]=I&32?C:S,v[d++]=I&16?C:S,v[d++]=I&8?C:S,v[d++]=I&4?C:S,v[d++]=I&2?C:S,v[d++]=I&1?C:S;for(;L<T;L++)_===0&&(I=h[l++],_=128),v[d++]=I&_?C:S,_>>=1}for(;d<E;)v[d++]=0;i.putImageData(o,0,f*We)}}else if(t.kind===Xd.RGBA_32BPP){for(p=0,m=n*We*4,f=0;f<r;f++)u.set(h.subarray(l,l+m)),l+=m,i.putImageData(o,0,p),p+=We;f<a&&(m=n*s*4,u.set(h.subarray(l,l+m)),i.putImageData(o,0,p))}else if(t.kind===Xd.RGB_24BPP)for(g=We,m=n*g,f=0;f<a;f++){for(f>=r&&(g=s,m=n*g),d=0,p=m;p--;)u[d++]=h[l++],u[d++]=h[l++],u[d++]=h[l++],u[d++]=255;i.putImageData(o,0,f*We)}else throw new Error(`bad image kind: ${t.kind}`)}function wv(i,t){if(t.bitmap){i.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,s=e%We,r=(e-s)/We,a=s===0?r:r+1,o=i.createImageData(n,We);let l=0;const d=t.data,h=o.data;for(let u=0;u<a;u++){const f=u<r?We:s;({srcPos:l}=b1({src:d,srcPos:l,dest:h,width:n,height:f,nonBlackColor:0})),i.putImageData(o,0,u*We)}}function el(i,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)i[n]!==void 0&&(t[n]=i[n]);i.setLineDash!==void 0&&(t.setLineDash(i.getLineDash()),t.lineDashOffset=i.lineDashOffset)}function jd(i){if(i.strokeStyle=i.fillStyle="#000000",i.fillRule="nonzero",i.globalAlpha=1,i.lineWidth=1,i.lineCap="butt",i.lineJoin="miter",i.miterLimit=10,i.globalCompositeOperation="source-over",i.font="10px sans-serif",i.setLineDash!==void 0&&(i.setLineDash([]),i.lineDashOffset=0),!Le){const{filter:t}=i;t!=="none"&&t!==""&&(i.filter="none")}}function Av(i,t){if(t)return!0;const e=nt.singularValueDecompose2dScale(i);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*Vi.PDF_TO_CSS_UNITS);return e[0]<=n&&e[1]<=n}const x1=["butt","round","square"],S1=["miter","round","bevel"],C1={},Ev={};var Gi,dp,hp;const $g=class $g{constructor(t,e,n,s,r,{optionalContentConfig:a,markedContentStack:o=null},l,d){A(this,Gi);this.ctx=t,this.current=new bv(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=s,this.filterFactory=r,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new A1(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:s=null}){const r=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,r,a),this.ctx.fillStyle=o,n){const l=this.cachedCanvases.getCanvas("transparent",r,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Gt(this.compositeCtx))}this.ctx.save(),jd(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Gt(this.ctx)}executeOperatorList(t,e,n,s){const r=t.argsArray,a=t.fnArray;let o=e||0;const l=r.length;if(l===o)return o;const d=l-o>mv&&typeof n=="function",h=d?Date.now()+y1:0;let u=0;const f=this.commonObjs,p=this.objs;let g;for(;;){if(s!==void 0&&o===s.nextBreakPoint)return s.breakIt(o,n),o;if(g=a[o],g!==_n.dependency)this[g].apply(this,r[o]);else for(const m of r[o]){const b=m.startsWith("g_")?f:p;if(!b.has(m))return b.get(m,n),o}if(o++,o===l)return o;if(d&&++u>mv){if(Date.now()>h)return n(),o;u=0}}}endDrawing(){w(this,Gi,dp).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),w(this,Gi,hp).call(this)}_scaleImage(t,e){const n=t.width,s=t.height;let r=Math.max(Math.hypot(e[0],e[1]),1),a=Math.max(Math.hypot(e[2],e[3]),1),o=n,l=s,d="prescale1",h,u;for(;r>2&&o>1||a>2&&l>1;){let f=o,p=l;r>2&&o>1&&(f=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),r/=o/f),a>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/p),h=this.cachedCanvases.getCanvas(d,f,p),u=h.context,u.clearRect(0,0,f,p),u.drawImage(t,0,0,o,l,0,0,f,p),t=h.canvas,o=f,l=p,d=d==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:o,paintHeight:l}}_createMaskCanvas(t){const e=this.ctx,{width:n,height:s}=t,r=this.current.fillColor,a=this.current.patternFill,o=Gt(e);let l,d,h,u;if((t.bitmap||t.data)&&t.count>1){const T=t.bitmap||t.data.buffer;d=JSON.stringify(a?o:[o.slice(0,4),r]),l=this._cachedBitmapsMap.get(T),l||(l=new Map,this._cachedBitmapsMap.set(T,l));const M=l.get(d);if(M&&!a){const _=Math.round(Math.min(o[0],o[2])+o[4]),I=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:M,offsetX:_,offsetY:I}}h=M}h||(u=this.cachedCanvases.getCanvas("maskCanvas",n,s),wv(u.context,t));let f=nt.transform(o,[1/n,0,0,-1/s,0,0]);f=nt.transform(f,[1,0,0,1,0,-s]);const[p,g,m,b]=nt.getAxialAlignedBoundingBox([0,0,n,s],f),v=Math.round(m-p)||1,E=Math.round(b-g)||1,x=this.cachedCanvases.getCanvas("fillCanvas",v,E),C=x.context,S=p,k=g;C.translate(-S,-k),C.transform(...f),h||(h=this._scaleImage(u.canvas,ws(C)),h=h.img,l&&a&&l.set(d,h)),C.imageSmoothingEnabled=Av(Gt(C),t.interpolate),zd(C,h,0,0,h.width,h.height,0,0,n,s),C.globalCompositeOperation="source-in";const L=nt.transform(ws(C),[1,0,0,1,-S,-k]);return C.fillStyle=a?r.getPattern(e,this,L,Fe.FILL):r,C.fillRect(0,0,n,s),l&&!a&&(this.cachedCanvases.delete("fillCanvas"),l.set(d,x.canvas)),{canvas:x.canvas,offsetX:Math.round(S),offsetY:Math.round(k)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=x1[t]}setLineJoin(t){this.ctx.lineJoin=S1[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(t),n.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,n]of t)switch(e){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(n,t,e);this.suspendedCtx=this.ctx,this.ctx=s.context;const r=this.ctx;r.setTransform(...Gt(this.suspendedCtx)),el(this.suspendedCtx,r),w1(r,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),el(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,s){const r=s[0],a=s[1],o=s[2]-r,l=s[3]-a;o===0||l===0||(this.genericComposeSMask(e.context,n,o,l,e.subtype,e.backdrop,e.transferMap,r,a,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,s,r,a,o,l,d,h,u){let f=t.canvas,p=l-h,g=d-u;if(a){if(p<0||g<0||p+n>f.width||g+s>f.height){const b=this.cachedCanvases.getCanvas("maskExtension",n,s),v=b.context;v.drawImage(f,-p,-g),a.some(E=>E!==0)&&(v.globalCompositeOperation="destination-atop",v.fillStyle=nt.makeHexColor(...a),v.fillRect(0,0,n,s),v.globalCompositeOperation="source-over"),f=b.canvas,p=g=0}else if(a.some(b=>b!==0)){t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const b=new Path2D;b.rect(p,g,n,s),t.clip(b),t.globalCompositeOperation="destination-atop",t.fillStyle=nt.makeHexColor(...a),t.fillRect(p,g,n,s),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),r==="Alpha"&&o?e.filter=this.filterFactory.addAlphaFilter(o):r==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(o));const m=new Path2D;m.rect(l,d,n,s),e.clip(m),e.globalCompositeOperation="destination-in",e.drawImage(f,p,g,n,s,l,d,n,s),e.restore()}save(){this.inSMaskMode?(el(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),el(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,n,s,r,a){this.ctx.transform(t,e,n,s,r,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n){const s=this.ctx,r=this.current;let a=r.x,o=r.y,l,d;const h=Gt(s),u=h[0]===0&&h[3]===0||h[1]===0&&h[2]===0,f=u?n.slice(0):null;for(let p=0,g=0,m=t.length;p<m;p++)switch(t[p]|0){case _n.rectangle:a=e[g++],o=e[g++];const b=e[g++],v=e[g++],E=a+b,x=o+v;s.moveTo(a,o),b===0||v===0?s.lineTo(E,x):(s.lineTo(E,o),s.lineTo(E,x),s.lineTo(a,x)),u||r.updateRectMinMax(h,[a,o,E,x]),s.closePath();break;case _n.moveTo:a=e[g++],o=e[g++],s.moveTo(a,o),u||r.updatePathMinMax(h,a,o);break;case _n.lineTo:a=e[g++],o=e[g++],s.lineTo(a,o),u||r.updatePathMinMax(h,a,o);break;case _n.curveTo:l=a,d=o,a=e[g+4],o=e[g+5],s.bezierCurveTo(e[g],e[g+1],e[g+2],e[g+3],a,o),r.updateCurvePathMinMax(h,l,d,e[g],e[g+1],e[g+2],e[g+3],a,o,f),g+=6;break;case _n.curveTo2:l=a,d=o,s.bezierCurveTo(a,o,e[g],e[g+1],e[g+2],e[g+3]),r.updateCurvePathMinMax(h,l,d,a,o,e[g],e[g+1],e[g+2],e[g+3],f),a=e[g+2],o=e[g+3],g+=4;break;case _n.curveTo3:l=a,d=o,a=e[g+2],o=e[g+3],s.bezierCurveTo(e[g],e[g+1],a,o,a,o),r.updateCurvePathMinMax(h,l,d,e[g],e[g+1],a,o,a,o,f),g+=4;break;case _n.closePath:s.closePath();break}u&&r.updateScalingPathMinMax(h,f),r.setCurrentPoint(a,o)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,n=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(e.save(),e.strokeStyle=n.getPattern(e,this,ws(e),Fe.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,n=this.current.fillColor,s=this.current.patternFill;let r=!1;s&&(e.save(),e.fillStyle=n.getPattern(e,this,ws(e),Fe.FILL),r=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),r&&e.restore(),t&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=C1}eoClip(){this.pendingClip=Ev}beginText(){this.current.textMatrix=Dy,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(const n of t)e.setTransform(...n.transform),e.translate(n.x,n.y),n.addToPath(e,n.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var h;const n=this.commonObjs.get(t),s=this.current;if(!n)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=n.fontMatrix||Of,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&yt("Invalid font matrix for font "+t),e<0?(e=-e,s.fontDirection=-1):s.fontDirection=1,this.current.font=n,this.current.fontSize=e,n.isType3Font)return;const r=n.loadedName||"sans-serif",a=((h=n.systemFontInfo)==null?void 0:h.css)||`"${r}", ${n.fallbackName}`;let o="normal";n.black?o="900":n.bold&&(o="bold");const l=n.italic?"italic":"normal";let d=e;e<pv?d=pv:e>gv&&(d=gv),this.current.fontSizeScale=e/d,this.ctx.font=`${l} ${o} ${d}px ${a}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,n,s,r,a){this.current.textMatrix=[t,e,n,s,r,a],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,n,s){const r=this.ctx,a=this.current,o=a.font,l=a.textRenderingMode,d=a.fontSize/a.fontSizeScale,h=l&Ce.FILL_STROKE_MASK,u=!!(l&Ce.ADD_TO_PATH_FLAG),f=a.patternFill&&!o.missingFile;let p;(o.disableFontFace||u||f)&&(p=o.getPathGenerator(this.commonObjs,t)),o.disableFontFace||f?(r.save(),r.translate(e,n),r.beginPath(),p(r,d),s&&r.setTransform(...s),(h===Ce.FILL||h===Ce.FILL_STROKE)&&r.fill(),(h===Ce.STROKE||h===Ce.FILL_STROKE)&&r.stroke(),r.restore()):((h===Ce.FILL||h===Ce.FILL_STROKE)&&r.fillText(t,e,n),(h===Ce.STROKE||h===Ce.FILL_STROKE)&&r.strokeText(t,e,n)),u&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Gt(r),x:e,y:n,fontSize:d,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let s=3;s<e.length;s+=4)if(e[s]>0&&e[s]<255){n=!0;break}return Pt(this,"isFontSubpixelAAEnabled",n)}showText(t){const e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);const s=e.fontSize;if(s===0)return;const r=this.ctx,a=e.fontSizeScale,o=e.charSpacing,l=e.wordSpacing,d=e.fontDirection,h=e.textHScale*d,u=t.length,f=n.vertical,p=f?1:-1,g=n.defaultVMetrics,m=s*e.fontMatrix[0],b=e.textRenderingMode===Ce.FILL&&!n.disableFontFace&&!e.patternFill;r.save(),r.transform(...e.textMatrix),r.translate(e.x,e.y+e.textRise),d>0?r.scale(h,-1):r.scale(h,1);let v;if(e.patternFill){r.save();const k=e.fillColor.getPattern(r,this,ws(r),Fe.FILL);v=Gt(r),r.restore(),r.fillStyle=k}let E=e.lineWidth;const x=e.textMatrixScale;if(x===0||E===0){const k=e.textRenderingMode&Ce.FILL_STROKE_MASK;(k===Ce.STROKE||k===Ce.FILL_STROKE)&&(E=this.getSinglePixelWidth())}else E/=x;if(a!==1&&(r.scale(a,a),E/=a),r.lineWidth=E,n.isInvalidPDFjsFont){const k=[];let L=0;for(const T of t)k.push(T.unicode),L+=T.width;r.fillText(k.join(""),0,0),e.x+=L*m*h,r.restore(),this.compose();return}let C=0,S;for(S=0;S<u;++S){const k=t[S];if(typeof k=="number"){C+=p*k*s/1e3;continue}let L=!1;const T=(k.isSpace?l:0)+o,M=k.fontChar,_=k.accent;let I,F,H=k.width;if(f){const W=k.vmetric||g,$=-(k.vmetric?W[1]:H*.5)*m,N=W[2]*m;H=W?-W[0]:H,I=$/a,F=(C+N)/a}else I=C/a,F=0;if(n.remeasure&&H>0){const W=r.measureText(M).width*1e3/s*a;if(H<W&&this.isFontSubpixelAAEnabled){const $=H/W;L=!0,r.save(),r.scale($,1),I/=$}else H!==W&&(I+=(H-W)/2e3*s/a)}if(this.contentVisible&&(k.isInFont||n.missingFile)){if(b&&!_)r.fillText(M,I,F);else if(this.paintChar(M,I,F,v),_){const W=I+s*_.offset.x/a,$=F-s*_.offset.y/a;this.paintChar(_.fontChar,W,$,v)}}const B=f?H*m-T*d:H*m+T*d;C+=B,L&&r.restore()}f?e.y-=C:e.x+=C*h,r.restore(),this.compose()}showType3Text(t){const e=this.ctx,n=this.current,s=n.font,r=n.fontSize,a=n.fontDirection,o=s.vertical?1:-1,l=n.charSpacing,d=n.wordSpacing,h=n.textHScale*a,u=n.fontMatrix||Of,f=t.length,p=n.textRenderingMode===Ce.INVISIBLE;let g,m,b,v;if(!(p||r===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...n.textMatrix),e.translate(n.x,n.y),e.scale(h,a),g=0;g<f;++g){if(m=t[g],typeof m=="number"){v=o*m*r/1e3,this.ctx.translate(v,0),n.x+=v*h;continue}const E=(m.isSpace?d:0)+l,x=s.charProcOperatorList[m.operatorListId];if(!x){yt(`Type3 character "${m.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=m,this.save(),e.scale(r,r),e.transform(...u),this.executeOperatorList(x),this.restore()),b=nt.applyTransform([m.width,0],u)[0]*r+E,e.translate(b,0),n.x+=b*h}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,n,s,r,a){this.ctx.rect(n,s,r-n,a-s),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const n=t[1],s=this.baseTransform||Gt(this.ctx),r={createCanvasGraphics:a=>new $g(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new cp(t,n,this.ctx,r,s)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,n){const s=nt.makeHexColor(t,e,n);this.ctx.strokeStyle=s,this.current.strokeColor=s}setFillRGBColor(t,e,n){const s=nt.makeHexColor(t,e,n);this.ctx.fillStyle=s,this.current.fillColor=s,this.current.patternFill=!1}_getPattern(t,e=null){let n;return this.cachedPatterns.has(t)?n=this.cachedPatterns.get(t):(n=v1(this.getObject(t)),this.cachedPatterns.set(t,n)),e&&(n.matrix=e),n}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,ws(e),Fe.SHADING);const s=ws(e);if(s){const{width:r,height:a}=e.canvas,[o,l,d,h]=nt.getAxialAlignedBoundingBox([0,0,r,a],s);this.ctx.fillRect(o,l,d-o,h-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Ht("Should not call beginInlineImage")}beginImageData(){Ht("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Gt(this.ctx),e)){const n=e[2]-e[0],s=e[3]-e[1];this.ctx.rect(e[0],e[1],n,s),this.current.updateRectMinMax(Gt(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||yu("TODO: Support non-isolated groups."),t.knockout&&yt("Knockout groups not supported.");const n=Gt(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=nt.getAxialAlignedBoundingBox(t.bbox,Gt(e));const r=[0,0,e.canvas.width,e.canvas.height];s=nt.intersect(s,r)||[0,0,0,0];const a=Math.floor(s[0]),o=Math.floor(s[1]),l=Math.max(Math.ceil(s[2])-a,1),d=Math.max(Math.ceil(s[3])-o,1);this.current.startNewPathAndClipBox([0,0,l,d]);let h="groupAt"+this.groupLevel;t.smask&&(h+="_smask_"+this.smaskCounter++%2);const u=this.cachedCanvases.getCanvas(h,l,d),f=u.context;f.translate(-a,-o),f.transform(...n),t.smask?this.smaskStack.push({canvas:u.canvas,context:f,offsetX:a,offsetY:o,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(a,o),e.save()),el(e,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=Gt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const r=nt.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],s);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(r)}}beginAnnotation(t,e,n,s,r){if(w(this,Gi,dp).call(this),jd(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const a=e[2]-e[0],o=e[3]-e[1];if(r&&this.annotationCanvasMap){n=n.slice(),n[4]-=e[0],n[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=a,e[3]=o;const[l,d]=nt.singularValueDecompose2dScale(Gt(this.ctx)),{viewportScale:h}=this,u=Math.ceil(a*this.outputScaleX*h),f=Math.ceil(o*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(u,f);const{canvas:p,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(t,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(l,0,0,-d,0,o*d),jd(this.ctx)}else jd(this.ctx),this.ctx.rect(e[0],e[1],a,o),this.ctx.clip(),this.endPath()}this.current=new bv(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),w(this,Gi,hp).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const n=this.ctx,s=this.processingType3;if(s&&(s.compiled===void 0&&(s.compiled=E1(t)),s.compiled)){s.compiled(n);return}const r=this._createMaskCanvas(t),a=r.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(a,r.offsetX,r.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n=0,s=0,r,a){if(!this.contentVisible)return;t=this.getObject(t.data,t);const o=this.ctx;o.save();const l=Gt(o);o.transform(e,n,s,r,0,0);const d=this._createMaskCanvas(t);o.setTransform(1,0,0,1,d.offsetX-l[4],d.offsetY-l[5]);for(let h=0,u=a.length;h<u;h+=2){const f=nt.transform(l,[e,n,s,r,a[h],a[h+1]]),[p,g]=nt.applyTransform([0,0],f);o.drawImage(d.canvas,p,g)}o.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,n=this.current.fillColor,s=this.current.patternFill;for(const r of t){const{data:a,width:o,height:l,transform:d}=r,h=this.cachedCanvases.getCanvas("maskCanvas",o,l),u=h.context;u.save();const f=this.getObject(a,r);wv(u,f),u.globalCompositeOperation="source-in",u.fillStyle=s?n.getPattern(u,this,ws(e),Fe.FILL):n,u.fillRect(0,0,o,l),u.restore(),e.save(),e.transform(...d),e.scale(1,-1),zd(e,h.canvas,0,0,o,l,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){yt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,n,s){if(!this.contentVisible)return;const r=this.getObject(t);if(!r){yt("Dependent image isn't ready yet");return}const a=r.width,o=r.height,l=[];for(let d=0,h=s.length;d<h;d+=2)l.push({transform:[e,0,0,n,s[d],s[d+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(r,l)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:s}=t,r=this.cachedCanvases.getCanvas("inlineImage",n,s),a=r.context;return a.filter=this.current.transferMaps,a.drawImage(e,0,0),a.filter="none",r.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,n=t.height,s=this.ctx;if(this.save(),!Le){const{filter:o}=s;o!=="none"&&o!==""&&(s.filter="none")}s.scale(1/e,-1/n);let r;if(t.bitmap)r=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)r=t;else{const l=this.cachedCanvases.getCanvas("inlineImage",e,n).context;yv(l,t),r=this.applyTransferMapsToCanvas(l)}const a=this._scaleImage(r,ws(s));s.imageSmoothingEnabled=Av(Gt(s),t.interpolate),zd(s,a.img,0,0,a.paintWidth,a.paintHeight,0,-n,e,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const r=t.width,a=t.height,l=this.cachedCanvases.getCanvas("inlineImage",r,a).context;yv(l,t),s=this.applyTransferMapsToCanvas(l)}for(const r of e)n.save(),n.transform(...r.transform),n.scale(1,-1),zd(n,s,r.x,r.y,r.w,r.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const n=this.ctx;this.pendingClip&&(e||(this.pendingClip===Ev?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Gt(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),s=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,s)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:s,d:r}=this.ctx.getTransform();let a,o;if(n===0&&s===0){const l=Math.abs(e),d=Math.abs(r);if(l===d)if(t===0)a=o=1/l;else{const h=l*t;a=o=h<1?1/h:1}else if(t===0)a=1/l,o=1/d;else{const h=l*t,u=d*t;a=h<1?1/h:1,o=u<1?1/u:1}}else{const l=Math.abs(e*r-n*s),d=Math.hypot(e,n),h=Math.hypot(s,r);if(t===0)a=h/l,o=d/l;else{const u=t*l;a=h>u?h/u:1,o=d>u?d/u:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:n}=this.current,[s,r]=this.getScaleForStroking();if(e.lineWidth=n||1,s===1&&r===1){e.stroke();return}const a=e.getLineDash();if(t&&e.save(),e.scale(s,r),a.length>0){const o=Math.max(s,r);e.setLineDash(a.map(l=>l/o)),e.lineDashOffset/=o}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};Gi=new WeakSet,dp=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},hp=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}};let Na=$g;for(const i in _n)Na.prototype[i]!==void 0&&(Na.prototype[_n[i]]=Na.prototype[i]);var cc,dc;class Ks{static get workerPort(){return c(this,cc)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");y(this,cc,t)}static get workerSrc(){return c(this,dc)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");y(this,dc,t)}}cc=new WeakMap,dc=new WeakMap,A(Ks,cc,null),A(Ks,dc,"");const $d={DATA:1,ERROR:2},ee={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Ke(i){switch(i instanceof Error||typeof i=="object"&&i!==null||Ht('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),i.name){case"AbortException":return new va(i.message);case"MissingPDFException":return new ma(i.message);case"PasswordException":return new Ff(i.message,i.code);case"UnexpectedResponseException":return new wu(i.message,i.status);case"UnknownErrorException":return new Hf(i.message,i.details);default:return new Hf(i.message,i.toString())}}var hs,vw,bw,th;class hl{constructor(t,e,n){A(this,hs);this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=s=>{const r=s.data;if(r.targetName!==this.sourceName)return;if(r.stream){w(this,hs,bw).call(this,r);return}if(r.callback){const o=r.callbackId,l=this.callbackCapabilities[o];if(!l)throw new Error(`Cannot resolve callback ${o}`);if(delete this.callbackCapabilities[o],r.callback===$d.DATA)l.resolve(r.data);else if(r.callback===$d.ERROR)l.reject(Ke(r.reason));else throw new Error("Unexpected callback case");return}const a=this.actionHandler[r.action];if(!a)throw new Error(`Unknown action from worker: ${r.action}`);if(r.callbackId){const o=this.sourceName,l=r.sourceName;new Promise(function(d){d(a(r.data))}).then(function(d){n.postMessage({sourceName:o,targetName:l,callback:$d.DATA,callbackId:r.callbackId,data:d})},function(d){n.postMessage({sourceName:o,targetName:l,callback:$d.ERROR,callbackId:r.callbackId,reason:Ke(d)})});return}if(r.streamId){w(this,hs,vw).call(this,r);return}a(r.data)},n.addEventListener("message",this._onComObjOnMessage)}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const s=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[s]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:s,data:e},n)}catch(a){r.reject(a)}return r.promise}sendWithStream(t,e,n,s){const r=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:d=>{const h=Promise.withResolvers();return this.streamControllers[r]={controller:d,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:t,streamId:r,data:e,desiredSize:d.desiredSize},s),h.promise},pull:d=>{const h=Promise.withResolvers();return this.streamControllers[r].pullCall=h,l.postMessage({sourceName:a,targetName:o,stream:ee.PULL,streamId:r,desiredSize:d.desiredSize}),h.promise},cancel:d=>{he(d instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[r].cancelCall=h,this.streamControllers[r].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:ee.CANCEL,streamId:r,reason:Ke(d)}),h.promise}},n)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}hs=new WeakSet,vw=function(t){const e=t.streamId,n=this.sourceName,s=t.sourceName,r=this.comObj,a=this,o=this.actionHandler[t.action],l={enqueue(d,h=1,u){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=h,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:n,targetName:s,stream:ee.ENQUEUE,streamId:e,chunk:d},u)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:s,stream:ee.CLOSE,streamId:e}),delete a.streamSinks[e])},error(d){he(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:s,stream:ee.ERROR,streamId:e,reason:Ke(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[e]=l,new Promise(function(d){d(o(t.data,l))}).then(function(){r.postMessage({sourceName:n,targetName:s,stream:ee.START_COMPLETE,streamId:e,success:!0})},function(d){r.postMessage({sourceName:n,targetName:s,stream:ee.START_COMPLETE,streamId:e,reason:Ke(d)})})},bw=function(t){const e=t.streamId,n=this.sourceName,s=t.sourceName,r=this.comObj,a=this.streamControllers[e],o=this.streamSinks[e];switch(t.stream){case ee.START_COMPLETE:t.success?a.startCall.resolve():a.startCall.reject(Ke(t.reason));break;case ee.PULL_COMPLETE:t.success?a.pullCall.resolve():a.pullCall.reject(Ke(t.reason));break;case ee.PULL:if(!o){r.postMessage({sourceName:n,targetName:s,stream:ee.PULL_COMPLETE,streamId:e,success:!0});break}o.desiredSize<=0&&t.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=t.desiredSize,new Promise(function(l){var d;l((d=o.onPull)==null?void 0:d.call(o))}).then(function(){r.postMessage({sourceName:n,targetName:s,stream:ee.PULL_COMPLETE,streamId:e,success:!0})},function(l){r.postMessage({sourceName:n,targetName:s,stream:ee.PULL_COMPLETE,streamId:e,reason:Ke(l)})});break;case ee.ENQUEUE:if(he(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(t.chunk);break;case ee.CLOSE:if(he(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),w(this,hs,th).call(this,a,e);break;case ee.ERROR:he(a,"error should have stream controller"),a.controller.error(Ke(t.reason)),w(this,hs,th).call(this,a,e);break;case ee.CANCEL_COMPLETE:t.success?a.cancelCall.resolve():a.cancelCall.reject(Ke(t.reason)),w(this,hs,th).call(this,a,e);break;case ee.CANCEL:if(!o)break;new Promise(function(l){var d;l((d=o.onCancel)==null?void 0:d.call(o,Ke(t.reason)))}).then(function(){r.postMessage({sourceName:n,targetName:s,stream:ee.CANCEL_COMPLETE,streamId:e,success:!0})},function(l){r.postMessage({sourceName:n,targetName:s,stream:ee.CANCEL_COMPLETE,streamId:e,reason:Ke(l)})}),o.sinkCapability.reject(Ke(t.reason)),o.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},th=async function(t,e){var n,s,r;await Promise.allSettled([(n=t.startCall)==null?void 0:n.promise,(s=t.pullCall)==null?void 0:s.promise,(r=t.cancelCall)==null?void 0:r.promise]),delete this.streamControllers[e]};var Rr,hc;class _1{constructor({parsedData:t,rawData:e}){A(this,Rr);A(this,hc);y(this,Rr,t),y(this,hc,e)}getRaw(){return c(this,hc)}get(t){return c(this,Rr).get(t)??null}getAll(){return Pg(c(this,Rr))}has(t){return c(this,Rr).has(t)}}Rr=new WeakMap,hc=new WeakMap;const gi=Symbol("INTERNAL");var uc,fc,pc,Za;class k1{constructor(t,{name:e,intent:n,usage:s}){A(this,uc,!1);A(this,fc,!1);A(this,pc,!1);A(this,Za,!0);y(this,uc,!!(t&wn.DISPLAY)),y(this,fc,!!(t&wn.PRINT)),this.name=e,this.intent=n,this.usage=s}get visible(){if(c(this,pc))return c(this,Za);if(!c(this,Za))return!1;const{print:t,view:e}=this.usage;return c(this,uc)?(e==null?void 0:e.viewState)!=="OFF":c(this,fc)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,n=!1){t!==gi&&Ht("Internal method `_setVisible` called."),y(this,pc,n),y(this,Za,e)}}uc=new WeakMap,fc=new WeakMap,pc=new WeakMap,Za=new WeakMap;var Si,Ft,to,eo,gc,up;class R1{constructor(t,e=wn.DISPLAY){A(this,gc);A(this,Si,null);A(this,Ft,new Map);A(this,to,null);A(this,eo,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,y(this,eo,t.order);for(const n of t.groups)c(this,Ft).set(n.id,new k1(e,n));if(t.baseState==="OFF")for(const n of c(this,Ft).values())n._setVisible(gi,!1);for(const n of t.on)c(this,Ft).get(n)._setVisible(gi,!0);for(const n of t.off)c(this,Ft).get(n)._setVisible(gi,!1);y(this,to,this.getHash())}}isVisible(t){if(c(this,Ft).size===0)return!0;if(!t)return yu("Optional content group not defined."),!0;if(t.type==="OCG")return c(this,Ft).has(t.id)?c(this,Ft).get(t.id).visible:(yt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return w(this,gc,up).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!c(this,Ft).has(e))return yt(`Optional content group not found: ${e}`),!0;if(c(this,Ft).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!c(this,Ft).has(e))return yt(`Optional content group not found: ${e}`),!0;if(!c(this,Ft).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!c(this,Ft).has(e))return yt(`Optional content group not found: ${e}`),!0;if(!c(this,Ft).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!c(this,Ft).has(e))return yt(`Optional content group not found: ${e}`),!0;if(c(this,Ft).get(e).visible)return!1}return!0}return yt(`Unknown optional content policy ${t.policy}.`),!0}return yt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0){const n=c(this,Ft).get(t);if(!n){yt(`Optional content group not found: ${t}`);return}n._setVisible(gi,!!e,!0),y(this,Si,null)}setOCGState({state:t,preserveRB:e}){let n;for(const s of t){switch(s){case"ON":case"OFF":case"Toggle":n=s;continue}const r=c(this,Ft).get(s);if(r)switch(n){case"ON":r._setVisible(gi,!0);break;case"OFF":r._setVisible(gi,!1);break;case"Toggle":r._setVisible(gi,!r.visible);break}}y(this,Si,null)}get hasInitialVisibility(){return c(this,to)===null||this.getHash()===c(this,to)}getOrder(){return c(this,Ft).size?c(this,eo)?c(this,eo).slice():[...c(this,Ft).keys()]:null}getGroups(){return c(this,Ft).size>0?Pg(c(this,Ft)):null}getGroup(t){return c(this,Ft).get(t)||null}getHash(){if(c(this,Si)!==null)return c(this,Si);const t=new fw;for(const[e,n]of c(this,Ft))t.update(`${e}:${n.visible}`);return y(this,Si,t.hexdigest())}}Si=new WeakMap,Ft=new WeakMap,to=new WeakMap,eo=new WeakMap,gc=new WeakSet,up=function(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let s=1;s<e;s++){const r=t[s];let a;if(Array.isArray(r))a=w(this,gc,up).call(this,r);else if(c(this,Ft).has(r))a=c(this,Ft).get(r).visible;else return yt(`Optional content group not found: ${r}`),!0;switch(n){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return n==="And"};class P1{constructor(t,{disableRange:e=!1,disableStream:n=!1}){he(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:r,progressiveDone:a,contentDispositionFilename:o}=t;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(r==null?void 0:r.length)>0){const l=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((l,d)=>{this._onReceiveData({begin:l,chunk:d})}),t.addProgressListener((l,d)=>{this._onProgress({loaded:l,total:d})}),t.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const s=this._rangeReaders.some(function(r){return r._begin!==t?!1:(r._enqueue(n),!0)});he(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,n,s,r;t.total===void 0?(n=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||n.call(e,{loaded:t.loaded}):(r=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||r.call(s,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){he(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new T1(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new L1(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeReaders.slice(0))n.cancel(t);this._pdfDataRangeTransport.abort()}}class T1{constructor(t,e,n=!1,s=null){this._stream=t,this._done=n||!1,this._filename=Dg(s)?s:null,this._queuedChunks=e||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class L1{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function M1(i){let t=!0,e=n("filename\\*","i").exec(i);if(e){e=e[1];let h=o(e);return h=unescape(h),h=l(h),h=d(h),r(h)}if(e=a(i),e){const h=d(e);return r(h)}if(e=n("filename","i").exec(i),e){e=e[1];let h=o(e);return h=d(h),r(h)}function n(h,u){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',u)}function s(h,u){if(h){if(!/^[\x00-\xFF]+$/.test(u))return u;try{const f=new TextDecoder(h,{fatal:!0}),p=Au(u);u=f.decode(p),t=!1}catch{}}return u}function r(h){return t&&/[\x80-\xff]/.test(h)&&(h=s("utf-8",h),t&&(h=s("iso-8859-1",h))),h}function a(h){const u=[];let f;const p=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(h))!==null;){let[,m,b,v]=f;if(m=parseInt(m,10),m in u){if(m===0)break;continue}u[m]=[b,v]}const g=[];for(let m=0;m<u.length&&m in u;++m){let[b,v]=u[m];v=o(v),b&&(v=unescape(v),m===0&&(v=l(v))),g.push(v)}return g.join("")}function o(h){if(h.startsWith('"')){const u=h.slice(1).split('\\"');for(let f=0;f<u.length;++f){const p=u[f].indexOf('"');p!==-1&&(u[f]=u[f].slice(0,p),u.length=f+1),u[f]=u[f].replaceAll(/\\(.)/g,"$1")}h=u.join('"')}return h}function l(h){const u=h.indexOf("'");if(u===-1)return h;const f=h.slice(0,u),g=h.slice(u+1).replace(/^[^']*'/,"");return s(f,g)}function d(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(u,f,p,g){if(p==="q"||p==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(m,b){return String.fromCharCode(parseInt(b,16))}),s(f,g);try{g=atob(g)}catch{}return s(f,g)})}return""}function Fg({getResponseHeader:i,isHttp:t,rangeChunkSize:e,disableRange:n}){const s={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(i("Content-Length"),10);return!Number.isInteger(r)||(s.suggestedLength=r,r<=2*e)||n||!t||i("Accept-Ranges")!=="bytes"||(i("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function Hg(i){const t=i("Content-Disposition");if(t){let e=M1(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Dg(e))return e}return null}function _u(i,t){return i===404||i===0&&t.startsWith("file:")?new ma('Missing PDF "'+t+'".'):new wu(`Unexpected server response (${i}) while retrieving PDF "${t}".`,i)}function yw(i){return i===200||i===206}function ww(i,t,e){return{method:"GET",headers:i,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function Aw(i){const t=new Headers;for(const e in i){const n=i[e];n!==void 0&&t.append(e,n)}return t}function Ew(i){return i instanceof Uint8Array?i.buffer:i instanceof ArrayBuffer?i:(yt(`getArrayBuffer - unexpected data format: ${i}`),new Uint8Array(i).buffer)}class xv{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return he(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new I1(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new D1(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class I1{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._headers=Aw(this._stream.httpHeaders);const n=e.url;fetch(n,ww(this._headers,this._withCredentials,this._abortController)).then(s=>{if(!yw(s.status))throw _u(s.status,n);this._reader=s.body.getReader(),this._headersCapability.resolve();const r=l=>s.headers.get(l),{allowRangeRequests:a,suggestedLength:o}=Fg({getResponseHeader:r,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=o||this._contentLength,this._filename=Hg(r),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new va("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Ew(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class D1{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const s=t.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController,this._headers=Aw(this._stream.httpHeaders),this._headers.append("Range",`bytes=${e}-${n-1}`);const r=s.url;fetch(r,ww(this._headers,this._withCredentials,this._abortController)).then(a=>{if(!yw(a.status))throw _u(a.status,r);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:Ew(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const nf=200,sf=206;function O1(i){const t=i.response;return typeof t!="string"?t:Au(t).buffer}class N1{constructor(t,e={}){this.url=t,this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&e.httpHeaders||Object.create(null),this.withCredentials=e.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,n){const s={begin:t,end:e};for(const r in n)s[r]=n[r];return this.request(s)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,s=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const r in this.httpHeaders){const a=this.httpHeaders[r];a!==void 0&&e.setRequestHeader(r,a)}return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),s.expectedStatus=sf):s.expectedStatus=nf,e.responseType="arraybuffer",t.onError&&(e.onerror=function(r){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),s.onHeadersReceived=t.onHeadersReceived,s.onDone=t.onDone,s.onError=t.onError,s.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){var s;const n=this.pendingRequests[t];n&&((s=n.onProgress)==null||s.call(n,e))}onStateChange(t,e){var l,d,h;const n=this.pendingRequests[t];if(!n)return;const s=n.xhr;if(s.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),s.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],s.status===0&&this.isHttp){(l=n.onError)==null||l.call(n,s.status);return}const r=s.status||nf;if(!(r===nf&&n.expectedStatus===sf)&&r!==n.expectedStatus){(d=n.onError)==null||d.call(n,s.status);return}const o=O1(s);if(r===sf){const u=s.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(u);n.onDone({begin:parseInt(f[1],10),chunk:o})}else o?n.onDone({begin:0,chunk:o}):(h=n.onError)==null||h.call(n,s.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class F1{constructor(t){this._source=t,this._manager=new N1(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return he(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new H1(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new B1(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class H1{constructor(t,e){this._manager=t;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(n),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),n=a=>e.getResponseHeader(a),{allowRangeRequests:s,suggestedLength:r}=Fg({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=r||this._contentLength,this._filename=Hg(n),this._isRangeSupported&&this._manager.abortRequest(t),this._headersReceivedCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=_u(t,this._url),this._headersReceivedCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersReceivedCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class B1{constructor(t,e,n){this._manager=t;const s={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,n,s),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=_u(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const xw=/^file:\/\/\/[a-zA-Z]:\//;function z1(i){const t=ps.get("url"),e=t.parse(i);return e.protocol==="file:"||e.host?e:/^[a-z]:[/\\]/i.test(i)?t.parse(`file:///${i}`):(e.host||(e.protocol="file:"),e)}class j1{constructor(t){this.source=t,this.url=z1(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return he(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new W1(this):new $1(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=this.isFsUrl?new V1(this,t,e):new U1(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class Sw{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new va("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Cw{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function Dh(i,t){return{protocol:i.protocol,auth:i.auth,host:i.hostname,port:i.port,path:i.path,method:"GET",headers:t}}class $1 extends Sw{constructor(t){super(t);const e=n=>{if(n.statusCode===404){const o=new ma(`Missing PDF "${this._url}".`);this._storedError=o,this._headersCapability.reject(o);return}this._headersCapability.resolve(),this._setReadableStream(n);const s=o=>this._readableStream.headers[o.toLowerCase()],{allowRangeRequests:r,suggestedLength:a}=Fg({getResponseHeader:s,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=a||this._contentLength,this._filename=Hg(s)};if(this._request=null,this._url.protocol==="http:"){const n=ps.get("http");this._request=n.request(Dh(this._url,t.httpHeaders),e)}else{const n=ps.get("https");this._request=n.request(Dh(this._url,t.httpHeaders),e)}this._request.on("error",n=>{this._storedError=n,this._headersCapability.reject(n)}),this._request.end()}}class U1 extends Cw{constructor(t,e,n){super(t),this._httpHeaders={};for(const r in t.httpHeaders){const a=t.httpHeaders[r];a!==void 0&&(this._httpHeaders[r]=a)}this._httpHeaders.Range=`bytes=${e}-${n-1}`;const s=r=>{if(r.statusCode===404){const a=new ma(`Missing PDF "${this._url}".`);this._storedError=a;return}this._setReadableStream(r)};if(this._request=null,this._url.protocol==="http:"){const r=ps.get("http");this._request=r.request(Dh(this._url,this._httpHeaders),s)}else{const r=ps.get("https");this._request=r.request(Dh(this._url,this._httpHeaders),s)}this._request.on("error",r=>{this._storedError=r}),this._request.end()}}class W1 extends Sw{constructor(t){super(t);let e=decodeURIComponent(this._url.path);xw.test(this._url.href)&&(e=e.replace(/^\//,""));const n=ps.get("fs");n.promises.lstat(e).then(s=>{this._contentLength=s.size,this._setReadableStream(n.createReadStream(e)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new ma(`Missing PDF "${e}".`)),this._storedError=s,this._headersCapability.reject(s)})}}class V1 extends Cw{constructor(t,e,n){super(t);let s=decodeURIComponent(this._url.path);xw.test(this._url.href)&&(s=s.replace(/^\//,""));const r=ps.get("fs");this._setReadableStream(r.createReadStream(s,{start:e,end:n-1}))}}const q1=1e5,je=30,G1=.8;var Fv,Ci,Ue,mc,vc,Pr,Ds,bc,yc,Tr,no,so,_i,io,wc,ro,Lr,Ac,Ec,de,Mr,Ir,ki,ao,ri,_w,kw,fp,us,eh,Rw,Pw;let Oh=(de=class{constructor({textContentSource:t,container:e,viewport:n}){A(this,ri);A(this,Ci,Promise.withResolvers());A(this,Ue,null);A(this,mc,!1);A(this,vc,!!((Fv=globalThis.FontInspector)!=null&&Fv.enabled));A(this,Pr,null);A(this,Ds,null);A(this,bc,0);A(this,yc,0);A(this,Tr,null);A(this,no,null);A(this,so,0);A(this,_i,0);A(this,io,Object.create(null));A(this,wc,[]);A(this,ro,null);A(this,Lr,[]);A(this,Ac,new WeakMap);A(this,Ec,null);var l;if(t instanceof ReadableStream)y(this,ro,t);else if(typeof t=="object")y(this,ro,new ReadableStream({start(d){d.enqueue(t),d.close()}}));else throw new Error('No "textContentSource" parameter specified.');y(this,Ue,y(this,no,e)),y(this,_i,n.scale*(globalThis.devicePixelRatio||1)),y(this,so,n.rotation),y(this,Ds,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:r,pageX:a,pageY:o}=n.rawDims;y(this,Ec,[1,0,0,-1,-a,o+r]),y(this,yc,s),y(this,bc,r),w(l=de,us,Rw).call(l),da(e,n),c(this,Ci).promise.catch(()=>{}).then(()=>{c(de,ao).delete(this),y(this,Ds,null),y(this,io,null)})}render(){const t=()=>{c(this,Tr).read().then(({value:e,done:n})=>{if(n){c(this,Ci).resolve();return}c(this,Pr)??y(this,Pr,e.lang),Object.assign(c(this,io),e.styles),w(this,ri,_w).call(this,e.items),t()},c(this,Ci).reject)};return y(this,Tr,c(this,ro).getReader()),c(de,ao).add(this),t(),c(this,Ci).promise}update({viewport:t,onBefore:e=null}){var r;const n=t.scale*(globalThis.devicePixelRatio||1),s=t.rotation;if(s!==c(this,so)&&(e==null||e(),y(this,so,s),da(c(this,no),{rotation:s})),n!==c(this,_i)){e==null||e(),y(this,_i,n);const a={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:w(r=de,us,eh).call(r,c(this,Pr))};for(const o of c(this,Lr))a.properties=c(this,Ac).get(o),a.div=o,w(this,ri,fp).call(this,a)}}cancel(){var e;const t=new va("TextLayer task cancelled.");(e=c(this,Tr))==null||e.cancel(t).catch(()=>{}),y(this,Tr,null),c(this,Ci).reject(t)}get textDivs(){return c(this,Lr)}get textContentItemsStr(){return c(this,wc)}static cleanup(){if(!(c(this,ao).size>0)){c(this,Mr).clear();for(const{canvas:t}of c(this,Ir).values())t.remove();c(this,Ir).clear()}}},Ci=new WeakMap,Ue=new WeakMap,mc=new WeakMap,vc=new WeakMap,Pr=new WeakMap,Ds=new WeakMap,bc=new WeakMap,yc=new WeakMap,Tr=new WeakMap,no=new WeakMap,so=new WeakMap,_i=new WeakMap,io=new WeakMap,wc=new WeakMap,ro=new WeakMap,Lr=new WeakMap,Ac=new WeakMap,Ec=new WeakMap,Mr=new WeakMap,Ir=new WeakMap,ki=new WeakMap,ao=new WeakMap,ri=new WeakSet,_w=function(t){var s,r;if(c(this,mc))return;(r=c(this,Ds)).ctx??(r.ctx=w(s=de,us,eh).call(s,c(this,Pr)));const e=c(this,Lr),n=c(this,wc);for(const a of t){if(e.length>q1){yt("Ignoring additional textDivs for performance reasons."),y(this,mc,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=c(this,Ue);y(this,Ue,document.createElement("span")),c(this,Ue).classList.add("markedContent"),a.id!==null&&c(this,Ue).setAttribute("id",`${a.id}`),o.append(c(this,Ue))}else a.type==="endMarkedContent"&&y(this,Ue,c(this,Ue).parentNode);continue}n.push(a.str),w(this,ri,kw).call(this,a)}},kw=function(t){var m;const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};c(this,Lr).push(e);const s=nt.transform(c(this,Ec),t.transform);let r=Math.atan2(s[1],s[0]);const a=c(this,io)[t.fontName];a.vertical&&(r+=Math.PI/2);const o=c(this,vc)&&a.fontSubstitution||a.fontFamily,l=Math.hypot(s[2],s[3]),d=l*w(m=de,us,Pw).call(m,o,c(this,Pr));let h,u;r===0?(h=s[4],u=s[5]-d):(h=s[4]+d*Math.sin(r),u=s[5]-d*Math.cos(r));const f="calc(var(--scale-factor)*",p=e.style;c(this,Ue)===c(this,no)?(p.left=`${(100*h/c(this,yc)).toFixed(2)}%`,p.top=`${(100*u/c(this,bc)).toFixed(2)}%`):(p.left=`${f}${h.toFixed(2)}px)`,p.top=`${f}${u.toFixed(2)}px)`),p.fontSize=`${f}${(c(de,ki)*l).toFixed(2)}px)`,p.fontFamily=o,n.fontSize=l,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,c(this,vc)&&(e.dataset.fontName=a.fontSubstitutionLoadedName||t.fontName),r!==0&&(n.angle=r*(180/Math.PI));let g=!1;if(t.str.length>1)g=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const b=Math.abs(t.transform[0]),v=Math.abs(t.transform[3]);b!==v&&Math.max(b,v)/Math.min(b,v)>1.5&&(g=!0)}if(g&&(n.canvasWidth=a.vertical?t.height:t.width),c(this,Ac).set(e,n),c(this,Ds).div=e,c(this,Ds).properties=n,w(this,ri,fp).call(this,c(this,Ds)),n.hasText&&c(this,Ue).append(e),n.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),c(this,Ue).append(b)}},fp=function(t){const{div:e,properties:n,ctx:s,prevFontSize:r,prevFontFamily:a}=t,{style:o}=e;let l="";if(c(de,ki)>1&&(l=`scale(${1/c(de,ki)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:d}=o,{canvasWidth:h,fontSize:u}=n;(r!==u||a!==d)&&(s.font=`${u*c(this,_i)}px ${d}`,t.prevFontSize=u,t.prevFontFamily=d);const{width:f}=s.measureText(e.textContent);f>0&&(l=`scaleX(${h*c(this,_i)/f}) ${l}`)}n.angle!==0&&(l=`rotate(${n.angle}deg) ${l}`),l.length>0&&(o.transform=l)},us=new WeakSet,eh=function(t=null){let e=c(this,Ir).get(t||(t=""));if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),c(this,Ir).set(t,e)}return e},Rw=function(){if(c(this,ki)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.textContent="X",document.body.append(t),y(this,ki,t.getBoundingClientRect().height),t.remove()},Pw=function(t,e){const n=c(this,Mr).get(t);if(n)return n;const s=w(this,us,eh).call(this,e),r=s.font;s.canvas.width=s.canvas.height=je,s.font=`${je}px ${t}`;const a=s.measureText("");let o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);if(o){const u=o/(o+l);return c(this,Mr).set(t,u),s.canvas.width=s.canvas.height=0,s.font=r,u}s.strokeStyle="red",s.clearRect(0,0,je,je),s.strokeText("g",0,0);let d=s.getImageData(0,0,je,je).data;l=0;for(let u=d.length-1-3;u>=0;u-=4)if(d[u]>0){l=Math.ceil(u/4/je);break}s.clearRect(0,0,je,je),s.strokeText("A",0,je),d=s.getImageData(0,0,je,je).data,o=0;for(let u=0,f=d.length;u<f;u+=4)if(d[u]>0){o=je-Math.floor(u/4/je);break}s.canvas.width=s.canvas.height=0,s.font=r;const h=o?o/(o+l):G1;return c(this,Mr).set(t,h),h},A(de,us),A(de,Mr,new Map),A(de,Ir,new Map),A(de,ki,null),A(de,ao,new Set),de);function X1(){jy("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:i,container:t,viewport:e,...n}=arguments[0],s=Object.keys(n);s.length>0&&yt("Ignoring `renderTextLayer` parameters: "+s.join(", "));const r=new Oh({textContentSource:i,container:t,viewport:e}),{textDivs:a,textContentItemsStr:o}=r;return{promise:r.render(),textDivs:a,textContentItemsStr:o}}function Y1(){jy("`updateTextLayer`, please use `TextLayer` instead.")}class Il{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function s(r){var l;if(!r)return;let a=null;const o=r.name;if(o==="#text")a=r.value;else if(Il.shouldBuildText(o))(l=r==null?void 0:r.attributes)!=null&&l.textContent?a=r.attributes.textContent:r.value&&(a=r.value);else return;if(a!==null&&e.push({str:a}),!!r.children)for(const d of r.children)s(d)}return s(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const K1=65536,Q1=100,J1=5e3,Z1=Le?d1:Qk,tR=Le?h1:By,eR=Le?c1:Kk,nR=Le?u1:zy;function sR(i={}){typeof i=="string"||i instanceof URL?i={url:i}:(i instanceof ArrayBuffer||ArrayBuffer.isView(i))&&(i={data:i});const t=new pp,{docId:e}=t,n=i.url?iR(i.url):null,s=i.data?rR(i.data):null,r=i.httpHeaders||null,a=i.withCredentials===!0,o=i.password??null,l=i.range instanceof Tw?i.range:null,d=Number.isInteger(i.rangeChunkSize)&&i.rangeChunkSize>0?i.rangeChunkSize:K1;let h=i.worker instanceof Fa?i.worker:null;const u=i.verbosity,f=typeof i.docBaseUrl=="string"&&!Ig(i.docBaseUrl)?i.docBaseUrl:null,p=typeof i.cMapUrl=="string"?i.cMapUrl:null,g=i.cMapPacked!==!1,m=i.CMapReaderFactory||tR,b=typeof i.standardFontDataUrl=="string"?i.standardFontDataUrl:null,v=i.StandardFontDataFactory||nR,E=i.stopAtErrors!==!0,x=Number.isInteger(i.maxImageSize)&&i.maxImageSize>-1?i.maxImageSize:-1,C=i.isEvalSupported!==!1,S=typeof i.isOffscreenCanvasSupported=="boolean"?i.isOffscreenCanvasSupported:!Le,k=Number.isInteger(i.canvasMaxAreaInBytes)?i.canvasMaxAreaInBytes:-1,L=typeof i.disableFontFace=="boolean"?i.disableFontFace:Le,T=i.fontExtraProperties===!0,M=i.enableXfa===!0,_=i.ownerDocument||globalThis.document,I=i.disableRange===!0,F=i.disableStream===!0,H=i.disableAutoFetch===!0,B=i.pdfBug===!0,W=i.enableHWA===!0,$=l?l.length:i.length??NaN,N=typeof i.useSystemFonts=="boolean"?i.useSystemFonts:!Le&&!L,O=typeof i.useWorkerFetch=="boolean"?i.useWorkerFetch:m===By&&v===zy&&p&&b&&ll(p,document.baseURI)&&ll(b,document.baseURI),at=i.canvasFactory||new Z1({ownerDocument:_,enableHWA:W}),ot=i.filterFactory||new eR({docId:e,ownerDocument:_}),Ct=null;Bk(u);const vt={canvasFactory:at,filterFactory:ot};if(O||(vt.cMapReaderFactory=new m({baseUrl:p,isCompressed:g}),vt.standardFontDataFactory=new v({baseUrl:b})),!h){const It={verbosity:u,port:Ks.workerPort};h=It.port?Fa.fromPort(It):new Fa(It),t._worker=h}const et={docId:e,apiVersion:"4.4.168",data:s,password:o,disableAutoFetch:H,rangeChunkSize:d,length:$,docBaseUrl:f,enableXfa:M,evaluatorOptions:{maxImageSize:x,disableFontFace:L,ignoreErrors:E,isEvalSupported:C,isOffscreenCanvasSupported:S,canvasMaxAreaInBytes:k,fontExtraProperties:T,useSystemFonts:N,cMapUrl:O?p:null,standardFontDataUrl:O?b:null}},ft={disableFontFace:L,fontExtraProperties:T,ownerDocument:_,pdfBug:B,styleElement:Ct,loadingParams:{disableAutoFetch:H,enableXfa:M}};return h.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const It=h.messageHandler.sendWithPromise("GetDocRequest",et,s?[s.buffer]:null);let Lt;if(l)Lt=new P1(l,{disableRange:I,disableStream:F});else if(!s){if(!n)throw new Error("getDocument - no `url` parameter provided.");Lt=(pt=>Le?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&ll(pt.url)?new xv(pt):new j1(pt):ll(pt.url)?new xv(pt):new F1(pt))({url:n,length:$,httpHeaders:r,withCredentials:a,rangeChunkSize:d,disableRange:I,disableStream:F})}return It.then(Q=>{if(t.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const pt=new hl(e,Q,h.port),Rt=new cR(pt,t,Lt,ft,vt);t._transport=Rt,pt.send("Ready",null)})}).catch(t._capability.reject),t}function iR(i){if(i instanceof URL)return i.href;try{return new URL(i,window.location).href}catch{if(Le&&typeof i=="string")return i}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function rR(i){if(Le&&typeof Buffer<"u"&&i instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength)return i;if(typeof i=="string")return Au(i);if(i instanceof ArrayBuffer||ArrayBuffer.isView(i)||typeof i=="object"&&!isNaN(i==null?void 0:i.length))return new Uint8Array(i);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Sv(i){return typeof i=="object"&&Number.isInteger(i==null?void 0:i.num)&&i.num>=0&&Number.isInteger(i==null?void 0:i.gen)&&i.gen>=0}var Kh;const Qh=class Qh{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Ye(Qh,Kh)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,n;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(s){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,s}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Kh=new WeakMap,A(Qh,Kh,0);let pp=Qh,Tw=class{constructor(t,e,n=!1,s=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const n of this._rangeListeners)n(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){Ht("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class aR{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Pt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Ri,Os,An,_a,nh;class oR{constructor(t,e,n,s=!1){A(this,An);A(this,Ri,null);A(this,Os,!1);this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=s?new dv:null,this._pdfBug=s,this.commonObjs=n.commonObjs,this.objs=new Lw,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:s=0,dontFlip:r=!1}={}){return new md({viewBox:this.view,scale:t,rotation:e,offsetX:n,offsetY:s,dontFlip:r})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Pt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:n="display",annotationMode:s=bi.ENABLE,transform:r=null,background:a=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:d=null,printAnnotationStorage:h=null}){var x,C;(x=this._stats)==null||x.time("Overall");const u=this._transport.getRenderingIntent(n,s,h),{renderingIntent:f,cacheKey:p}=u;y(this,Os,!1),w(this,An,nh).call(this),o||(o=this._transport.getOptionalContentConfig(f));let g=this._intentStates.get(p);g||(g=Object.create(null),this._intentStates.set(p,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const m=!!(f&wn.PRINT);g.displayReadyCapability||(g.displayReadyCapability=Promise.withResolvers(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(C=this._stats)==null||C.time("Page Request"),this._pumpOperatorList(u));const b=S=>{var k;g.renderTasks.delete(v),(this._maybeCleanupAfterRender||m)&&y(this,Os,!0),w(this,An,_a).call(this,!m),S?(v.capability.reject(S),this._abortOperatorList({intentState:g,reason:S instanceof Error?S:new Error(S)})):v.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(k=globalThis.Stats)!=null&&k.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},v=new mp({callback:b,params:{canvasContext:t,viewport:e,transform:r,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!m,pdfBug:this._pdfBug,pageColors:d});(g.renderTasks||(g.renderTasks=new Set)).add(v);const E=v.task;return Promise.all([g.displayReadyCapability.promise,o]).then(([S,k])=>{var L;if(this.destroyed){b();return}if((L=this._stats)==null||L.time("Rendering"),!(k.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");v.initializeGraphics({transparency:S,optionalContentConfig:k}),v.operatorListChanged()}).catch(b),E}getOperatorList({intent:t="display",annotationMode:e=bi.ENABLE,printAnnotationStorage:n=null}={}){var l;function s(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(o))}const r=this._transport.getRenderingIntent(t,e,n,!0);let a=this._intentStates.get(r.cacheKey);a||(a=Object.create(null),this._intentStates.set(r.cacheKey,a));let o;return a.opListReadCapability||(o=Object.create(null),o.operatorListChanged=s,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(o),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(l=this._stats)==null||l.time("Page Request"),this._pumpOperatorList(r)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Il.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,s){function r(){a.read().then(function({value:l,done:d}){if(d){n(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),r()},s)}const a=e.getReader(),o={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),y(this,Os,!1),w(this,An,nh).call(this),Promise.all(t)}cleanup(t=!1){y(this,Os,!0);const e=w(this,An,_a).call(this,!1);return t&&e&&this._stats&&(this._stats=new dv),e}_startRenderPage(t,e){var s,r;const n=this._intentStates.get(e);n&&((s=this._stats)==null||s.timeEnd("Page Request"),(r=n.displayReadyCapability)==null||r.resolve(t))}_renderPageChunk(t,e){for(let n=0,s=t.length;n<s;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&w(this,An,_a).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n}){const{map:s,transfer:r}=n,o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:s},r).getReader(),l=this._intentStates.get(e);l.streamReader=o;const d=()=>{o.read().then(({value:h,done:u})=>{if(u){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,l),d())},h=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const u of l.renderTasks)u.operatorListChanged();w(this,An,_a).call(this,!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(h);else if(l.opListReadCapability)l.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof Mg){let s=Q1;e.extraDelay>0&&e.extraDelay<1e3&&(s+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},s);return}}if(t.streamReader.cancel(new va(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[s,r]of this._intentStates)if(r===t){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}Ri=new WeakMap,Os=new WeakMap,An=new WeakSet,_a=function(t=!1){if(w(this,An,nh).call(this),!c(this,Os)||this.destroyed)return!1;if(t)return y(this,Ri,setTimeout(()=>{y(this,Ri,null),w(this,An,_a).call(this,!1)},J1)),!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),y(this,Os,!1),!0},nh=function(){c(this,Ri)&&(clearTimeout(c(this,Ri)),y(this,Ri,null))};var Dr,Jh;class lR{constructor(){A(this,Dr,new Set);A(this,Jh,Promise.resolve())}postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};c(this,Jh).then(()=>{for(const s of c(this,Dr))s.call(this,n)})}addEventListener(t,e){c(this,Dr).add(e)}removeEventListener(t,e){c(this,Dr).delete(e)}terminate(){c(this,Dr).clear()}}Dr=new WeakMap,Jh=new WeakMap;const Cs={isWorkerDisabled:!1,fakeWorkerId:0};Le&&(Cs.isWorkerDisabled=!0,Ks.workerSrc||(Ks.workerSrc="./pdf.worker.mjs")),Cs.isSameOrigin=function(i,t){let e;try{if(e=new URL(i),!e.origin||e.origin==="null")return!1}catch{return!1}const n=new URL(t,e);return e.origin===n.origin},Cs.createCDNWrapper=function(i){const t=`await import("${i}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};var Or,oo,sh,lo,ih;const Qe=class Qe{constructor({name:t=null,port:e=null,verbosity:n=zk()}={}){A(this,oo);var s;if(this.name=t,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((s=c(Qe,Or))!=null&&s.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(c(Qe,Or)||y(Qe,Or,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return Le?Promise.all([ps.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new hl("main","worker",t),this._messageHandler.on("ready",function(){}),w(this,oo,sh).call(this)}_initialize(){if(Cs.isWorkerDisabled||c(Qe,lo,ih)){this._setupFakeWorker();return}let{workerSrc:t}=Qe;try{Cs.isSameOrigin(window.location.href,t)||(t=Cs.createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new hl("main","worker",e),s=()=>{r.abort(),n.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},r=new AbortController;e.addEventListener("error",()=>{this._webWorker||s()},{signal:r.signal}),n.on("test",o=>{if(r.abort(),this.destroyed||!o){s();return}this._messageHandler=n,this._port=e,this._webWorker=e,w(this,oo,sh).call(this)}),n.on("ready",o=>{if(r.abort(),this.destroyed){s();return}try{a()}catch{this._setupFakeWorker()}});const a=()=>{const o=new Uint8Array;n.send("test",o,[o.buffer])};a();return}catch{yu("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){Cs.isWorkerDisabled||(yt("Setting up fake worker."),Cs.isWorkerDisabled=!0),Qe._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new lR;this._port=e;const n=`fake${Cs.fakeWorkerId++}`,s=new hl(n+"_worker",n,e);t.setup(s,e),this._messageHandler=new hl(n,n+"_worker",e),w(this,oo,sh).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=c(Qe,Or))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var n;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(n=c(this,Or))==null?void 0:n.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Qe(t)}static get workerSrc(){if(Ks.workerSrc)return Ks.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Pt(this,"_setupFakeWorkerGlobal",(async()=>c(this,lo,ih)?c(this,lo,ih):(await import(this.workerSrc)).WorkerMessageHandler)())}};Or=new WeakMap,oo=new WeakSet,sh=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},lo=new WeakSet,ih=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},A(Qe,lo),A(Qe,Or);let Fa=Qe;var Ns,Kn,co,ho,Qn,Nr,ul;class cR{constructor(t,e,n,s,r){A(this,Nr);A(this,Ns,new Map);A(this,Kn,new Map);A(this,co,new Map);A(this,ho,new Map);A(this,Qn,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new Lw,this.fontLoader=new o1({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Pt(this,"annotationStorage",new Ng)}getRenderingIntent(t,e=bi.ENABLE,n=null,s=!1){let r=wn.DISPLAY,a=ap;switch(t){case"any":r=wn.ANY;break;case"display":break;case"print":r=wn.PRINT;break;default:yt(`getRenderingIntent - invalid intent: ${t}`)}switch(e){case bi.DISABLE:r+=wn.ANNOTATIONS_DISABLE;break;case bi.ENABLE:break;case bi.ENABLE_FORMS:r+=wn.ANNOTATIONS_FORMS;break;case bi.ENABLE_STORAGE:r+=wn.ANNOTATIONS_STORAGE,a=(r&wn.PRINT&&n instanceof gw?n:this.annotationStorage).serializable;break;default:yt(`getRenderingIntent - invalid annotationMode: ${e}`)}return s&&(r+=wn.OPLIST),{renderingIntent:r,cacheKey:`${r}_${a.hash}`,annotationStorageSerializable:a}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=c(this,Qn))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const s of c(this,Kn).values())t.push(s._destroy());c(this,Kn).clear(),c(this,co).clear(),c(this,ho).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var s;this.commonObjs.clear(),this.fontLoader.clear(),c(this,Ns).clear(),this.filterFactory.destroy(),Oh.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new va("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,s)=>{he(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},s.onPull=()=>{this._fullReader.read().then(function({value:r,done:a}){if(a){s.close();return}he(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{s.error(r)})},s.onCancel=r=>{this._fullReader.cancel(r),s.ready.catch(a=>{if(!this.destroyed)throw a})}}),t.on("ReaderHeadersReady",n=>{const s=Promise.withResolvers(),r=this._fullReader;return r.headersReady.then(()=>{var a;(!r.isStreamingSupported||!r.isRangeSupported)&&(this._lastProgress&&((a=e.onProgress)==null||a.call(e,this._lastProgress)),r.onProgress=o=>{var l;(l=e.onProgress)==null||l.call(e,{loaded:o.loaded,total:o.total})}),s.resolve({isStreamingSupported:r.isStreamingSupported,isRangeSupported:r.isRangeSupported,contentLength:r.contentLength})},s.reject),s.promise}),t.on("GetRangeReader",(n,s)=>{he(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(n.begin,n.end);if(!r){s.close();return}s.onPull=()=>{r.read().then(function({value:a,done:o}){if(o){s.close();return}he(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{s.error(a)})},s.onCancel=a=>{r.cancel(a),s.ready.catch(o=>{if(!this.destroyed)throw o})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new aR(n,this))}),t.on("DocException",function(n){let s;switch(n.name){case"PasswordException":s=new Ff(n.message,n.code);break;case"InvalidPDFException":s=new Oy(n.message);break;case"MissingPDFException":s=new ma(n.message);break;case"UnexpectedResponseException":s=new wu(n.message,n.status);break;case"UnknownErrorException":s=new Hf(n.message,n.details);break;default:Ht("DocException - expected a valid Error.")}e._capability.reject(s)}),t.on("PasswordRequest",n=>{if(y(this,Qn,Promise.withResolvers()),e.onPassword){const s=r=>{r instanceof Error?c(this,Qn).reject(r):c(this,Qn).resolve({password:r})};try{e.onPassword(s,n.code)}catch(r){c(this,Qn).reject(r)}}else c(this,Qn).reject(new Ff(n.message,n.code));return c(this,Qn).promise}),t.on("DataLoaded",n=>{var s;(s=e.onProgress)==null||s.call(e,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;c(this,Kn).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,s,r])=>{var a;if(this.destroyed||this.commonObjs.has(n))return null;switch(s){case"Font":const{disableFontFace:o,fontExtraProperties:l,pdfBug:d}=this._params;if("error"in r){const p=r.error;yt(`Error during font loading: ${p}`),this.commonObjs.resolve(n,p);break}const h=d&&((a=globalThis.FontInspector)!=null&&a.enabled)?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,u=new l1(r,{disableFontFace:o,inspectFont:h});this.fontLoader.bind(u).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!l&&u.data&&(u.data=null),this.commonObjs.resolve(n,u)});break;case"CopyLocalImage":const{imageRef:f}=r;he(f,"The imageRef must be defined.");for(const p of c(this,Kn).values())for(const[,g]of p.objs)if((g==null?void 0:g.ref)===f)return g.dataLen?(this.commonObjs.resolve(n,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,r);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),t.on("obj",([n,s,r,a])=>{var l;if(this.destroyed)return;const o=c(this,Kn).get(s);if(!o.objs.has(n)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(r){case"Image":o.objs.resolve(n,a),(a==null?void 0:a.dataLen)>Ok&&(o._maybeCleanupAfterRender=!0);break;case"Pattern":o.objs.resolve(n,a);break;default:throw new Error(`Got unknown object type ${r}`)}}}),t.on("DocProgress",n=>{var s;this.destroyed||(s=e.onProgress)==null||s.call(e,{loaded:n.loaded,total:n.total})}),t.on("FetchBuiltInCMap",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(n):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),t.on("FetchStandardFontData",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(n):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&yt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((n=this._fullReader)==null?void 0:n.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=c(this,co).get(e);if(n)return n;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&c(this,ho).set(r.refStr,t);const a=new oR(e,r,this,this._params.pdfBug);return c(this,Kn).set(e,a),a});return c(this,co).set(e,s),s}getPageIndex(t){return Sv(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return w(this,Nr,ul).call(this,"GetFieldObjects")}hasJSActions(){return w(this,Nr,ul).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return w(this,Nr,ul).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return w(this,Nr,ul).call(this,"GetOptionalContentConfig").then(e=>new R1(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=c(this,Ns).get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(s=>{var r,a;return{info:s[0],metadata:s[1]?new _1(s[1]):null,contentDispositionFilename:((r=this._fullReader)==null?void 0:r.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return c(this,Ns).set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of c(this,Kn).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),c(this,Ns).clear(),this.filterFactory.destroy(!0),Oh.cleanup()}}cachedPageNumber(t){if(!Sv(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return c(this,ho).get(e)??null}}Ns=new WeakMap,Kn=new WeakMap,co=new WeakMap,ho=new WeakMap,Qn=new WeakMap,Nr=new WeakSet,ul=function(t,e=null){const n=c(this,Ns).get(t);if(n)return n;const s=this.messageHandler.sendWithPromise(t,e);return c(this,Ns).set(t,s),s};const Ud=Symbol("INITIAL_DATA");var Mn,xc,gp;class Lw{constructor(){A(this,xc);A(this,Mn,Object.create(null))}get(t,e=null){if(e){const s=w(this,xc,gp).call(this,t);return s.promise.then(()=>e(s.data)),null}const n=c(this,Mn)[t];if(!n||n.data===Ud)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=c(this,Mn)[t];return!!e&&e.data!==Ud}resolve(t,e=null){const n=w(this,xc,gp).call(this,t);n.data=e,n.resolve()}clear(){var t;for(const e in c(this,Mn)){const{data:n}=c(this,Mn)[e];(t=n==null?void 0:n.bitmap)==null||t.close()}y(this,Mn,Object.create(null))}*[Symbol.iterator](){for(const t in c(this,Mn)){const{data:e}=c(this,Mn)[t];e!==Ud&&(yield[t,e])}}}Mn=new WeakMap,xc=new WeakSet,gp=function(t){var e;return(e=c(this,Mn))[t]||(e[t]={...Promise.withResolvers(),data:Ud})};var Pi;class dR{constructor(t){A(this,Pi,null);y(this,Pi,t),this.onContinue=null}get promise(){return c(this,Pi).capability.promise}cancel(t=0){c(this,Pi).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=c(this,Pi).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=c(this,Pi);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}Pi=new WeakMap;var Ti,Fr;const lr=class lr{constructor({callback:t,params:e,objs:n,commonObjs:s,annotationCanvasMap:r,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:d,useRequestAnimationFrame:h=!1,pdfBug:u=!1,pageColors:f=null}){A(this,Ti,null);this.callback=t,this.params=e,this.objs=n,this.commonObjs=s,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=d,this._pdfBug=u,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new dR(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var o,l;if(this.cancelled)return;if(this._canvas){if(c(lr,Fr).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");c(lr,Fr).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:s,transform:r,background:a}=this.params;this.gfx=new Na(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:r,viewport:s,transparency:t,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(t=null,e=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),c(this,Ti)&&(window.cancelAnimationFrame(c(this,Ti)),y(this,Ti,null)),c(lr,Fr).delete(this._canvas),this.callback(t||new Mg(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?y(this,Ti,window.requestAnimationFrame(()=>{y(this,Ti,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),c(lr,Fr).delete(this._canvas),this.callback())))}};Ti=new WeakMap,Fr=new WeakMap,A(lr,Fr,new WeakSet);let mp=lr;const hR="4.4.168",uR="19fbc8998";function Cv(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}function nl(i){return Math.max(0,Math.min(255,255*i))}class _v{static CMYK_G([t,e,n,s]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+s)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=nl(t),[t,t,t]}static G_HTML([t]){const e=Cv(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(nl)}static RGB_HTML(t){return`#${t.map(Cv).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,s]){return["RGB",1-Math.min(1,t+s),1-Math.min(1,n+s),1-Math.min(1,e+s)]}static CMYK_rgb([t,e,n,s]){return[nl(1-Math.min(1,t+s)),nl(1-Math.min(1,n+s)),nl(1-Math.min(1,e+s))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const s=1-t,r=1-e,a=1-n,o=Math.min(s,r,a);return["CMYK",s,r,a,o]}}class Mw{static setupStorage(t,e,n,s,r){const a=s.getValue(e,{value:null});switch(n.name){case"textarea":if(a.value!==null&&(t.textContent=a.value),r==="print")break;t.addEventListener("input",o=>{s.setValue(e,{value:o.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(a.value===n.attributes.xfaOn?t.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&t.removeAttribute("checked"),r==="print")break;t.addEventListener("change",o=>{s.setValue(e,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&t.setAttribute("value",a.value),r==="print")break;t.addEventListener("input",o=>{s.setValue(e,{value:o.target.value})})}break;case"select":if(a.value!==null){t.setAttribute("value",a.value);for(const o of n.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}t.addEventListener("input",o=>{const l=o.target.options,d=l.selectedIndex===-1?"":l[l.selectedIndex].value;s.setValue(e,{value:d})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:s,linkService:r}){const{attributes:a}=e,o=t instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${s}`);for(const[l,d]of Object.entries(a))if(d!=null)switch(l){case"class":d.length&&t.setAttribute(l,d.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",d);break;case"style":Object.assign(t.style,d);break;case"textContent":t.textContent=d;break;default:(!o||l!=="href"&&l!=="newWindow")&&t.setAttribute(l,d)}o&&r.addLinkAttributes(t,a.href,a.newWindow),n&&a.dataId&&this.setupStorage(t,a.dataId,e,n)}static render(t){var u,f;const e=t.annotationStorage,n=t.linkService,s=t.xfaHtml,r=t.intent||"display",a=document.createElement(s.name);s.attributes&&this.setAttributes({html:a,element:s,intent:r,linkService:n});const o=r!=="richText",l=t.div;if(l.append(a),t.viewport){const p=`matrix(${t.viewport.transform.join(",")})`;l.style.transform=p}o&&l.setAttribute("class","xfaLayer xfaFont");const d=[];if(s.children.length===0){if(s.value){const p=document.createTextNode(s.value);a.append(p),o&&Il.shouldBuildText(s.name)&&d.push(p)}return{textDivs:d}}const h=[[s,-1,a]];for(;h.length>0;){const[p,g,m]=h.at(-1);if(g+1===p.children.length){h.pop();continue}const b=p.children[++h.at(-1)[1]];if(b===null)continue;const{name:v}=b;if(v==="#text"){const x=document.createTextNode(b.value);d.push(x),m.append(x);continue}const E=(u=b==null?void 0:b.attributes)!=null&&u.xmlns?document.createElementNS(b.attributes.xmlns,v):document.createElement(v);if(m.append(E),b.attributes&&this.setAttributes({html:E,element:b,storage:e,intent:r,linkService:n}),((f=b.children)==null?void 0:f.length)>0)h.push([b,-1,E]);else if(b.value){const x=document.createTextNode(b.value);o&&Il.shouldBuildText(v)&&d.push(x),E.append(x)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:d}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const yd=1e3,fR=9,ua=new WeakSet;function Qs(i){return{width:i[2]-i[0],height:i[3]-i[1]}}class pR{static create(t){switch(t.data.annotationType){case re.LINK:return new Iw(t);case re.TEXT:return new gR(t);case re.WIDGET:switch(t.data.fieldType){case"Tx":return new mR(t);case"Btn":return t.data.radioButton?new Nw(t):t.data.checkBox?new bR(t):new yR(t);case"Ch":return new wR(t);case"Sig":return new vR(t)}return new ba(t);case re.POPUP:return new bp(t);case re.FREETEXT:return new jw(t);case re.LINE:return new ER(t);case re.SQUARE:return new xR(t);case re.CIRCLE:return new SR(t);case re.POLYLINE:return new $w(t);case re.CARET:return new _R(t);case re.INK:return new Uw(t);case re.POLYGON:return new CR(t);case re.HIGHLIGHT:return new kR(t);case re.UNDERLINE:return new RR(t);case re.SQUIGGLY:return new PR(t);case re.STRIKEOUT:return new TR(t);case re.STAMP:return new Ww(t);case re.FILEATTACHMENT:return new LR(t);default:return new Zt(t)}}}var Hr,uo,fo,Sc,vp;const Ug=class Ug{constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:s=!1}={}){A(this,Sc);A(this,Hr,null);A(this,uo,!1);A(this,fo,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),s&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:n}){return!!(t!=null&&t.str||e!=null&&e.str||n!=null&&n.str)}get hasPopupData(){return Ug._hasPopupData(this.data)}updateEdited(t){var n;if(!this.container)return;c(this,Hr)||y(this,Hr,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&w(this,Sc,vp).call(this,e),(n=c(this,fo))==null||n.popup.updateEdited(t)}resetEdited(){var t;c(this,Hr)&&(w(this,Sc,vp).call(this,c(this,Hr).rect),(t=c(this,fo))==null||t.popup.resetEdited(),y(this,Hr,null))}_createContainer(t){const{data:e,parent:{page:n,viewport:s}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",e.id),this instanceof ba||(r.tabIndex=yd);const{style:a}=r;if(a.zIndex=this.parent.zIndex++,e.popupRef&&r.setAttribute("aria-haspopup","dialog"),e.alternativeText&&(r.title=e.alternativeText),e.noRotate&&r.classList.add("norotate"),!e.rect||this instanceof bp){const{rotation:m}=e;return!e.hasOwnCanvas&&m!==0&&this.setRotation(m,r),r}const{width:o,height:l}=Qs(e.rect);if(!t&&e.borderStyle.width>0){a.borderWidth=`${e.borderStyle.width}px`;const m=e.borderStyle.horizontalCornerRadius,b=e.borderStyle.verticalCornerRadius;if(m>0||b>0){const E=`calc(${m}px * var(--scale-factor)) / calc(${b}px * var(--scale-factor))`;a.borderRadius=E}else if(this instanceof Nw){const E=`calc(${o}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;a.borderRadius=E}switch(e.borderStyle.style){case tl.SOLID:a.borderStyle="solid";break;case tl.DASHED:a.borderStyle="dashed";break;case tl.BEVELED:yt("Unimplemented border style: beveled");break;case tl.INSET:yt("Unimplemented border style: inset");break;case tl.UNDERLINE:a.borderBottomStyle="solid";break}const v=e.borderColor||null;v?(y(this,uo,!0),a.borderColor=nt.makeHexColor(v[0]|0,v[1]|0,v[2]|0)):a.borderWidth=0}const d=nt.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:h,pageHeight:u,pageX:f,pageY:p}=s.rawDims;a.left=`${100*(d[0]-f)/h}%`,a.top=`${100*(d[1]-p)/u}%`;const{rotation:g}=e;return e.hasOwnCanvas||g===0?(a.width=`${100*o/h}%`,a.height=`${100*l/u}%`):this.setRotation(g,r),r}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:s}=this.parent.viewport.rawDims,{width:r,height:a}=Qs(this.data.rect);let o,l;t%180===0?(o=100*r/n,l=100*a/s):(o=100*a/n,l=100*r/s),e.style.width=`${o}%`,e.style.height=`${l}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,s)=>{const r=s.detail[e],a=r[0],o=r.slice(1);s.target.style[n]=_v[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[n]:_v[`${a}_rgb`](o)})};return Pt(this,"_commonActions",{display:e=>{const{display:n}=e.detail,s=n%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const s of Object.keys(e.detail)){const r=t[s]||n[s];r==null||r(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[s,r]of Object.entries(e)){const a=n[s];if(a){const o={detail:{[s]:r},target:t};a(o),delete e[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,s,r]=this.data.rect.map(m=>Math.fround(m));if(t.length===8){const[m,b,v,E]=t.subarray(2,6);if(s===m&&r===b&&e===v&&n===E)return}const{style:a}=this.container;let o;if(c(this,uo)){const{borderColor:m,borderWidth:b}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${m}" stroke-width="${b}">`],this.container.classList.add("hasBorder")}const l=s-e,d=r-n,{svgFactory:h}=this,u=h.createElement("svg");u.classList.add("quadrilateralsContainer"),u.setAttribute("width",0),u.setAttribute("height",0);const f=h.createElement("defs");u.append(f);const p=h.createElement("clipPath"),g=`clippath_${this.data.id}`;p.setAttribute("id",g),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let m=2,b=t.length;m<b;m+=8){const v=t[m],E=t[m+1],x=t[m+2],C=t[m+3],S=h.createElement("rect"),k=(x-e)/l,L=(r-E)/d,T=(v-x)/l,M=(E-C)/d;S.setAttribute("x",k),S.setAttribute("y",L),S.setAttribute("width",T),S.setAttribute("height",M),p.append(S),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${k}" y="${L}" width="${T}" height="${M}"/>`)}c(this,uo)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(u),this.container.style.clipPath=`url(#${g})`}_createPopup(){const{container:t,data:e}=this;t.setAttribute("aria-haspopup","dialog");const n=y(this,fo,new bp({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(n.render())}render(){Ht("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const s=this._fieldObjects[t];if(s)for(const{page:r,id:a,exportValues:o}of s){if(r===-1||a===e)continue;const l=typeof o=="string"?o:null,d=document.querySelector(`[data-element-id="${a}"]`);if(d&&!ua.has(d)){yt(`_getElementsByName - element not allowed: ${a}`);continue}n.push({id:a,exportValue:l,domElement:d})}return n}for(const s of document.getElementsByName(t)){const{exportValue:r}=s,a=s.getAttribute("data-element-id");a!==e&&ua.has(s)&&n.push({id:a,exportValue:r,domElement:s})}return n}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};Hr=new WeakMap,uo=new WeakMap,fo=new WeakMap,Sc=new WeakSet,vp=function(t){const{container:{style:e},data:{rect:n,rotation:s},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:a,pageX:o,pageY:l}}}}=this;n==null||n.splice(0,4,...t);const{width:d,height:h}=Qs(t);e.left=`${100*(t[0]-o)/r}%`,e.top=`${100*(a-t[3]+l)/a}%`,s===0?(e.width=`${100*d/r}%`,e.height=`${100*h/a}%`):this.setRotation(s)};let Zt=Ug;var ln,ir,Dw,Ow;class Iw extends Zt{constructor(e,n=null){super(e,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});A(this,ln);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:n}=this,s=document.createElement("a");s.setAttribute("data-element-id",e.id);let r=!1;return e.url?(n.addLinkAttributes(s,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(s,e.action),r=!0):e.attachment?(w(this,ln,Dw).call(this,s,e.attachment,e.attachmentDest),r=!0):e.setOCGState?(w(this,ln,Ow).call(this,s,e.setOCGState),r=!0):e.dest?(this._bindLink(s,e.dest),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,e),r=!0),e.resetForm?(this._bindResetFormAction(s,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(s,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(s),this.container}_bindLink(e,n){e.href=this.linkService.getDestinationHash(n),e.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&w(this,ln,ir).call(this)}_bindNamedAction(e,n){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(n),!1),w(this,ln,ir).call(this)}_bindJSAction(e,n){e.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(n.actions)){const a=s.get(r);a&&(e[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:r}}),!1})}e.onclick||(e.onclick=()=>!1),w(this,ln,ir).call(this)}_bindResetFormAction(e,n){const s=e.onclick;if(s||(e.href=this.linkService.getAnchorUrl("")),w(this,ln,ir).call(this),!this._fieldObjects){yt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(e.onclick=()=>!1);return}e.onclick=()=>{var u;s==null||s();const{fields:r,refs:a,include:o}=n,l=[];if(r.length!==0||a.length!==0){const f=new Set(a);for(const p of r){const g=this._fieldObjects[p]||[];for(const{id:m}of g)f.add(m)}for(const p of Object.values(this._fieldObjects))for(const g of p)f.has(g.id)===o&&l.push(g)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const d=this.annotationStorage,h=[];for(const f of l){const{id:p}=f;switch(h.push(p),f.type){case"text":{const m=f.defaultValue||"";d.setValue(p,{value:m});break}case"checkbox":case"radiobutton":{const m=f.defaultValue===f.exportValues;d.setValue(p,{value:m});break}case"combobox":case"listbox":{const m=f.defaultValue||"";d.setValue(p,{value:m});break}default:continue}const g=document.querySelector(`[data-element-id="${p}"]`);if(g){if(!ua.has(g)){yt(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}ln=new WeakSet,ir=function(){this.container.setAttribute("data-internal-link","")},Dw=function(e,n,s=null){e.href=this.linkService.getAnchorUrl(""),n.description&&(e.title=n.description),e.onclick=()=>{var r;return(r=this.downloadManager)==null||r.openOrDownloadData(n.content,n.filename,s),!1},w(this,ln,ir).call(this)},Ow=function(e,n){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(n),!1),w(this,ln,ir).call(this)};class gR extends Zt{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class ba extends Zt{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Ve.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,s,r){n.includes("mouse")?t.addEventListener(n,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:r(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):t.addEventListener(n,a=>{var o;if(n==="blur"){if(!e.focused||!a.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}r&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:r(a)}}))})}_setEventListeners(t,e,n,s){var r,a,o;for(const[l,d]of n)(d==="Action"||(r=this.data.actions)!=null&&r[d])&&((d==="Focus"||d==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,l,d,s),d==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(t,e,"blur","Blur",null):d==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":nt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||fR,r=t.style;let a;const o=2,l=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-o),h=Math.round(d/(Ju*s))||1,u=d/h;a=Math.min(s,l(u/Ju))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(s,l(d/Ju))}r.fontSize=`calc(${a}px * var(--scale-factor))`,r.color=nt.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(r.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class mR extends ba{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,s){const r=this.annotationStorage;for(const a of this._getElementsByName(t.name,t.id))a.domElement&&(a.domElement[e]=n),r.setValue(a.id,{[s]:n})}render(){var s,r;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const a=t.getValue(e,{value:this.data.fieldValue});let o=a.value||"";const l=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let d=a.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;d&&this.data.comb&&(d=d.replaceAll(/\s+/g,""));const h={userValue:o,formattedValue:d,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=d??o,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",d??o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),ua.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=yd,this._setRequired(n,this.data.required),l&&(n.maxLength=l),n.addEventListener("input",f=>{t.setValue(e,{value:f.target.value}),this.setPropertyOnSiblings(n,"value",f.target.value,"value"),h.formattedValue=null}),n.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue??"";n.value=h.userValue=p,h.formattedValue=null});let u=f=>{const{formattedValue:p}=h;p!=null&&(f.target.value=p),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",p=>{var m;if(h.focused)return;const{target:g}=p;h.userValue&&(g.value=h.userValue),h.lastCommittedValue=g.value,h.commitKey=1,(m=this.data.actions)!=null&&m.Focus||(h.focused=!0)}),n.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const g={value(m){h.userValue=m.detail.value??"",t.setValue(e,{value:h.userValue.toString()}),m.target.value=h.userValue},formattedValue(m){const{formattedValue:b}=m.detail;h.formattedValue=b,b!=null&&m.target!==document.activeElement&&(m.target.value=b),t.setValue(e,{formattedValue:b})},selRange(m){m.target.setSelectionRange(...m.detail.selRange)},charLimit:m=>{var x;const{charLimit:b}=m.detail,{target:v}=m;if(b===0){v.removeAttribute("maxLength");return}v.setAttribute("maxLength",b);let E=h.userValue;!E||E.length<=b||(E=E.slice(0,b),v.value=h.userValue=E,t.setValue(e,{value:E}),(x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:E,willCommit:!0,commitKey:1,selStart:v.selectionStart,selEnd:v.selectionEnd}}))}};this._dispatchEventFromSandbox(g,p)}),n.addEventListener("keydown",p=>{var b;h.commitKey=1;let g=-1;if(p.key==="Escape"?g=0:p.key==="Enter"&&!this.data.multiLine?g=2:p.key==="Tab"&&(h.commitKey=3),g===-1)return;const{value:m}=p.target;h.lastCommittedValue!==m&&(h.lastCommittedValue=m,h.userValue=m,(b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:m,willCommit:!0,commitKey:g,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const f=u;u=null,n.addEventListener("blur",p=>{var m,b;if(!h.focused||!p.relatedTarget)return;(m=this.data.actions)!=null&&m.Blur||(h.focused=!1);const{value:g}=p.target;h.userValue=g,h.lastCommittedValue!==g&&((b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:g,willCommit:!0,commitKey:h.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),f(p)}),(r=this.data.actions)!=null&&r.Keystroke&&n.addEventListener("beforeinput",p=>{var S;h.lastCommittedValue=null;const{data:g,target:m}=p,{value:b,selectionStart:v,selectionEnd:E}=m;let x=v,C=E;switch(p.inputType){case"deleteWordBackward":{const k=b.substring(0,v).match(/\w*[^\w]*$/);k&&(x-=k[0].length);break}case"deleteWordForward":{const k=b.substring(v).match(/^[^\w]*\w*/);k&&(C+=k[0].length);break}case"deleteContentBackward":v===E&&(x-=1);break;case"deleteContentForward":v===E&&(C+=1);break}p.preventDefault(),(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:b,change:g||"",willCommit:!1,selStart:x,selEnd:C}})}),this._setEventListeners(n,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(u&&n.addEventListener("blur",u),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/l;n.classList.add("comb"),n.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class vR extends ba{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class bR extends ba{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let s=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",t.setValue(n,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return ua.add(r),r.setAttribute("data-element-id",n),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=e.fieldName,s&&r.setAttribute("checked",!0),r.setAttribute("exportValue",e.exportValue),r.tabIndex=yd,r.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const d of this._getElementsByName(o,n)){const h=l&&d.exportValue===e.exportValue;d.domElement&&(d.domElement.checked=h),t.setValue(d.id,{value:h})}t.setValue(n,{value:l})}),r.addEventListener("resetform",a=>{const o=e.defaultFieldValue||"Off";a.target.checked=o===e.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",t.setValue(n,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Nw extends ba{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let s=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof s=="string"&&(s=s!==e.buttonValue,t.setValue(n,{value:s})),s)for(const a of this._getElementsByName(e.fieldName,n))t.setValue(a.id,{value:!1});const r=document.createElement("input");if(ua.add(r),r.setAttribute("data-element-id",n),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=e.fieldName,s&&r.setAttribute("checked",!0),r.tabIndex=yd,r.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const d of this._getElementsByName(o,n))t.setValue(d.id,{value:!1});t.setValue(n,{value:l})}),r.addEventListener("resetform",a=>{const o=e.defaultFieldValue;a.target.checked=o!=null&&o===e.buttonValue}),this.enableScripting&&this.hasJSActions){const a=e.buttonValue;r.addEventListener("updatefromsandbox",o=>{const l={value:d=>{const h=a===d.detail.value;for(const u of this._getElementsByName(d.target.name)){const f=h&&u.id===n;u.domElement&&(u.domElement.checked=f),t.setValue(u.id,{value:f})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class yR extends Iw{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class wR extends ba{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),s=document.createElement("select");ua.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=yd;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",h=>{const u=this.data.defaultFieldValue;for(const f of s.options)f.selected=f.value===u});for(const h of this.data.options){const u=document.createElement("option");u.textContent=h.displayValue,u.value=h.exportValue,n.value.includes(h.exportValue)&&(u.setAttribute("selected",!0),r=!1),s.append(u)}let a=null;if(r){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),s.prepend(h),a=()=>{h.remove(),s.removeEventListener("input",a),a=null},s.addEventListener("input",a)}const o=h=>{const u=h?"value":"textContent",{options:f,multiple:p}=s;return p?Array.prototype.filter.call(f,g=>g.selected).map(g=>g[u]):f.selectedIndex===-1?null:f[f.selectedIndex][u]};let l=o(!1);const d=h=>{const u=h.target.options;return Array.prototype.map.call(u,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",h=>{const u={value(f){a==null||a();const p=f.detail.value,g=new Set(Array.isArray(p)?p:[p]);for(const m of s.options)m.selected=g.has(m.value);t.setValue(e,{value:o(!0)}),l=o(!1)},multipleSelection(f){s.multiple=!0},remove(f){const p=s.options,g=f.detail.remove;p[g].selected=!1,s.remove(g),p.length>0&&Array.prototype.findIndex.call(p,b=>b.selected)===-1&&(p[0].selected=!0),t.setValue(e,{value:o(!0),items:d(f)}),l=o(!1)},clear(f){for(;s.length!==0;)s.remove(0);t.setValue(e,{value:null,items:[]}),l=o(!1)},insert(f){const{index:p,displayValue:g,exportValue:m}=f.detail.insert,b=s.children[p],v=document.createElement("option");v.textContent=g,v.value=m,b?b.before(v):s.append(v),t.setValue(e,{value:o(!0),items:d(f)}),l=o(!1)},items(f){const{items:p}=f.detail;for(;s.length!==0;)s.remove(0);for(const g of p){const{displayValue:m,exportValue:b}=g,v=document.createElement("option");v.textContent=m,v.value=b,s.append(v)}s.options.length>0&&(s.options[0].selected=!0),t.setValue(e,{value:o(!0),items:d(f)}),l=o(!1)},indices(f){const p=new Set(f.detail.indices);for(const g of f.target.options)g.selected=p.has(g.index);t.setValue(e,{value:o(!0)}),l=o(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(u,h)}),s.addEventListener("input",h=>{var p;const u=o(!0),f=o(!1);t.setValue(e,{value:u}),h.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:l,change:f,changeEx:u,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):s.addEventListener("input",function(h){t.setValue(e,{value:o(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class bp extends Zt{constructor(t){const{data:e,elements:n}=t;super(t,{isRenderable:Zt._hasPopupData(e)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new AR({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const n of this.elements)n.popup=t,e.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(n=>`${Fy}${n}`).join(",")),this.container}}var po,Zh,tu,go,Br,Kt,Fs,zr,Cc,_c,mo,Hs,In,Bs,kc,zs,Rc,jr,$r,Bt,rh,yp,Fw,Hw,Bw,zw,ah,oh,wp;class AR{constructor({container:t,color:e,elements:n,titleObj:s,modificationDate:r,contentsObj:a,richText:o,parent:l,rect:d,parentRect:h,open:u}){A(this,Bt);A(this,po,w(this,Bt,Bw).bind(this));A(this,Zh,w(this,Bt,wp).bind(this));A(this,tu,w(this,Bt,oh).bind(this));A(this,go,w(this,Bt,ah).bind(this));A(this,Br,null);A(this,Kt,null);A(this,Fs,null);A(this,zr,null);A(this,Cc,null);A(this,_c,null);A(this,mo,null);A(this,Hs,!1);A(this,In,null);A(this,Bs,null);A(this,kc,null);A(this,zs,null);A(this,Rc,null);A(this,jr,null);A(this,$r,!1);var f;y(this,Kt,t),y(this,Rc,s),y(this,Fs,a),y(this,zs,o),y(this,_c,l),y(this,Br,e),y(this,kc,d),y(this,mo,h),y(this,Cc,n),y(this,zr,$y.toDateObject(r)),this.trigger=n.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",c(this,go)),p.addEventListener("mouseenter",c(this,tu)),p.addEventListener("mouseleave",c(this,Zh)),p.classList.add("popupTriggerArea");for(const p of n)(f=p.container)==null||f.addEventListener("keydown",c(this,po));c(this,Kt).hidden=!0,u&&w(this,Bt,ah).call(this)}render(){if(c(this,In))return;const t=y(this,In,document.createElement("div"));if(t.className="popup",c(this,Br)){const r=t.style.outlineColor=nt.makeHexColor(...c(this,Br));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`:t.style.backgroundColor=nt.makeHexColor(...c(this,Br).map(o=>Math.floor(.7*(255-o)+o)))}const e=document.createElement("span");e.className="header";const n=document.createElement("h1");if(e.append(n),{dir:n.dir,str:n.textContent}=c(this,Rc),t.append(e),c(this,zr)){const r=document.createElement("span");r.classList.add("popupDate"),r.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),r.setAttribute("data-l10n-args",JSON.stringify({date:c(this,zr).toLocaleDateString(),time:c(this,zr).toLocaleTimeString()})),e.append(r)}const s=c(this,Bt,rh);if(s)Mw.render({xfaHtml:s,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const r=this._formatContents(c(this,Fs));t.append(r)}c(this,Kt).append(t)}_formatContents({str:t,dir:e}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=e;const s=t.split(/(?:\r\n?|\n)/);for(let r=0,a=s.length;r<a;++r){const o=s[r];n.append(document.createTextNode(o)),r<a-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:t,popupContent:e}){var n;c(this,jr)||y(this,jr,{contentsObj:c(this,Fs),richText:c(this,zs)}),t&&y(this,Bs,null),e&&(y(this,zs,w(this,Bt,Hw).call(this,e)),y(this,Fs,null)),(n=c(this,In))==null||n.remove(),y(this,In,null)}resetEdited(){var t;c(this,jr)&&({contentsObj:Ye(this,Fs)._,richText:Ye(this,zs)._}=c(this,jr),y(this,jr,null),(t=c(this,In))==null||t.remove(),y(this,In,null),y(this,Bs,null))}forceHide(){y(this,$r,this.isVisible),c(this,$r)&&(c(this,Kt).hidden=!0)}maybeShow(){c(this,$r)&&(c(this,In)||w(this,Bt,oh).call(this),y(this,$r,!1),c(this,Kt).hidden=!1)}get isVisible(){return c(this,Kt).hidden===!1}}po=new WeakMap,Zh=new WeakMap,tu=new WeakMap,go=new WeakMap,Br=new WeakMap,Kt=new WeakMap,Fs=new WeakMap,zr=new WeakMap,Cc=new WeakMap,_c=new WeakMap,mo=new WeakMap,Hs=new WeakMap,In=new WeakMap,Bs=new WeakMap,kc=new WeakMap,zs=new WeakMap,Rc=new WeakMap,jr=new WeakMap,$r=new WeakMap,Bt=new WeakSet,rh=function(){const t=c(this,zs),e=c(this,Fs);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&c(this,zs).html||null},yp=function(){var t,e,n;return((n=(e=(t=c(this,Bt,rh))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:n.fontSize)||0},Fw=function(){var t,e,n;return((n=(e=(t=c(this,Bt,rh))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:n.color)||null},Hw=function(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},s={style:{color:c(this,Bt,Fw),fontSize:c(this,Bt,yp)?`calc(${c(this,Bt,yp)}px * var(--scale-factor))`:""}};for(const r of t.split(`
`))e.push({name:"span",value:r,attributes:s});return n},Bw=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&c(this,Hs))&&w(this,Bt,ah).call(this)},zw=function(){if(c(this,Bs)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:s,pageY:r}}}=c(this,_c);let a=!!c(this,mo),o=a?c(this,mo):c(this,kc);for(const g of c(this,Cc))if(!o||nt.intersect(g.data.rect,o)!==null){o=g.data.rect,a=!0;break}const l=nt.normalizeRect([o[0],t[3]-o[1]+t[1],o[2],t[3]-o[3]+t[1]]),h=a?o[2]-o[0]+5:0,u=l[0]+h,f=l[1];y(this,Bs,[100*(u-s)/e,100*(f-r)/n]);const{style:p}=c(this,Kt);p.left=`${c(this,Bs)[0]}%`,p.top=`${c(this,Bs)[1]}%`},ah=function(){y(this,Hs,!c(this,Hs)),c(this,Hs)?(w(this,Bt,oh).call(this),c(this,Kt).addEventListener("click",c(this,go)),c(this,Kt).addEventListener("keydown",c(this,po))):(w(this,Bt,wp).call(this),c(this,Kt).removeEventListener("click",c(this,go)),c(this,Kt).removeEventListener("keydown",c(this,po)))},oh=function(){c(this,In)||this.render(),this.isVisible?c(this,Hs)&&c(this,Kt).classList.add("focused"):(w(this,Bt,zw).call(this),c(this,Kt).hidden=!1,c(this,Kt).style.zIndex=parseInt(c(this,Kt).style.zIndex)+1e3)},wp=function(){c(this,Kt).classList.remove("focused"),!(c(this,Hs)||!this.isVisible)&&(c(this,Kt).hidden=!0,c(this,Kt).style.zIndex=parseInt(c(this,Kt).style.zIndex)-1e3)};class jw extends Zt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=kt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var Pc;class ER extends Zt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});A(this,Pc,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:n,height:s}=Qs(e.rect),r=this.svgFactory.create(n,s,!0),a=y(this,Pc,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),a.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),a.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),a.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),a.setAttribute("stroke-width",e.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Pc)}addHighlightArea(){this.container.classList.add("highlightArea")}}Pc=new WeakMap;var Tc;class xR extends Zt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});A(this,Tc,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:n,height:s}=Qs(e.rect),r=this.svgFactory.create(n,s,!0),a=e.borderStyle.width,o=y(this,Tc,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",n-a),o.setAttribute("height",s-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Tc)}addHighlightArea(){this.container.classList.add("highlightArea")}}Tc=new WeakMap;var Lc;class SR extends Zt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});A(this,Lc,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:n,height:s}=Qs(e.rect),r=this.svgFactory.create(n,s,!0),a=e.borderStyle.width,o=y(this,Lc,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",n/2),o.setAttribute("cy",s/2),o.setAttribute("rx",n/2-a/2),o.setAttribute("ry",s/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Lc)}addHighlightArea(){this.container.classList.add("highlightArea")}}Lc=new WeakMap;var Mc;class $w extends Zt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});A(this,Mc,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:n,borderStyle:s,popupRef:r}}=this;if(!n)return this.container;const{width:a,height:o}=Qs(e),l=this.svgFactory.create(a,o,!0);let d=[];for(let u=0,f=n.length;u<f;u+=2){const p=n[u]-e[0],g=e[3]-n[u+1];d.push(`${p},${g}`)}d=d.join(" ");const h=y(this,Mc,this.svgFactory.createElement(this.svgElementName));return h.setAttribute("points",d),h.setAttribute("stroke-width",s.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h),this.container.append(l),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Mc)}addHighlightArea(){this.container.classList.add("highlightArea")}}Mc=new WeakMap;class CR extends $w{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class _R extends Zt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Ic;class Uw extends Zt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});A(this,Ic,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=kt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:n,borderStyle:s,popupRef:r}}=this,{width:a,height:o}=Qs(e),l=this.svgFactory.create(a,o,!0);for(const d of n){let h=[];for(let f=0,p=d.length;f<p;f+=2){const g=d[f]-e[0],m=e[3]-d[f+1];h.push(`${g},${m}`)}h=h.join(" ");const u=this.svgFactory.createElement(this.svgElementName);c(this,Ic).push(u),u.setAttribute("points",h),u.setAttribute("stroke-width",s.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),!r&&this.hasPopupData&&this._createPopup(),l.append(u)}return this.container.append(l),this.container}getElementsToTriggerPopup(){return c(this,Ic)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ic=new WeakMap;class kR extends Zt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class RR extends Zt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class PR extends Zt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class TR extends Zt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Ww extends Zt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Dc,Oc,Ap;class LR extends Zt{constructor(e){var s;super(e,{isRenderable:!0});A(this,Oc);A(this,Dc,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:n}=this;let s;n.hasAppearance||n.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),s.addEventListener("dblclick",w(this,Oc,Ap).bind(this)),y(this,Dc,s);const{isMac:r}=Ve.platform;return e.addEventListener("keydown",a=>{a.key==="Enter"&&(r?a.metaKey:a.ctrlKey)&&w(this,Oc,Ap).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),e.append(s),e}getElementsToTriggerPopup(){return c(this,Dc)}addHighlightArea(){this.container.classList.add("highlightArea")}}Dc=new WeakMap,Oc=new WeakSet,Ap=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var Nc,Ur,vo,pa,Vw,Ep,Hv;let MR=(Hv=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:s,page:r,viewport:a}){A(this,pa);A(this,Nc,null);A(this,Ur,null);A(this,vo,new Map);this.div=t,y(this,Nc,e),y(this,Ur,n),this.page=r,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=s}async render(t){var a;const{annotations:e}=t,n=this.div;da(n,this.viewport);const s=new Map,r={data:null,layer:n,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new Lg,annotationStorage:t.annotationStorage||new Ng,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const o of e){if(o.noHTML)continue;const l=o.annotationType===re.POPUP;if(l){const u=s.get(o.id);if(!u)continue;r.elements=u}else{const{width:u,height:f}=Qs(o.rect);if(u<=0||f<=0)continue}r.data=o;const d=pR.create(r);if(!d.isRenderable)continue;if(!l&&o.popupRef){const u=s.get(o.popupRef);u?u.push(d):s.set(o.popupRef,[d])}const h=d.render();o.hidden&&(h.style.visibility="hidden"),w(this,pa,Vw).call(this,h,o.id),d.annotationEditorType>0&&(c(this,vo).set(d.data.id,d),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(d))}w(this,pa,Ep).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,da(e,{rotation:t.rotation}),w(this,pa,Ep).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(c(this,vo).values())}getEditableAnnotation(t){return c(this,vo).get(t)}},Nc=new WeakMap,Ur=new WeakMap,vo=new WeakMap,pa=new WeakSet,Vw=function(t,e){var s;const n=t.firstChild||t;n.id=`${Fy}${e}`,this.div.append(t),(s=c(this,Nc))==null||s.moveElementInDOM(this.div,t,n,!1)},Ep=function(){if(!c(this,Ur))return;const t=this.div;for(const[e,n]of c(this,Ur)){const s=t.querySelector(`[data-annotation-id="${e}"]`);if(!s)continue;n.className="annotationContent";const{firstChild:r}=s;r?r.nodeName==="CANVAS"?r.replaceWith(n):r.classList.contains("annotationContent")?r.after(n):r.before(n):s.append(n)}c(this,Ur).clear()},Hv);const Wd=/\r\n?|\n/g;var Fc,Hc,Bc,zc,jc,Dn,en,$c,nn,bo,ne,qw,Gw,Xw,lh,Zs,ch,dh,Yw,Sp,Kw;const Ut=class Ut extends Nt{constructor(e){super({...e,name:"freeTextEditor"});A(this,ne);A(this,Fc,this.editorDivBlur.bind(this));A(this,Hc,this.editorDivFocus.bind(this));A(this,Bc,this.editorDivInput.bind(this));A(this,zc,this.editorDivKeydown.bind(this));A(this,jc,this.editorDivPaste.bind(this));A(this,Dn);A(this,en,"");A(this,$c,`${this.id}-editor`);A(this,nn);A(this,bo,null);y(this,Dn,e.color||Ut._defaultColor||Nt._defaultLineColor),y(this,nn,e.fontSize||Ut._defaultFontSize)}static get _keyboardManager(){const e=Ut.prototype,n=a=>a.isEmpty(),s=ha.TRANSLATE_SMALL,r=ha.TRANSLATE_BIG;return Pt(this,"_keyboardManager",new vd([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-s,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[s,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-s],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:n}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,s],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:n}]]))}static initialize(e,n){Nt.initialize(e,n,{strings:["pdfjs-free-text-default-content"]});const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,n){switch(e){case ht.FREETEXT_SIZE:Ut._defaultFontSize=n;break;case ht.FREETEXT_COLOR:Ut._defaultColor=n;break}}updateParams(e,n){switch(e){case ht.FREETEXT_SIZE:w(this,ne,qw).call(this,n);break;case ht.FREETEXT_COLOR:w(this,ne,Gw).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[ht.FREETEXT_SIZE,Ut._defaultFontSize],[ht.FREETEXT_COLOR,Ut._defaultColor||Nt._defaultLineColor]]}get propertiesToUpdate(){return[[ht.FREETEXT_SIZE,c(this,nn)],[ht.FREETEXT_COLOR,c(this,Dn)]]}_translateEmpty(e,n){this._uiManager.translateSelectedEditors(e,n,!0)}getInitialTranslation(){const e=this.parentScale;return[-Ut._internalPadding*e,-(Ut._internalPadding+c(this,nn))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(kt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const e=this._uiManager._signal;this.editorDiv.addEventListener("keydown",c(this,zc),{signal:e}),this.editorDiv.addEventListener("focus",c(this,Hc),{signal:e}),this.editorDiv.addEventListener("blur",c(this,Fc),{signal:e}),this.editorDiv.addEventListener("input",c(this,Bc),{signal:e}),this.editorDiv.addEventListener("paste",c(this,jc),{signal:e})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",c(this,$c)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",c(this,zc)),this.editorDiv.removeEventListener("focus",c(this,Hc)),this.editorDiv.removeEventListener("blur",c(this,Fc)),this.editorDiv.removeEventListener("input",c(this,Bc)),this.editorDiv.removeEventListener("paste",c(this,jc)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(e=this._initialOptions)!=null&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=c(this,en),n=y(this,en,w(this,ne,Xw).call(this).trimEnd());if(e===n)return;const s=r=>{if(y(this,en,r),!r){this.remove();return}w(this,ne,dh).call(this),this._uiManager.rebuild(this),w(this,ne,lh).call(this)};this.addCommands({cmd:()=>{s(n)},undo:()=>{s(e)},mustExec:!1}),w(this,ne,lh).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Ut._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,n;this.width&&(e=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",c(this,$c)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),Nt._l10nPromise.get("pdfjs-free-text-default-content").then(r=>{var a;return(a=this.editorDiv)==null?void 0:a.setAttribute("default-content",r)}),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${c(this,nn)}px * var(--scale-factor))`,s.color=c(this,Dn),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Mh(this,this.div,["dblclick","keydown"]),this.width){const[r,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=c(this,bo);let[l,d]=this.getInitialTranslation();[l,d]=this.pageTranslationToScreen(l,d);const[h,u]=this.pageDimensions,[f,p]=this.pageTranslation;let g,m;switch(this.rotation){case 0:g=e+(o[0]-f)/h,m=n+this.height-(o[1]-p)/u;break;case 90:g=e+(o[0]-f)/h,m=n-(o[1]-p)/u,[l,d]=[d,-l];break;case 180:g=e-this.width+(o[0]-f)/h,m=n-(o[1]-p)/u,[l,d]=[-l,-d];break;case 270:g=e+(o[0]-f-this.height*u)/h,m=n+(o[1]-p-this.width*h)/u,[l,d]=[-d,l];break}this.setAt(g*r,m*a,l,d)}else this.setAt(e*r,n*a,this.width*r,this.height*a);w(this,ne,dh).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var g,m,b;const n=e.clipboardData||window.clipboardData,{types:s}=n;if(s.length===1&&s[0]==="text/plain")return;e.preventDefault();const r=w(g=Ut,Zs,Sp).call(g,n.getData("text")||"").replaceAll(Wd,`
`);if(!r)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!r.includes(`
`)){o.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:d}=o,h=[],u=[];if(l.nodeType===Node.TEXT_NODE){const v=l.parentElement;if(u.push(l.nodeValue.slice(d).replaceAll(Wd,"")),v!==this.editorDiv){let E=h;for(const x of this.editorDiv.childNodes){if(x===v){E=u;continue}E.push(w(m=Ut,Zs,ch).call(m,x))}}h.push(l.nodeValue.slice(0,d).replaceAll(Wd,""))}else if(l===this.editorDiv){let v=h,E=0;for(const x of this.editorDiv.childNodes)E++===d&&(v=u),v.push(w(b=Ut,Zs,ch).call(b,x))}y(this,en,`${h.join(`
`)}${r}${u.join(`
`)}`),w(this,ne,dh).call(this);const f=new Range;let p=h.reduce((v,E)=>v+E.length,0);for(const{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){const E=v.nodeValue.length;if(p<=E){f.setStart(v,p),f.setEnd(v,p);break}p-=E}a.removeAllRanges(),a.addRange(f)}get contentDiv(){return this.editorDiv}static deserialize(e,n,s){var o;let r=null;if(e instanceof jw){const{data:{defaultAppearanceData:{fontSize:l,fontColor:d},rect:h,rotation:u,id:f},textContent:p,textPosition:g,parent:{page:{pageNumber:m}}}=e;if(!p||p.length===0)return null;r=e={annotationType:kt.FREETEXT,color:Array.from(d),fontSize:l,value:p.join(`
`),position:g,pageIndex:m-1,rect:h.slice(0),rotation:u,id:f,deleted:!1}}const a=super.deserialize(e,n,s);return y(a,nn,e.fontSize),y(a,Dn,nt.makeHexColor(...e.color)),y(a,en,w(o=Ut,Zs,Sp).call(o,e.value)),a.annotationElementId=e.id||null,y(a,bo,r),a}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const n=Ut._internalPadding*this.parentScale,s=this.getRect(n,n),r=Nt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:c(this,Dn)),a={annotationType:kt.FREETEXT,color:r,fontSize:c(this,nn),value:w(this,ne,Yw).call(this),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?a:this.annotationElementId&&!w(this,ne,Kw).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(e){const n=super.renderAnnotationElement(e);if(this.deleted)return n;const{style:s}=n;s.fontSize=`calc(${c(this,nn)}px * var(--scale-factor))`,s.color=c(this,Dn),n.replaceChildren();for(const a of c(this,en).split(`
`)){const o=document.createElement("div");o.append(a?document.createTextNode(a):document.createElement("br")),n.append(o)}const r=Ut._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(r,r),popupContent:c(this,en)}),n}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};Fc=new WeakMap,Hc=new WeakMap,Bc=new WeakMap,zc=new WeakMap,jc=new WeakMap,Dn=new WeakMap,en=new WeakMap,$c=new WeakMap,nn=new WeakMap,bo=new WeakMap,ne=new WeakSet,qw=function(e){const n=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--scale-factor))`,this.translate(0,-(r-c(this,nn))*this.parentScale),y(this,nn,r),w(this,ne,lh).call(this)},s=c(this,nn);this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ht.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Gw=function(e){const n=r=>{y(this,Dn,this.editorDiv.style.color=r)},s=c(this,Dn);this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ht.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Xw=function(){var n;const e=[];this.editorDiv.normalize();for(const s of this.editorDiv.childNodes)e.push(w(n=Ut,Zs,ch).call(n,s));return e.join(`
`)},lh=function(){const[e,n]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:r,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",r.div.append(this.div),s=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=s.width/e,this.height=s.height/n):(this.width=s.height/e,this.height=s.width/n),this.fixAndSetPosition()},Zs=new WeakSet,ch=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Wd,"")},dh=function(){if(this.editorDiv.replaceChildren(),!!c(this,en))for(const e of c(this,en).split(`
`)){const n=document.createElement("div");n.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(n)}},Yw=function(){return c(this,en).replaceAll(""," ")},Sp=function(e){return e.replaceAll(" ","")},Kw=function(e){const{value:n,fontSize:s,color:r,pageIndex:a}=c(this,bo);return this._hasBeenMoved||e.value!==n||e.fontSize!==s||e.color.some((o,l)=>o!==r[l])||e.pageIndex!==a},A(Ut,Zs),ut(Ut,"_freeTextDefaultContent",""),ut(Ut,"_internalPadding",0),ut(Ut,"_defaultColor",null),ut(Ut,"_defaultFontSize",10),ut(Ut,"_type","freetext"),ut(Ut,"_editorType",kt.FREETEXT);let xp=Ut;var Uc,Li,On,Be,Qw,hh,Jw,Zw,_p;class Cp{constructor(t,e=0,n=0,s=!0){A(this,Be);A(this,Uc);A(this,Li,[]);A(this,On,[]);let r=1/0,a=-1/0,o=1/0,l=-1/0;const d=10**-4;for(const{x:b,y:v,width:E,height:x}of t){const C=Math.floor((b-e)/d)*d,S=Math.ceil((b+E+e)/d)*d,k=Math.floor((v-e)/d)*d,L=Math.ceil((v+x+e)/d)*d,T=[C,k,L,!0],M=[S,k,L,!1];c(this,Li).push(T,M),r=Math.min(r,C),a=Math.max(a,S),o=Math.min(o,k),l=Math.max(l,L)}const h=a-r+2*n,u=l-o+2*n,f=r-n,p=o-n,g=c(this,Li).at(s?-1:-2),m=[g[0],g[2]];for(const b of c(this,Li)){const[v,E,x]=b;b[0]=(v-f)/h,b[1]=(E-p)/u,b[2]=(x-p)/u}y(this,Uc,{x:f,y:p,width:h,height:u,lastPoint:m})}getOutlines(){c(this,Li).sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of c(this,Li))e[3]?(t.push(...w(this,Be,_p).call(this,e)),w(this,Be,Jw).call(this,e)):(w(this,Be,Zw).call(this,e),t.push(...w(this,Be,_p).call(this,e)));return w(this,Be,Qw).call(this,t)}}Uc=new WeakMap,Li=new WeakMap,On=new WeakMap,Be=new WeakSet,Qw=function(t){const e=[],n=new Set;for(const a of t){const[o,l,d]=a;e.push([o,l,a],[o,d,a])}e.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=e.length;a<o;a+=2){const l=e[a][2],d=e[a+1][2];l.push(d),d.push(l),n.add(l),n.add(d)}const s=[];let r;for(;n.size>0;){const a=n.values().next().value;let[o,l,d,h,u]=a;n.delete(a);let f=o,p=l;for(r=[o,d],s.push(r);;){let g;if(n.has(h))g=h;else if(n.has(u))g=u;else break;n.delete(g),[o,l,d,h,u]=g,f!==o&&(r.push(f,p,o,p===l?l:d),f=o),p=p===l?d:l}r.push(f,p)}return new IR(s,c(this,Uc))},hh=function(t){const e=c(this,On);let n=0,s=e.length-1;for(;n<=s;){const r=n+s>>1,a=e[r][0];if(a===t)return r;a<t?n=r+1:s=r-1}return s+1},Jw=function([,t,e]){const n=w(this,Be,hh).call(this,t);c(this,On).splice(n,0,[t,e])},Zw=function([,t,e]){const n=w(this,Be,hh).call(this,t);for(let s=n;s<c(this,On).length;s++){const[r,a]=c(this,On)[s];if(r!==t)break;if(r===t&&a===e){c(this,On).splice(s,1);return}}for(let s=n-1;s>=0;s--){const[r,a]=c(this,On)[s];if(r!==t)break;if(r===t&&a===e){c(this,On).splice(s,1);return}}},_p=function(t){const[e,n,s]=t,r=[[e,n,s]],a=w(this,Be,hh).call(this,s);for(let o=0;o<a;o++){const[l,d]=c(this,On)[o];for(let h=0,u=r.length;h<u;h++){const[,f,p]=r[h];if(!(d<=f||p<=l)){if(f>=l){if(p>d)r[h][1]=d;else{if(u===1)return[];r.splice(h,1),h--,u--}continue}r[h][2]=l,p>d&&r.push([e,d,p])}}}return r};class tA{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(t,e){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof Rp}}var Wc,yo;class IR extends tA{constructor(e,n){super();A(this,Wc);A(this,yo);y(this,yo,e),y(this,Wc,n)}toSVGPath(){const e=[];for(const n of c(this,yo)){let[s,r]=n;e.push(`M${s} ${r}`);for(let a=2;a<n.length;a+=2){const o=n[a],l=n[a+1];o===s?(e.push(`V${l}`),r=l):l===r&&(e.push(`H${o}`),s=o)}e.push("Z")}return e.join(" ")}serialize([e,n,s,r],a){const o=[],l=s-e,d=r-n;for(const h of c(this,yo)){const u=new Array(h.length);for(let f=0;f<h.length;f+=2)u[f]=e+h[f]*l,u[f+1]=r-h[f+1]*d;o.push(u)}return o}get box(){return c(this,Wc)}}Wc=new WeakMap,yo=new WeakMap;var Jn,js,wo,Ao,Zn,_t,Wr,Vr,Vc,qc,Eo,xo,Mi,Gc,eu,nu,Xc,kp;const xs=class xs{constructor({x:t,y:e},n,s,r,a,o=0){A(this,Xc);A(this,Jn);A(this,js,[]);A(this,wo);A(this,Ao);A(this,Zn,[]);A(this,_t,new Float64Array(18));A(this,Wr);A(this,Vr);A(this,Vc);A(this,qc);A(this,Eo);A(this,xo);A(this,Mi,[]);y(this,Jn,n),y(this,xo,r*s),y(this,Ao,a),c(this,_t).set([NaN,NaN,NaN,NaN,t,e],6),y(this,wo,o),y(this,qc,c(xs,Gc)*s),y(this,Vc,c(xs,nu)*s),y(this,Eo,s),c(this,Mi).push(t,e)}get free(){return!0}isEmpty(){return isNaN(c(this,_t)[8])}add({x:t,y:e}){var M;y(this,Wr,t),y(this,Vr,e);const[n,s,r,a]=c(this,Jn);let[o,l,d,h]=c(this,_t).subarray(8,12);const u=t-d,f=e-h,p=Math.hypot(u,f);if(p<c(this,Vc))return!1;const g=p-c(this,qc),m=g/p,b=m*u,v=m*f;let E=o,x=l;o=d,l=h,d+=b,h+=v,(M=c(this,Mi))==null||M.push(t,e);const C=-v/g,S=b/g,k=C*c(this,xo),L=S*c(this,xo);return c(this,_t).set(c(this,_t).subarray(2,8),0),c(this,_t).set([d+k,h+L],4),c(this,_t).set(c(this,_t).subarray(14,18),12),c(this,_t).set([d-k,h-L],16),isNaN(c(this,_t)[6])?(c(this,Zn).length===0&&(c(this,_t).set([o+k,l+L],2),c(this,Zn).push(NaN,NaN,NaN,NaN,(o+k-n)/r,(l+L-s)/a),c(this,_t).set([o-k,l-L],14),c(this,js).push(NaN,NaN,NaN,NaN,(o-k-n)/r,(l-L-s)/a)),c(this,_t).set([E,x,o,l,d,h],6),!this.isEmpty()):(c(this,_t).set([E,x,o,l,d,h],6),Math.abs(Math.atan2(x-l,E-o)-Math.atan2(v,b))<Math.PI/2?([o,l,d,h]=c(this,_t).subarray(2,6),c(this,Zn).push(NaN,NaN,NaN,NaN,((o+d)/2-n)/r,((l+h)/2-s)/a),[o,l,E,x]=c(this,_t).subarray(14,18),c(this,js).push(NaN,NaN,NaN,NaN,((E+o)/2-n)/r,((x+l)/2-s)/a),!0):([E,x,o,l,d,h]=c(this,_t).subarray(0,6),c(this,Zn).push(((E+5*o)/6-n)/r,((x+5*l)/6-s)/a,((5*o+d)/6-n)/r,((5*l+h)/6-s)/a,((o+d)/2-n)/r,((l+h)/2-s)/a),[d,h,o,l,E,x]=c(this,_t).subarray(12,18),c(this,js).push(((E+5*o)/6-n)/r,((x+5*l)/6-s)/a,((5*o+d)/6-n)/r,((5*l+h)/6-s)/a,((o+d)/2-n)/r,((l+h)/2-s)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const t=c(this,Zn),e=c(this,js),n=c(this,_t).subarray(4,6),s=c(this,_t).subarray(16,18),[r,a,o,l]=c(this,Jn),[d,h,u,f]=w(this,Xc,kp).call(this);if(isNaN(c(this,_t)[6])&&!this.isEmpty())return`M${(c(this,_t)[2]-r)/o} ${(c(this,_t)[3]-a)/l} L${(c(this,_t)[4]-r)/o} ${(c(this,_t)[5]-a)/l} L${d} ${h} L${u} ${f} L${(c(this,_t)[16]-r)/o} ${(c(this,_t)[17]-a)/l} L${(c(this,_t)[14]-r)/o} ${(c(this,_t)[15]-a)/l} Z`;const p=[];p.push(`M${t[4]} ${t[5]}`);for(let g=6;g<t.length;g+=6)isNaN(t[g])?p.push(`L${t[g+4]} ${t[g+5]}`):p.push(`C${t[g]} ${t[g+1]} ${t[g+2]} ${t[g+3]} ${t[g+4]} ${t[g+5]}`);p.push(`L${(n[0]-r)/o} ${(n[1]-a)/l} L${d} ${h} L${u} ${f} L${(s[0]-r)/o} ${(s[1]-a)/l}`);for(let g=e.length-6;g>=6;g-=6)isNaN(e[g])?p.push(`L${e[g+4]} ${e[g+5]}`):p.push(`C${e[g]} ${e[g+1]} ${e[g+2]} ${e[g+3]} ${e[g+4]} ${e[g+5]}`);return p.push(`L${e[4]} ${e[5]} Z`),p.join(" ")}getOutlines(){var v;const t=c(this,Zn),e=c(this,js),n=c(this,_t),s=n.subarray(4,6),r=n.subarray(16,18),[a,o,l,d]=c(this,Jn),h=new Float64Array((((v=c(this,Mi))==null?void 0:v.length)??0)+2);for(let E=0,x=h.length-2;E<x;E+=2)h[E]=(c(this,Mi)[E]-a)/l,h[E+1]=(c(this,Mi)[E+1]-o)/d;h[h.length-2]=(c(this,Wr)-a)/l,h[h.length-1]=(c(this,Vr)-o)/d;const[u,f,p,g]=w(this,Xc,kp).call(this);if(isNaN(n[6])&&!this.isEmpty()){const E=new Float64Array(36);return E.set([NaN,NaN,NaN,NaN,(n[2]-a)/l,(n[3]-o)/d,NaN,NaN,NaN,NaN,(n[4]-a)/l,(n[5]-o)/d,NaN,NaN,NaN,NaN,u,f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(n[16]-a)/l,(n[17]-o)/d,NaN,NaN,NaN,NaN,(n[14]-a)/l,(n[15]-o)/d],0),new Rp(E,h,c(this,Jn),c(this,Eo),c(this,wo),c(this,Ao))}const m=new Float64Array(c(this,Zn).length+24+c(this,js).length);let b=t.length;for(let E=0;E<b;E+=2){if(isNaN(t[E])){m[E]=m[E+1]=NaN;continue}m[E]=t[E],m[E+1]=t[E+1]}m.set([NaN,NaN,NaN,NaN,(s[0]-a)/l,(s[1]-o)/d,NaN,NaN,NaN,NaN,u,f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(r[0]-a)/l,(r[1]-o)/d],b),b+=24;for(let E=e.length-6;E>=6;E-=6)for(let x=0;x<6;x+=2){if(isNaN(e[E+x])){m[b]=m[b+1]=NaN,b+=2;continue}m[b]=e[E+x],m[b+1]=e[E+x+1],b+=2}return m.set([NaN,NaN,NaN,NaN,e[4],e[5]],b),new Rp(m,h,c(this,Jn),c(this,Eo),c(this,wo),c(this,Ao))}};Jn=new WeakMap,js=new WeakMap,wo=new WeakMap,Ao=new WeakMap,Zn=new WeakMap,_t=new WeakMap,Wr=new WeakMap,Vr=new WeakMap,Vc=new WeakMap,qc=new WeakMap,Eo=new WeakMap,xo=new WeakMap,Mi=new WeakMap,Gc=new WeakMap,eu=new WeakMap,nu=new WeakMap,Xc=new WeakSet,kp=function(){const t=c(this,_t).subarray(4,6),e=c(this,_t).subarray(16,18),[n,s,r,a]=c(this,Jn);return[(c(this,Wr)+(t[0]-e[0])/2-n)/r,(c(this,Vr)+(t[1]-e[1])/2-s)/a,(c(this,Wr)+(e[0]-t[0])/2-n)/r,(c(this,Vr)+(e[1]-t[1])/2-s)/a]},A(xs,Gc,8),A(xs,eu,2),A(xs,nu,c(xs,Gc)+c(xs,eu));let Nh=xs;var So,qr,$s,Yc,sn,Kc,Jt,qe,fl,pl,eA;class Rp extends tA{constructor(e,n,s,r,a,o){super();A(this,qe);A(this,So);A(this,qr,null);A(this,$s);A(this,Yc);A(this,sn);A(this,Kc);A(this,Jt);y(this,Jt,e),y(this,sn,n),y(this,So,s),y(this,Kc,r),y(this,$s,a),y(this,Yc,o),w(this,qe,eA).call(this,o);const{x:l,y:d,width:h,height:u}=c(this,qr);for(let f=0,p=e.length;f<p;f+=2)e[f]=(e[f]-l)/h,e[f+1]=(e[f+1]-d)/u;for(let f=0,p=n.length;f<p;f+=2)n[f]=(n[f]-l)/h,n[f+1]=(n[f+1]-d)/u}toSVGPath(){const e=[`M${c(this,Jt)[4]} ${c(this,Jt)[5]}`];for(let n=6,s=c(this,Jt).length;n<s;n+=6){if(isNaN(c(this,Jt)[n])){e.push(`L${c(this,Jt)[n+4]} ${c(this,Jt)[n+5]}`);continue}e.push(`C${c(this,Jt)[n]} ${c(this,Jt)[n+1]} ${c(this,Jt)[n+2]} ${c(this,Jt)[n+3]} ${c(this,Jt)[n+4]} ${c(this,Jt)[n+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,n,s,r],a){const o=s-e,l=r-n;let d,h;switch(a){case 0:d=w(this,qe,fl).call(this,c(this,Jt),e,r,o,-l),h=w(this,qe,fl).call(this,c(this,sn),e,r,o,-l);break;case 90:d=w(this,qe,pl).call(this,c(this,Jt),e,n,o,l),h=w(this,qe,pl).call(this,c(this,sn),e,n,o,l);break;case 180:d=w(this,qe,fl).call(this,c(this,Jt),s,n,-o,l),h=w(this,qe,fl).call(this,c(this,sn),s,n,-o,l);break;case 270:d=w(this,qe,pl).call(this,c(this,Jt),s,r,-o,-l),h=w(this,qe,pl).call(this,c(this,sn),s,r,-o,-l);break}return{outline:Array.from(d),points:[Array.from(h)]}}get box(){return c(this,qr)}getNewOutline(e,n){const{x:s,y:r,width:a,height:o}=c(this,qr),[l,d,h,u]=c(this,So),f=a*h,p=o*u,g=s*h+l,m=r*u+d,b=new Nh({x:c(this,sn)[0]*f+g,y:c(this,sn)[1]*p+m},c(this,So),c(this,Kc),e,c(this,Yc),n??c(this,$s));for(let v=2;v<c(this,sn).length;v+=2)b.add({x:c(this,sn)[v]*f+g,y:c(this,sn)[v+1]*p+m});return b.getOutlines()}}So=new WeakMap,qr=new WeakMap,$s=new WeakMap,Yc=new WeakMap,sn=new WeakMap,Kc=new WeakMap,Jt=new WeakMap,qe=new WeakSet,fl=function(e,n,s,r,a){const o=new Float64Array(e.length);for(let l=0,d=e.length;l<d;l+=2)o[l]=n+e[l]*r,o[l+1]=s+e[l+1]*a;return o},pl=function(e,n,s,r,a){const o=new Float64Array(e.length);for(let l=0,d=e.length;l<d;l+=2)o[l]=n+e[l+1]*r,o[l+1]=s+e[l]*a;return o},eA=function(e){const n=c(this,Jt);let s=n[4],r=n[5],a=s,o=r,l=s,d=r,h=s,u=r;const f=e?Math.max:Math.min;for(let v=6,E=n.length;v<E;v+=6){if(isNaN(n[v]))a=Math.min(a,n[v+4]),o=Math.min(o,n[v+5]),l=Math.max(l,n[v+4]),d=Math.max(d,n[v+5]),u<n[v+5]?(h=n[v+4],u=n[v+5]):u===n[v+5]&&(h=f(h,n[v+4]));else{const x=nt.bezierBoundingBox(s,r,...n.slice(v,v+6));a=Math.min(a,x[0]),o=Math.min(o,x[1]),l=Math.max(l,x[2]),d=Math.max(d,x[3]),u<x[3]?(h=x[2],u=x[3]):u===x[3]&&(h=f(h,x[2]))}s=n[v+4],r=n[v+5]}const p=a-c(this,$s),g=o-c(this,$s),m=l-a+2*c(this,$s),b=d-o+2*c(this,$s);y(this,qr,{x:p,y:g,width:m,height:b,lastPoint:[h,u]})};var Qc,Jc,Nn,Gr,Co,oe,Zc,_o,td,ed,Fn,ko,$t,Pp,Tp,nA,rr,sA,mi;const Ss=class Ss{constructor({editor:t=null,uiManager:e=null}){A(this,$t);A(this,Qc,w(this,$t,nA).bind(this));A(this,Jc,w(this,$t,sA).bind(this));A(this,Nn,null);A(this,Gr,null);A(this,Co);A(this,oe,null);A(this,Zc,!1);A(this,_o,!1);A(this,td,null);A(this,ed);A(this,Fn,null);A(this,ko);var n;t?(y(this,_o,!1),y(this,ko,ht.HIGHLIGHT_COLOR),y(this,td,t)):(y(this,_o,!0),y(this,ko,ht.HIGHLIGHT_DEFAULT_COLOR)),y(this,Fn,(t==null?void 0:t._uiManager)||e),y(this,ed,c(this,Fn)._eventBus),y(this,Co,(t==null?void 0:t.color)||((n=c(this,Fn))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return Pt(this,"_keyboardManager",new vd([[["Escape","mac+Escape"],Ss.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ss.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ss.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ss.prototype._moveToPrevious],[["Home","mac+Home"],Ss.prototype._moveToBeginning],[["End","mac+End"],Ss.prototype._moveToEnd]]))}renderButton(){const t=y(this,Nn,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=c(this,Fn)._signal;t.addEventListener("click",w(this,$t,rr).bind(this),{signal:e}),t.addEventListener("keydown",c(this,Qc),{signal:e});const n=y(this,Gr,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=c(this,Co),t.append(n),t}renderMainDropdown(){const t=y(this,oe,w(this,$t,Pp).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===c(this,Nn)){w(this,$t,rr).call(this,t);return}const e=t.target.getAttribute("data-color");e&&w(this,$t,Tp).call(this,e,t)}_moveToNext(t){var e,n;if(!c(this,$t,mi)){w(this,$t,rr).call(this,t);return}if(t.target===c(this,Nn)){(e=c(this,oe).firstChild)==null||e.focus();return}(n=t.target.nextSibling)==null||n.focus()}_moveToPrevious(t){var e,n;if(t.target===((e=c(this,oe))==null?void 0:e.firstChild)||t.target===c(this,Nn)){c(this,$t,mi)&&this._hideDropdownFromKeyboard();return}c(this,$t,mi)||w(this,$t,rr).call(this,t),(n=t.target.previousSibling)==null||n.focus()}_moveToBeginning(t){var e;if(!c(this,$t,mi)){w(this,$t,rr).call(this,t);return}(e=c(this,oe).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!c(this,$t,mi)){w(this,$t,rr).call(this,t);return}(e=c(this,oe).lastChild)==null||e.focus()}hideDropdown(){var t;(t=c(this,oe))==null||t.classList.add("hidden"),window.removeEventListener("pointerdown",c(this,Jc))}_hideDropdownFromKeyboard(){var t;if(!c(this,_o)){if(!c(this,$t,mi)){(t=c(this,td))==null||t.unselect();return}this.hideDropdown(),c(this,Nn).focus({preventScroll:!0,focusVisible:c(this,Zc)})}}updateColor(t){if(c(this,Gr)&&(c(this,Gr).style.backgroundColor=t),!c(this,oe))return;const e=c(this,Fn).highlightColors.values();for(const n of c(this,oe).children)n.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=c(this,Nn))==null||t.remove(),y(this,Nn,null),y(this,Gr,null),(e=c(this,oe))==null||e.remove(),y(this,oe,null)}};Qc=new WeakMap,Jc=new WeakMap,Nn=new WeakMap,Gr=new WeakMap,Co=new WeakMap,oe=new WeakMap,Zc=new WeakMap,_o=new WeakMap,td=new WeakMap,ed=new WeakMap,Fn=new WeakMap,ko=new WeakMap,$t=new WeakSet,Pp=function(){const t=document.createElement("div"),e=c(this,Fn)._signal;t.addEventListener("contextmenu",Ge,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,s]of c(this,Fn).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",s),r.title=n,r.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${n}`);const a=document.createElement("span");r.append(a),a.className="swatch",a.style.backgroundColor=s,r.setAttribute("aria-selected",s===c(this,Co)),r.addEventListener("click",w(this,$t,Tp).bind(this,s),{signal:e}),t.append(r)}return t.addEventListener("keydown",c(this,Qc),{signal:e}),t},Tp=function(t,e){e.stopPropagation(),c(this,ed).dispatch("switchannotationeditorparams",{source:this,type:c(this,ko),value:t})},nA=function(t){Ss._keyboardManager.exec(this,t)},rr=function(t){if(c(this,$t,mi)){this.hideDropdown();return}if(y(this,Zc,t.detail===0),window.addEventListener("pointerdown",c(this,Jc),{signal:c(this,Fn)._signal}),c(this,oe)){c(this,oe).classList.remove("hidden");return}const e=y(this,oe,w(this,$t,Pp).call(this));c(this,Nn).append(e)},sA=function(t){var e;(e=c(this,oe))!=null&&e.contains(t.target)||this.hideDropdown()},mi=function(){return c(this,oe)&&!c(this,oe).classList.contains("hidden")};let Fh=Ss;var Ro,nd,Ii,Xr,Po,bn,sd,id,Yr,Hn,Oe,rn,su,To,Kr,le,Lo,ts,rd,xt,Lp,Mp,iA,rA,aA,Ip,gl,En,ka,oA,uh,ml,lA,cA,dA,hA;const Mt=class Mt extends Nt{constructor(e){super({...e,name:"highlightEditor"});A(this,xt);A(this,Ro,null);A(this,nd,0);A(this,Ii);A(this,Xr,null);A(this,Po,null);A(this,bn,null);A(this,sd,null);A(this,id,0);A(this,Yr,null);A(this,Hn,null);A(this,Oe,null);A(this,rn,!1);A(this,su,w(this,xt,oA).bind(this));A(this,To,null);A(this,Kr);A(this,le,null);A(this,Lo,"");A(this,ts);A(this,rd,"");this.color=e.color||Mt._defaultColor,y(this,ts,e.thickness||Mt._defaultThickness),y(this,Kr,e.opacity||Mt._defaultOpacity),y(this,Ii,e.boxes||null),y(this,rd,e.methodOfCreation||""),y(this,Lo,e.text||""),this._isDraggable=!1,e.highlightId>-1?(y(this,rn,!0),w(this,xt,Mp).call(this,e),w(this,xt,gl).call(this)):(y(this,Ro,e.anchorNode),y(this,nd,e.anchorOffset),y(this,sd,e.focusNode),y(this,id,e.focusOffset),w(this,xt,Lp).call(this),w(this,xt,gl).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=Mt.prototype;return Pt(this,"_keyboardManager",new vd([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:c(this,rn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:c(this,ts),methodOfCreation:c(this,rd)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,n){var s;Nt.initialize(e,n),Mt._defaultColor||(Mt._defaultColor=((s=n.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(e,n){switch(e){case ht.HIGHLIGHT_DEFAULT_COLOR:Mt._defaultColor=n;break;case ht.HIGHLIGHT_THICKNESS:Mt._defaultThickness=n;break}}translateInPage(e,n){}get toolbarPosition(){return c(this,To)}updateParams(e,n){switch(e){case ht.HIGHLIGHT_COLOR:w(this,xt,iA).call(this,n);break;case ht.HIGHLIGHT_THICKNESS:w(this,xt,rA).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[ht.HIGHLIGHT_DEFAULT_COLOR,Mt._defaultColor],[ht.HIGHLIGHT_THICKNESS,Mt._defaultThickness]]}get propertiesToUpdate(){return[[ht.HIGHLIGHT_COLOR,this.color||Mt._defaultColor],[ht.HIGHLIGHT_THICKNESS,c(this,ts)||Mt._defaultThickness],[ht.HIGHLIGHT_FREE,c(this,rn)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(y(this,Po,new Fh({editor:this})),e.addColorPicker(c(this,Po))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(w(this,xt,ml).call(this))}getBaseTranslation(){return[0,0]}getRect(e,n){return super.getRect(e,n,w(this,xt,ml).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){w(this,xt,Ip).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(w(this,xt,gl).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var s;let n=!1;this.parent&&!e?w(this,xt,Ip).call(this):e&&(w(this,xt,gl).call(this,e),n=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),n&&this.select()}rotate(e){var r,a,o;const{drawLayer:n}=this.parent;let s;c(this,rn)?(e=(e-this.rotation+360)%360,s=w(r=Mt,En,ka).call(r,c(this,Hn).box,e)):s=w(a=Mt,En,ka).call(a,this,e),n.rotate(c(this,Oe),e),n.rotate(c(this,le),e),n.updateBox(c(this,Oe),s),n.updateBox(c(this,le),w(o=Mt,En,ka).call(o,c(this,bn).box,e))}render(){if(this.div)return this.div;const e=super.render();c(this,Lo)&&(e.setAttribute("aria-label",c(this,Lo)),e.setAttribute("role","mark")),c(this,rn)?e.classList.add("free"):this.div.addEventListener("keydown",c(this,su),{signal:this._uiManager._signal});const n=y(this,Yr,document.createElement("div"));e.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=c(this,Xr);const[s,r]=this.parentDimensions;return this.setDims(this.width*s,this.height*r),Mh(this,c(this,Yr),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.parent.drawLayer.addClass(c(this,le),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(c(this,le),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:w(this,xt,uh).call(this,!0);break;case 1:case 3:w(this,xt,uh).call(this,!1);break}}select(){var e,n;super.select(),c(this,le)&&((e=this.parent)==null||e.drawLayer.removeClass(c(this,le),"hovered"),(n=this.parent)==null||n.drawLayer.addClass(c(this,le),"selected"))}unselect(){var e;super.unselect(),c(this,le)&&((e=this.parent)==null||e.drawLayer.removeClass(c(this,le),"selected"),c(this,rn)||w(this,xt,uh).call(this,!1))}get _mustFixPosition(){return!c(this,rn)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(c(this,Oe),e),this.parent.drawLayer.show(c(this,le),e))}static startHighlighting(e,n,{target:s,x:r,y:a}){const{x:o,y:l,width:d,height:h}=s.getBoundingClientRect(),u=b=>{w(this,En,dA).call(this,e,b)},f=e._signal,p={capture:!0,passive:!1,signal:f},g=b=>{b.preventDefault(),b.stopPropagation()},m=b=>{s.removeEventListener("pointermove",u),window.removeEventListener("blur",m),window.removeEventListener("pointerup",m),window.removeEventListener("pointerdown",g,p),window.removeEventListener("contextmenu",Ge),w(this,En,hA).call(this,e,b)};window.addEventListener("blur",m,{signal:f}),window.addEventListener("pointerup",m,{signal:f}),window.addEventListener("pointerdown",g,p),window.addEventListener("contextmenu",Ge,{signal:f}),s.addEventListener("pointermove",u,{signal:f}),this._freeHighlight=new Nh({x:r,y:a},[o,l,d,h],e.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(e,n,s){var m;const r=super.deserialize(e,n,s),{rect:[a,o,l,d],color:h,quadPoints:u}=e;r.color=nt.makeHexColor(...h),y(r,Kr,e.opacity);const[f,p]=r.pageDimensions;r.width=(l-a)/f,r.height=(d-o)/p;const g=y(r,Ii,[]);for(let b=0;b<u.length;b+=8)g.push({x:(u[4]-l)/f,y:(d-(1-u[b+5]))/p,width:(u[b+2]-u[b])/f,height:(u[b+5]-u[b+1])/p});return w(m=r,xt,Lp).call(m),r}serialize(e=!1){if(this.isEmpty()||e)return null;const n=this.getRect(0,0),s=Nt._colorManager.convert(this.color);return{annotationType:kt.HIGHLIGHT,color:s,opacity:c(this,Kr),thickness:c(this,ts),quadPoints:w(this,xt,lA).call(this),outlines:w(this,xt,cA).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:w(this,xt,ml).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};Ro=new WeakMap,nd=new WeakMap,Ii=new WeakMap,Xr=new WeakMap,Po=new WeakMap,bn=new WeakMap,sd=new WeakMap,id=new WeakMap,Yr=new WeakMap,Hn=new WeakMap,Oe=new WeakMap,rn=new WeakMap,su=new WeakMap,To=new WeakMap,Kr=new WeakMap,le=new WeakMap,Lo=new WeakMap,ts=new WeakMap,rd=new WeakMap,xt=new WeakSet,Lp=function(){const e=new Cp(c(this,Ii),.001);y(this,Hn,e.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=c(this,Hn).box;const n=new Cp(c(this,Ii),.0025,.001,this._uiManager.direction==="ltr");y(this,bn,n.getOutlines());const{lastPoint:s}=c(this,bn).box;y(this,To,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},Mp=function({highlightOutlines:e,highlightId:n,clipPathId:s}){var u,f;if(y(this,Hn,e),y(this,bn,e.getNewOutline(c(this,ts)/2+1.5,.0025)),n>=0)y(this,Oe,n),y(this,Xr,s),this.parent.drawLayer.finalizeLine(n,e),y(this,le,this.parent.drawLayer.highlightOutline(c(this,bn)));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(c(this,Oe),e),this.parent.drawLayer.updateBox(c(this,Oe),w(u=Mt,En,ka).call(u,c(this,Hn).box,(p-this.rotation+360)%360)),this.parent.drawLayer.updateLine(c(this,le),c(this,bn)),this.parent.drawLayer.updateBox(c(this,le),w(f=Mt,En,ka).call(f,c(this,bn).box,p))}const{x:a,y:o,width:l,height:d}=e.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=d;break;case 90:{const[p,g]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*g/p,this.height=d*p/g;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=d;break;case 270:{const[p,g]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*g/p,this.height=d*p/g;break}}const{lastPoint:h}=c(this,bn).box;y(this,To,[(h[0]-a)/l,(h[1]-o)/d])},iA=function(e){const n=r=>{var a,o;this.color=r,(a=this.parent)==null||a.drawLayer.changeColor(c(this,Oe),r),(o=c(this,Po))==null||o.updateColor(r)},s=this.color;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ht.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},rA=function(e){const n=c(this,ts),s=r=>{y(this,ts,r),w(this,xt,aA).call(this,r)};this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ht.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},aA=function(e){if(!c(this,rn))return;w(this,xt,Mp).call(this,{highlightOutlines:c(this,Hn).getNewOutline(e/2)}),this.fixAndSetPosition();const[n,s]=this.parentDimensions;this.setDims(this.width*n,this.height*s)},Ip=function(){c(this,Oe)===null||!this.parent||(this.parent.drawLayer.remove(c(this,Oe)),y(this,Oe,null),this.parent.drawLayer.remove(c(this,le)),y(this,le,null))},gl=function(e=this.parent){c(this,Oe)===null&&({id:Ye(this,Oe)._,clipPathId:Ye(this,Xr)._}=e.drawLayer.highlight(c(this,Hn),this.color,c(this,Kr)),y(this,le,e.drawLayer.highlightOutline(c(this,bn))),c(this,Yr)&&(c(this,Yr).style.clipPath=c(this,Xr)))},En=new WeakSet,ka=function({x:e,y:n,width:s,height:r},a){switch(a){case 90:return{x:1-n-r,y:e,width:r,height:s};case 180:return{x:1-e-s,y:1-n-r,width:s,height:r};case 270:return{x:n,y:1-e-s,width:r,height:s}}return{x:e,y:n,width:s,height:r}},oA=function(e){Mt._keyboardManager.exec(this,e)},uh=function(e){if(!c(this,Ro))return;const n=window.getSelection();e?n.setPosition(c(this,Ro),c(this,nd)):n.setPosition(c(this,sd),c(this,id))},ml=function(){return c(this,rn)?this.rotation:0},lA=function(){if(c(this,rn))return null;const[e,n]=this.pageDimensions,s=c(this,Ii),r=new Float32Array(s.length*8);let a=0;for(const{x:o,y:l,width:d,height:h}of s){const u=o*e,f=(1-l-h)*n;r[a]=r[a+4]=u,r[a+1]=r[a+3]=f,r[a+2]=r[a+6]=u+d*e,r[a+5]=r[a+7]=f+h*n,a+=8}return r},cA=function(e){return c(this,Hn).serialize(e,w(this,xt,ml).call(this))},dA=function(e,n){this._freeHighlight.add(n)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},hA=function(e,n){this._freeHighlight.isEmpty()?e.drawLayer.removeFreeHighlight(this._freeHighlightId):e.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},A(Mt,En),ut(Mt,"_defaultColor",null),ut(Mt,"_defaultOpacity",1),ut(Mt,"_defaultThickness",12),ut(Mt,"_l10nPromise"),ut(Mt,"_type","highlight"),ut(Mt,"_editorType",kt.HIGHLIGHT),ut(Mt,"_freeHighlightId",-1),ut(Mt,"_freeHighlight",null),ut(Mt,"_freeHighlightClipId","");let Hh=Mt;var Qr,Jr,ad,od,ld,Zr,es,Us,yn,ta,ea,Ws,na,sa,Di,Y,uA,fA,pA,gA,Op,mA,Np,vA,bA,yA,wA,AA,ar,Fp,fh,ph,Ra,Hp,gh,ai,EA,Bp,xA,SA,zp,mh,vl;const qt=class qt extends Nt{constructor(e){super({...e,name:"inkEditor"});A(this,Y);A(this,Qr,0);A(this,Jr,0);A(this,ad,this.canvasPointermove.bind(this));A(this,od,this.canvasPointerleave.bind(this));A(this,ld,this.canvasPointerup.bind(this));A(this,Zr,this.canvasPointerdown.bind(this));A(this,es,null);A(this,Us,new Path2D);A(this,yn,!1);A(this,ta,!1);A(this,ea,!1);A(this,Ws,null);A(this,na,0);A(this,sa,0);A(this,Di,null);this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,n){Nt.initialize(e,n)}static updateDefaultParams(e,n){switch(e){case ht.INK_THICKNESS:qt._defaultThickness=n;break;case ht.INK_COLOR:qt._defaultColor=n;break;case ht.INK_OPACITY:qt._defaultOpacity=n/100;break}}updateParams(e,n){switch(e){case ht.INK_THICKNESS:w(this,Y,uA).call(this,n);break;case ht.INK_COLOR:w(this,Y,fA).call(this,n);break;case ht.INK_OPACITY:w(this,Y,pA).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[ht.INK_THICKNESS,qt._defaultThickness],[ht.INK_COLOR,qt._defaultColor||Nt._defaultLineColor],[ht.INK_OPACITY,Math.round(qt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[ht.INK_THICKNESS,this.thickness||qt._defaultThickness],[ht.INK_COLOR,this.color||qt._defaultColor||Nt._defaultLineColor],[ht.INK_OPACITY,Math.round(100*(this.opacity??qt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(w(this,Y,fh).call(this),w(this,Y,ph).call(this)),this.isAttachedToDOM||(this.parent.add(this),w(this,Y,Ra).call(this)),w(this,Y,vl).call(this)))}remove(){var e;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,c(this,es)&&(clearTimeout(c(this,es)),y(this,es,null)),(e=c(this,Ws))==null||e.disconnect(),y(this,Ws,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,n]=this.parentDimensions,s=this.width*e,r=this.height*n;this.setDimensions(s,r)}enableEditMode(){c(this,yn)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",c(this,Zr),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",c(this,Zr)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){c(this,yn)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),y(this,yn,!0),this.div.classList.add("disabled"),w(this,Y,vl).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||c(this,yn)||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),w(this,Y,mA).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),w(this,Y,Np).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),w(this,Y,Fp).call(this,e)}canvasPointerleave(e){w(this,Y,Fp).call(this,e)}get isResizable(){return!this.isEmpty()&&c(this,yn)}render(){if(this.div)return this.div;let e,n;this.width&&(e=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[s,r,a,o]=w(this,Y,gA).call(this);if(this.setAt(s,r,0,0),this.setDims(a,o),w(this,Y,fh).call(this),this.width){const[l,d]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*d),this.setAt(e*l,n*d,this.width*l,this.height*d),y(this,ea,!0),w(this,Y,Ra).call(this),this.setDims(this.width*l,this.height*d),w(this,Y,ar).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return w(this,Y,ph).call(this),this.div}setDimensions(e,n){const s=Math.round(e),r=Math.round(n);if(c(this,na)===s&&c(this,sa)===r)return;y(this,na,s),y(this,sa,r),this.canvas.style.visibility="hidden";const[a,o]=this.parentDimensions;this.width=e/a,this.height=n/o,this.fixAndSetPosition(),c(this,yn)&&w(this,Y,Hp).call(this,e,n),w(this,Y,Ra).call(this),w(this,Y,ar).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(e,n,s){var b,v,E;if(e instanceof Uw)return null;const r=super.deserialize(e,n,s);r.thickness=e.thickness,r.color=nt.makeHexColor(...e.color),r.opacity=e.opacity;const[a,o]=r.pageDimensions,l=r.width*a,d=r.height*o,h=r.parentScale,u=e.thickness/2;y(r,yn,!0),y(r,na,Math.round(l)),y(r,sa,Math.round(d));const{paths:f,rect:p,rotation:g}=e;for(let{bezier:x}of f){x=w(b=qt,ai,xA).call(b,x,p,g);const C=[];r.paths.push(C);let S=h*(x[0]-u),k=h*(x[1]-u);for(let T=2,M=x.length;T<M;T+=6){const _=h*(x[T]-u),I=h*(x[T+1]-u),F=h*(x[T+2]-u),H=h*(x[T+3]-u),B=h*(x[T+4]-u),W=h*(x[T+5]-u);C.push([[S,k],[_,I],[F,H],[B,W]]),S=B,k=W}const L=w(this,ai,EA).call(this,C);r.bezierPath2D.push(L)}const m=w(v=r,Y,zp).call(v);return y(r,Jr,Math.max(Nt.MIN_SIZE,m[2]-m[0])),y(r,Qr,Math.max(Nt.MIN_SIZE,m[3]-m[1])),w(E=r,Y,Hp).call(E,l,d),r}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),n=Nt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:kt.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:w(this,Y,SA).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Qr=new WeakMap,Jr=new WeakMap,ad=new WeakMap,od=new WeakMap,ld=new WeakMap,Zr=new WeakMap,es=new WeakMap,Us=new WeakMap,yn=new WeakMap,ta=new WeakMap,ea=new WeakMap,Ws=new WeakMap,na=new WeakMap,sa=new WeakMap,Di=new WeakMap,Y=new WeakSet,uA=function(e){const n=r=>{this.thickness=r,w(this,Y,vl).call(this)},s=this.thickness;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ht.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},fA=function(e){const n=r=>{this.color=r,w(this,Y,ar).call(this)},s=this.color;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ht.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},pA=function(e){const n=r=>{this.opacity=r,w(this,Y,ar).call(this)};e/=100;const s=this.opacity;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ht.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},gA=function(){const{parentRotation:e,parentDimensions:[n,s]}=this;switch(e){case 90:return[0,s,s,n];case 180:return[n,s,n,s];case 270:return[n,0,s,n];default:return[0,0,n,s]}},Op=function(){const{ctx:e,color:n,opacity:s,thickness:r,parentScale:a,scaleFactor:o}=this;e.lineWidth=r*a/o,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${n}${s1(s)}`},mA=function(e,n){const s=this._uiManager._signal;this.canvas.addEventListener("contextmenu",Ge,{signal:s}),this.canvas.addEventListener("pointerleave",c(this,od),{signal:s}),this.canvas.addEventListener("pointermove",c(this,ad),{signal:s}),this.canvas.addEventListener("pointerup",c(this,ld),{signal:s}),this.canvas.removeEventListener("pointerdown",c(this,Zr)),this.isEditing=!0,c(this,ea)||(y(this,ea,!0),w(this,Y,Ra).call(this),this.thickness||(this.thickness=qt._defaultThickness),this.color||(this.color=qt._defaultColor||Nt._defaultLineColor),this.opacity??(this.opacity=qt._defaultOpacity)),this.currentPath.push([e,n]),y(this,ta,!1),w(this,Y,Op).call(this),y(this,Di,()=>{w(this,Y,yA).call(this),c(this,Di)&&window.requestAnimationFrame(c(this,Di))}),window.requestAnimationFrame(c(this,Di))},Np=function(e,n){const[s,r]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===s&&n===r)return;const a=this.currentPath;let o=c(this,Us);if(a.push([e,n]),y(this,ta,!0),a.length<=2){o.moveTo(...a[0]),o.lineTo(e,n);return}a.length===3&&(y(this,Us,o=new Path2D),o.moveTo(...a[0])),w(this,Y,wA).call(this,o,...a.at(-3),...a.at(-2),e,n)},vA=function(){if(this.currentPath.length===0)return;const e=this.currentPath.at(-1);c(this,Us).lineTo(...e)},bA=function(e,n){y(this,Di,null),e=Math.min(Math.max(e,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),w(this,Y,Np).call(this,e,n),w(this,Y,vA).call(this);let s;if(this.currentPath.length!==1)s=w(this,Y,AA).call(this);else{const d=[e,n];s=[[d,d.slice(),d.slice(),d]]}const r=c(this,Us),a=this.currentPath;this.currentPath=[],y(this,Us,new Path2D);const o=()=>{this.allRawPaths.push(a),this.paths.push(s),this.bezierPath2D.push(r),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(w(this,Y,fh).call(this),w(this,Y,ph).call(this)),w(this,Y,vl).call(this))};this.addCommands({cmd:o,undo:l,mustExec:!0})},yA=function(){if(!c(this,ta))return;y(this,ta,!1);const e=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),s=n.map(o=>o[0]),r=n.map(o=>o[1]);Math.min(...s)-e,Math.max(...s)+e,Math.min(...r)-e,Math.max(...r)+e;const{ctx:a}=this;a.save(),a.clearRect(0,0,this.canvas.width,this.canvas.height);for(const o of this.bezierPath2D)a.stroke(o);a.stroke(c(this,Us)),a.restore()},wA=function(e,n,s,r,a,o,l){const d=(n+r)/2,h=(s+a)/2,u=(r+o)/2,f=(a+l)/2;e.bezierCurveTo(d+2*(r-d)/3,h+2*(a-h)/3,u+2*(r-u)/3,f+2*(a-f)/3,u,f)},AA=function(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const n=[];let s,[r,a]=e[0];for(s=1;s<e.length-2;s++){const[p,g]=e[s],[m,b]=e[s+1],v=(p+m)/2,E=(g+b)/2,x=[r+2*(p-r)/3,a+2*(g-a)/3],C=[v+2*(p-v)/3,E+2*(g-E)/3];n.push([[r,a],x,C,[v,E]]),[r,a]=[v,E]}const[o,l]=e[s],[d,h]=e[s+1],u=[r+2*(o-r)/3,a+2*(l-a)/3],f=[d+2*(o-d)/3,h+2*(l-h)/3];return n.push([[r,a],u,f,[d,h]]),n},ar=function(){if(this.isEmpty()){w(this,Y,gh).call(this);return}w(this,Y,Op).call(this);const{canvas:e,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,e.width,e.height),w(this,Y,gh).call(this);for(const s of this.bezierPath2D)n.stroke(s)},Fp=function(e){this.canvas.removeEventListener("pointerleave",c(this,od)),this.canvas.removeEventListener("pointermove",c(this,ad)),this.canvas.removeEventListener("pointerup",c(this,ld)),this.canvas.addEventListener("pointerdown",c(this,Zr),{signal:this._uiManager._signal}),c(this,es)&&clearTimeout(c(this,es)),y(this,es,setTimeout(()=>{y(this,es,null),this.canvas.removeEventListener("contextmenu",Ge)},10)),w(this,Y,bA).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},fh=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},ph=function(){y(this,Ws,new ResizeObserver(e=>{const n=e[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)})),c(this,Ws).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=c(this,Ws))==null||e.disconnect(),y(this,Ws,null)},{once:!0})},Ra=function(){if(!c(this,ea))return;const[e,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*n),w(this,Y,gh).call(this)},Hp=function(e,n){const s=w(this,Y,mh).call(this),r=(e-s)/c(this,Jr),a=(n-s)/c(this,Qr);this.scaleFactor=Math.min(r,a)},gh=function(){const e=w(this,Y,mh).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)},ai=new WeakSet,EA=function(e){const n=new Path2D;for(let s=0,r=e.length;s<r;s++){const[a,o,l,d]=e[s];s===0&&n.moveTo(...a),n.bezierCurveTo(o[0],o[1],l[0],l[1],d[0],d[1])}return n},Bp=function(e,n,s){const[r,a,o,l]=n;switch(s){case 0:for(let d=0,h=e.length;d<h;d+=2)e[d]+=r,e[d+1]=l-e[d+1];break;case 90:for(let d=0,h=e.length;d<h;d+=2){const u=e[d];e[d]=e[d+1]+r,e[d+1]=u+a}break;case 180:for(let d=0,h=e.length;d<h;d+=2)e[d]=o-e[d],e[d+1]+=a;break;case 270:for(let d=0,h=e.length;d<h;d+=2){const u=e[d];e[d]=o-e[d+1],e[d+1]=l-u}break;default:throw new Error("Invalid rotation")}return e},xA=function(e,n,s){const[r,a,o,l]=n;switch(s){case 0:for(let d=0,h=e.length;d<h;d+=2)e[d]-=r,e[d+1]=l-e[d+1];break;case 90:for(let d=0,h=e.length;d<h;d+=2){const u=e[d];e[d]=e[d+1]-a,e[d+1]=u-r}break;case 180:for(let d=0,h=e.length;d<h;d+=2)e[d]=o-e[d],e[d+1]-=a;break;case 270:for(let d=0,h=e.length;d<h;d+=2){const u=e[d];e[d]=l-e[d+1],e[d+1]=o-u}break;default:throw new Error("Invalid rotation")}return e},SA=function(e,n,s,r){var h,u;const a=[],o=this.thickness/2,l=e*n+o,d=e*s+o;for(const f of this.paths){const p=[],g=[];for(let m=0,b=f.length;m<b;m++){const[v,E,x,C]=f[m];if(v[0]===C[0]&&v[1]===C[1]&&b===1){const H=e*v[0]+l,B=e*v[1]+d;p.push(H,B),g.push(H,B);break}const S=e*v[0]+l,k=e*v[1]+d,L=e*E[0]+l,T=e*E[1]+d,M=e*x[0]+l,_=e*x[1]+d,I=e*C[0]+l,F=e*C[1]+d;m===0&&(p.push(S,k),g.push(S,k)),p.push(L,T,M,_,I,F),g.push(L,T),m===b-1&&g.push(I,F)}a.push({bezier:w(h=qt,ai,Bp).call(h,p,r,this.rotation),points:w(u=qt,ai,Bp).call(u,g,r,this.rotation)})}return a},zp=function(){let e=1/0,n=-1/0,s=1/0,r=-1/0;for(const a of this.paths)for(const[o,l,d,h]of a){const u=nt.bezierBoundingBox(...o,...l,...d,...h);e=Math.min(e,u[0]),s=Math.min(s,u[1]),n=Math.max(n,u[2]),r=Math.max(r,u[3])}return[e,s,n,r]},mh=function(){return c(this,yn)?Math.ceil(this.thickness*this.parentScale):0},vl=function(e=!1){if(this.isEmpty())return;if(!c(this,yn)){w(this,Y,ar).call(this);return}const n=w(this,Y,zp).call(this),s=w(this,Y,mh).call(this);y(this,Jr,Math.max(Nt.MIN_SIZE,n[2]-n[0])),y(this,Qr,Math.max(Nt.MIN_SIZE,n[3]-n[1]));const r=Math.ceil(s+c(this,Jr)*this.scaleFactor),a=Math.ceil(s+c(this,Qr)*this.scaleFactor),[o,l]=this.parentDimensions;this.width=r/o,this.height=a/l,this.setAspectRatio(r,a);const d=this.translationX,h=this.translationY;this.translationX=-n[0],this.translationY=-n[1],w(this,Y,Ra).call(this),w(this,Y,ar).call(this),y(this,na,r),y(this,sa,a),this.setDims(r,a);const u=e?s/this.scaleFactor/2:0;this.translate(d-this.translationX-u,h-this.translationY-u)},A(qt,ai),ut(qt,"_defaultColor",null),ut(qt,"_defaultOpacity",1),ut(qt,"_defaultThickness",1),ut(qt,"_type","ink"),ut(qt,"_editorType",kt.INK);let Dp=qt;var Ae,Ee,Oi,Vs,Ni,Mo,ns,qs,ss,Bn,cd,Tt,bl,yl,vh,$p,CA,_A,Up,bh,kA;const Cl=class Cl extends Nt{constructor(e){super({...e,name:"stampEditor"});A(this,Tt);A(this,Ae,null);A(this,Ee,null);A(this,Oi,null);A(this,Vs,null);A(this,Ni,null);A(this,Mo,"");A(this,ns,null);A(this,qs,null);A(this,ss,null);A(this,Bn,!1);A(this,cd,!1);y(this,Vs,e.bitmapUrl),y(this,Ni,e.bitmapFile)}static initialize(e,n){Nt.initialize(e,n)}static get supportedTypes(){return Pt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return Pt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,n){n.pasteEditor(kt.STAMP,{bitmapFile:e.getAsFile()})}remove(){var e,n;c(this,Ee)&&(y(this,Ae,null),this._uiManager.imageManager.deleteId(c(this,Ee)),(e=c(this,ns))==null||e.remove(),y(this,ns,null),(n=c(this,qs))==null||n.disconnect(),y(this,qs,null),c(this,ss)&&(clearTimeout(c(this,ss)),y(this,ss,null))),super.remove()}rebuild(){if(!this.parent){c(this,Ee)&&w(this,Tt,vh).call(this);return}super.rebuild(),this.div!==null&&(c(this,Ee)&&c(this,ns)===null&&w(this,Tt,vh).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(c(this,Oi)||c(this,Ae)||c(this,Vs)||c(this,Ni)||c(this,Ee))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,n;if(this.width&&(e=this.x,n=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),c(this,Ae)?w(this,Tt,$p).call(this):w(this,Tt,vh).call(this),this.width){const[s,r]=this.parentDimensions;this.setAt(e*s,n*r,this.width*s,this.height*r)}return this.div}getImageForAltText(){return c(this,ns)}static deserialize(e,n,s){if(e instanceof Ww)return null;const r=super.deserialize(e,n,s),{rect:a,bitmapUrl:o,bitmapId:l,isSvg:d,accessibilityData:h}=e;l&&s.imageManager.isValidId(l)?y(r,Ee,l):y(r,Vs,o),y(r,Bn,d);const[u,f]=r.pageDimensions;return r.width=(a[2]-a[0])/u,r.height=(a[3]-a[1])/f,h&&(r.altTextData=h),r}serialize(e=!1,n=null){if(this.isEmpty())return null;const s={annotationType:kt.STAMP,bitmapId:c(this,Ee),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:c(this,Bn),structTreeParentId:this._structTreeParentId};if(e)return s.bitmapUrl=w(this,Tt,bh).call(this,!0),s.accessibilityData=this.altTextData,s;const{decorative:r,altText:a}=this.altTextData;if(!r&&a&&(s.accessibilityData={type:"Figure",alt:a}),n===null)return s;n.stamps||(n.stamps=new Map);const o=c(this,Bn)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!n.stamps.has(c(this,Ee)))n.stamps.set(c(this,Ee),{area:o,serialized:s}),s.bitmap=w(this,Tt,bh).call(this,!1);else if(c(this,Bn)){const l=n.stamps.get(c(this,Ee));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=w(this,Tt,bh).call(this,!1))}return s}};Ae=new WeakMap,Ee=new WeakMap,Oi=new WeakMap,Vs=new WeakMap,Ni=new WeakMap,Mo=new WeakMap,ns=new WeakMap,qs=new WeakMap,ss=new WeakMap,Bn=new WeakMap,cd=new WeakMap,Tt=new WeakSet,bl=function(e,n=!1){if(!e){this.remove();return}y(this,Ae,e.bitmap),n||(y(this,Ee,e.id),y(this,Bn,e.isSvg)),e.file&&y(this,Mo,e.file.name),w(this,Tt,$p).call(this)},yl=function(){y(this,Oi,null),this._uiManager.enableWaiting(!1),c(this,ns)&&this.div.focus()},vh=function(){if(c(this,Ee)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(c(this,Ee)).then(s=>w(this,Tt,bl).call(this,s,!0)).finally(()=>w(this,Tt,yl).call(this));return}if(c(this,Vs)){const s=c(this,Vs);y(this,Vs,null),this._uiManager.enableWaiting(!0),y(this,Oi,this._uiManager.imageManager.getFromUrl(s).then(r=>w(this,Tt,bl).call(this,r)).finally(()=>w(this,Tt,yl).call(this)));return}if(c(this,Ni)){const s=c(this,Ni);y(this,Ni,null),this._uiManager.enableWaiting(!0),y(this,Oi,this._uiManager.imageManager.getFromFile(s).then(r=>w(this,Tt,bl).call(this,r)).finally(()=>w(this,Tt,yl).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=Cl.supportedTypesStr;const n=this._uiManager._signal;y(this,Oi,new Promise(s=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(e.files[0]);w(this,Tt,bl).call(this,r)}s()},{signal:n}),e.addEventListener("cancel",()=>{this.remove(),s()},{signal:n})}).finally(()=>w(this,Tt,yl).call(this))),e.click()},$p=function(){const{div:e}=this;let{width:n,height:s}=c(this,Ae);const[r,a]=this.pageDimensions,o=.75;if(this.width)n=this.width*r,s=this.height*a;else if(n>o*r||s>o*a){const u=Math.min(o*r/n,o*a/s);n*=u,s*=u}const[l,d]=this.parentDimensions;this.setDims(n*l/r,s*d/a),this._uiManager.enableWaiting(!1);const h=y(this,ns,document.createElement("canvas"));e.append(h),e.hidden=!1,w(this,Tt,Up).call(this,n,s),w(this,Tt,kA).call(this),c(this,cd)||(this.parent.addUndoableEditor(this),y(this,cd,!0)),this._reportTelemetry({action:"inserted_image"}),c(this,Mo)&&h.setAttribute("aria-label",c(this,Mo))},CA=function(e,n){var o;const[s,r]=this.parentDimensions;this.width=e/s,this.height=n/r,this.setDims(e,n),(o=this._initialOptions)!=null&&o.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,c(this,ss)!==null&&clearTimeout(c(this,ss)),y(this,ss,setTimeout(()=>{y(this,ss,null),w(this,Tt,Up).call(this,e,n)},200))},_A=function(e,n){const{width:s,height:r}=c(this,Ae);let a=s,o=r,l=c(this,Ae);for(;a>2*e||o>2*n;){const d=a,h=o;a>2*e&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*n&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const u=new OffscreenCanvas(a,o);u.getContext("2d").drawImage(l,0,0,d,h,0,0,a,o),l=u.transferToImageBitmap()}return l},Up=function(e,n){e=Math.ceil(e),n=Math.ceil(n);const s=c(this,ns);if(!s||s.width===e&&s.height===n)return;s.width=e,s.height=n;const r=c(this,Bn)?c(this,Ae):w(this,Tt,_A).call(this,e,n);if(this._uiManager.hasMLManager&&!this.hasAltText()){const l=new OffscreenCanvas(e,n).getContext("2d");l.drawImage(r,0,0,r.width,r.height,0,0,e,n),this._uiManager.mlGuess({service:"image-to-text",request:{data:l.getImageData(0,0,e,n).data,width:e,height:n,channels:4}}).then(d=>{const h=(d==null?void 0:d.output)||"";this.parent&&h&&!this.hasAltText()&&(this.altTextData={altText:h,decorative:!1})})}const a=s.getContext("2d");a.filter=this._uiManager.hcmFilter,a.drawImage(r,0,0,r.width,r.height,0,0,e,n)},bh=function(e){if(e){if(c(this,Bn)){const r=this._uiManager.imageManager.getSvgUrl(c(this,Ee));if(r)return r}const n=document.createElement("canvas");return{width:n.width,height:n.height}=c(this,Ae),n.getContext("2d").drawImage(c(this,Ae),0,0),n.toDataURL()}if(c(this,Bn)){const[n,s]=this.pageDimensions,r=Math.round(this.width*n*Vi.PDF_TO_CSS_UNITS),a=Math.round(this.height*s*Vi.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(r,a);return o.getContext("2d").drawImage(c(this,Ae),0,0,c(this,Ae).width,c(this,Ae).height,0,0,r,a),o.transferToImageBitmap()}return structuredClone(c(this,Ae))},kA=function(){this._uiManager._signal&&(y(this,qs,new ResizeObserver(e=>{const n=e[0].contentRect;n.width&&n.height&&w(this,Tt,CA).call(this,n.width,n.height)})),c(this,qs).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=c(this,qs))==null||e.disconnect(),y(this,qs,null)},{once:!0}))},ut(Cl,"_type","stamp"),ut(Cl,"_editorType",kt.STAMP);let jp=Cl;var ia,Io,is,ra,Gs,Xs,Ys,an,Fi,Do,Oo,Ne,it,Hi,xe,RA,Vp,qp,Gp,yh;const Cn=class Cn{constructor({uiManager:t,pageIndex:e,div:n,accessibilityManager:s,annotationLayer:r,drawLayer:a,textLayer:o,viewport:l,l10n:d}){A(this,xe);A(this,ia);A(this,Io,!1);A(this,is,null);A(this,ra,null);A(this,Gs,null);A(this,Xs,null);A(this,Ys,null);A(this,an,new Map);A(this,Fi,!1);A(this,Do,!1);A(this,Oo,!1);A(this,Ne,null);A(this,it);const h=[...c(Cn,Hi).values()];if(!Cn._initialized){Cn._initialized=!0;for(const u of h)u.initialize(d,t)}t.registerEditorTypes(h),y(this,it,t),this.pageIndex=e,this.div=n,y(this,ia,s),y(this,is,r),this.viewport=l,y(this,Ne,o),this.drawLayer=a,c(this,it).addLayer(this)}get isEmpty(){return c(this,an).size===0}get isInvisible(){return this.isEmpty&&c(this,it).getMode()===kt.NONE}updateToolbar(t){c(this,it).updateToolbar(t)}updateMode(t=c(this,it).getMode()){switch(w(this,xe,yh).call(this),t){case kt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case kt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case kt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const n of c(Cn,Hi).values())e.toggle(`${n._type}Editing`,t===n._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=c(this,Ne))==null?void 0:e.div)}addInkEditorIfNeeded(t){if(c(this,it).getMode()!==kt.INK)return;if(!t){for(const n of c(this,an).values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){c(this,it).setEditingState(t)}addCommands(t){c(this,it).addCommands(t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=c(this,is))==null||e.div.classList.toggle("disabled",!t)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const n of c(this,an).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(c(this,it).removeChangedExistingAnnotation(n),t.add(n.annotationElementId));if(!c(this,is))return;const e=c(this,is).getEditableAnnotations();for(const n of e){if(n.hide(),c(this,it).isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const s=this.deserialize(n);s&&(this.addOrRebuild(s),s.enableEditing())}}disable(){var s;y(this,Oo,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const r of c(this,an).values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){t.set(r.annotationElementId,r);continue}else e.set(r.annotationElementId,r);(s=this.getEditableAnnotation(r.annotationElementId))==null||s.show(),r.remove()}if(c(this,is)){const r=c(this,is).getEditableAnnotations();for(const a of r){const{id:o}=a.data;if(c(this,it).isDeletedAnnotationElement(o))continue;let l=e.get(o);if(l){l.resetAnnotationElement(a),l.show(!1),a.show();continue}l=t.get(o),l&&(c(this,it).addChangedExistingAnnotation(l),l.renderAnnotationElement(a),l.show(!1)),a.show()}}w(this,xe,yh).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const r of c(Cn,Hi).values())n.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),y(this,Oo,!1)}getEditableAnnotation(t){var e;return((e=c(this,is))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){c(this,it).getActive()!==t&&c(this,it).setActiveEditor(t)}enableTextSelection(){var t;this.div.tabIndex=-1,(t=c(this,Ne))!=null&&t.div&&!c(this,Xs)&&(y(this,Xs,w(this,xe,RA).bind(this)),c(this,Ne).div.addEventListener("pointerdown",c(this,Xs),{signal:c(this,it)._signal}),c(this,Ne).div.classList.add("highlighting"))}disableTextSelection(){var t;this.div.tabIndex=0,(t=c(this,Ne))!=null&&t.div&&c(this,Xs)&&(c(this,Ne).div.removeEventListener("pointerdown",c(this,Xs)),y(this,Xs,null),c(this,Ne).div.classList.remove("highlighting"))}enableClick(){if(c(this,Gs))return;const t=c(this,it)._signal;y(this,Gs,this.pointerdown.bind(this)),y(this,ra,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",c(this,Gs),{signal:t}),this.div.addEventListener("pointerup",c(this,ra),{signal:t})}disableClick(){c(this,Gs)&&(this.div.removeEventListener("pointerdown",c(this,Gs)),this.div.removeEventListener("pointerup",c(this,ra)),y(this,Gs,null),y(this,ra,null))}attach(t){c(this,an).set(t.id,t);const{annotationElementId:e}=t;e&&c(this,it).isDeletedAnnotationElement(e)&&c(this,it).removeDeletedAnnotationElement(t)}detach(t){var e;c(this,an).delete(t.id),(e=c(this,ia))==null||e.removePointerInTextLayer(t.contentDiv),!c(this,Oo)&&t.annotationElementId&&c(this,it).addDeletedAnnotationElement(t)}remove(t){this.detach(t),c(this,it).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,c(this,Do)||this.addInkEditorIfNeeded(!1)}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(c(this,it).addDeletedAnnotationElement(t.annotationElementId),Nt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),c(this,it).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),c(this,it).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var n;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!c(this,Ys)&&(t._focusEventsAllowed=!1,y(this,Ys,setTimeout(()=>{y(this,Ys,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:c(this,it)._signal}),e.focus())},0))),t._structTreeParentId=(n=c(this,ia))==null?void 0:n.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getNextId(){return c(this,it).getId()}get _signal(){return c(this,it)._signal}canCreateNewEmptyEditor(){var t;return(t=c(this,xe,Vp))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){c(this,it).updateToolbar(t),c(this,it).updateMode(t);const{offsetX:n,offsetY:s}=w(this,xe,Gp).call(this),r=this.getNextId(),a=w(this,xe,qp).call(this,{parent:this,id:r,x:n,y:s,uiManager:c(this,it),isCentered:!0,...e});a&&this.add(a)}deserialize(t){var e;return((e=c(Cn,Hi).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,c(this,it)))||null}createAndAddNewEditor(t,e,n={}){const s=this.getNextId(),r=w(this,xe,qp).call(this,{parent:this,id:s,x:t.offsetX,y:t.offsetY,uiManager:c(this,it),isCentered:e,...n});return r&&this.add(r),r}addNewEditor(){this.createAndAddNewEditor(w(this,xe,Gp).call(this),!0)}setSelected(t){c(this,it).setSelected(t)}toggleSelected(t){c(this,it).toggleSelected(t)}isSelected(t){return c(this,it).isSelected(t)}unselect(t){c(this,it).unselect(t)}pointerup(t){const{isMac:e}=Ve.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&c(this,Fi)){if(y(this,Fi,!1),!c(this,Io)){y(this,Io,!0);return}if(c(this,it).getMode()===kt.STAMP){c(this,it).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(c(this,it).getMode()===kt.HIGHLIGHT&&this.enableTextSelection(),c(this,Fi)){y(this,Fi,!1);return}const{isMac:e}=Ve.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;y(this,Fi,!0);const n=c(this,it).getActive();y(this,Io,!n||n.isEmpty())}findNewParent(t,e,n){const s=c(this,it).findParent(e,n);return s===null||s===this?!1:(s.changeParent(t),!0)}destroy(){var t,e;((t=c(this,it).getActive())==null?void 0:t.parent)===this&&(c(this,it).commitOrRemove(),c(this,it).setActiveEditor(null)),c(this,Ys)&&(clearTimeout(c(this,Ys)),y(this,Ys,null));for(const n of c(this,an).values())(e=c(this,ia))==null||e.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,c(this,an).clear(),c(this,it).removeLayer(this)}render({viewport:t}){this.viewport=t,da(this.div,t);for(const e of c(this,it).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){c(this,it).commitOrRemove(),w(this,xe,yh).call(this);const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,da(this.div,{rotation:n}),e!==n)for(const s of c(this,an).values())s.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return c(this,it).viewParameters.realScale}};ia=new WeakMap,Io=new WeakMap,is=new WeakMap,ra=new WeakMap,Gs=new WeakMap,Xs=new WeakMap,Ys=new WeakMap,an=new WeakMap,Fi=new WeakMap,Do=new WeakMap,Oo=new WeakMap,Ne=new WeakMap,it=new WeakMap,Hi=new WeakMap,xe=new WeakSet,RA=function(t){if(c(this,it).unselectAll(),t.target===c(this,Ne).div){const{isMac:e}=Ve.platform;if(t.button!==0||t.ctrlKey&&e)return;c(this,it).showAllEditors("highlight",!0,!0),c(this,Ne).div.classList.add("free"),Hh.startHighlighting(this,c(this,it).direction==="ltr",t),c(this,Ne).div.addEventListener("pointerup",()=>{c(this,Ne).div.classList.remove("free")},{once:!0,signal:c(this,it)._signal}),t.preventDefault()}},Vp=function(){return c(Cn,Hi).get(c(this,it).getMode())},qp=function(t){const e=c(this,xe,Vp);return e?new e.prototype.constructor(t):null},Gp=function(){const{x:t,y:e,width:n,height:s}=this.div.getBoundingClientRect(),r=Math.max(0,t),a=Math.max(0,e),o=Math.min(window.innerWidth,t+n),l=Math.min(window.innerHeight,e+s),d=(r+o)/2-t,h=(a+l)/2-e,[u,f]=this.viewport.rotation%180===0?[d,h]:[h,d];return{offsetX:u,offsetY:f}},yh=function(){y(this,Do,!0);for(const t of c(this,an).values())t.isEmpty()&&t.remove();y(this,Do,!1)},ut(Cn,"_initialized",!1),A(Cn,Hi,new Map([xp,Dp,jp,Hh].map(t=>[t._editorType,t])));let Wp=Cn;var rs,dd,ce,Bi,hd,Yp,ga,Kp,PA;const me=class me{constructor({pageIndex:t}){A(this,ga);A(this,rs,null);A(this,dd,0);A(this,ce,new Map);A(this,Bi,new Map);this.pageIndex=t}setParent(t){if(!c(this,rs)){y(this,rs,t);return}if(c(this,rs)!==t){if(c(this,ce).size>0)for(const e of c(this,ce).values())e.remove(),t.append(e);y(this,rs,t)}}static get _svgFactory(){return Pt(this,"_svgFactory",new Lg)}highlight(t,e,n,s=!1){const r=Ye(this,dd)._++,a=w(this,ga,Kp).call(this,t.box);a.classList.add("highlight"),t.free&&a.classList.add("free");const o=me._svgFactory.createElement("defs");a.append(o);const l=me._svgFactory.createElement("path");o.append(l);const d=`path_p${this.pageIndex}_${r}`;l.setAttribute("id",d),l.setAttribute("d",t.toSVGPath()),s&&c(this,Bi).set(r,l);const h=w(this,ga,PA).call(this,o,d),u=me._svgFactory.createElement("use");return a.append(u),a.setAttribute("fill",e),a.setAttribute("fill-opacity",n),u.setAttribute("href",`#${d}`),c(this,ce).set(r,a),{id:r,clipPathId:`url(#${h})`}}highlightOutline(t){const e=Ye(this,dd)._++,n=w(this,ga,Kp).call(this,t.box);n.classList.add("highlightOutline");const s=me._svgFactory.createElement("defs");n.append(s);const r=me._svgFactory.createElement("path");s.append(r);const a=`path_p${this.pageIndex}_${e}`;r.setAttribute("id",a),r.setAttribute("d",t.toSVGPath()),r.setAttribute("vector-effect","non-scaling-stroke");let o;if(t.free){n.classList.add("free");const h=me._svgFactory.createElement("mask");s.append(h),o=`mask_p${this.pageIndex}_${e}`,h.setAttribute("id",o),h.setAttribute("maskUnits","objectBoundingBox");const u=me._svgFactory.createElement("rect");h.append(u),u.setAttribute("width","1"),u.setAttribute("height","1"),u.setAttribute("fill","white");const f=me._svgFactory.createElement("use");h.append(f),f.setAttribute("href",`#${a}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const l=me._svgFactory.createElement("use");n.append(l),l.setAttribute("href",`#${a}`),o&&l.setAttribute("mask",`url(#${o})`);const d=l.cloneNode();return n.append(d),l.classList.add("mainOutline"),d.classList.add("secondaryOutline"),c(this,ce).set(e,n),e}finalizeLine(t,e){const n=c(this,Bi).get(t);c(this,Bi).delete(t),this.updateBox(t,e.box),n.setAttribute("d",e.toSVGPath())}updateLine(t,e){c(this,ce).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}removeFreeHighlight(t){this.remove(t),c(this,Bi).delete(t)}updatePath(t,e){c(this,Bi).get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){var n;w(n=me,hd,Yp).call(n,c(this,ce).get(t),e)}show(t,e){c(this,ce).get(t).classList.toggle("hidden",!e)}rotate(t,e){c(this,ce).get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){c(this,ce).get(t).setAttribute("fill",e)}changeOpacity(t,e){c(this,ce).get(t).setAttribute("fill-opacity",e)}addClass(t,e){c(this,ce).get(t).classList.add(e)}removeClass(t,e){c(this,ce).get(t).classList.remove(e)}remove(t){c(this,rs)!==null&&(c(this,ce).get(t).remove(),c(this,ce).delete(t))}destroy(){y(this,rs,null);for(const t of c(this,ce).values())t.remove();c(this,ce).clear()}};rs=new WeakMap,dd=new WeakMap,ce=new WeakMap,Bi=new WeakMap,hd=new WeakSet,Yp=function(t,{x:e=0,y:n=0,width:s=1,height:r=1}={}){const{style:a}=t;a.top=`${100*n}%`,a.left=`${100*e}%`,a.width=`${100*s}%`,a.height=`${100*r}%`},ga=new WeakSet,Kp=function(t){var n;const e=me._svgFactory.create(1,1,!0);return c(this,rs).append(e),e.setAttribute("aria-hidden",!0),w(n=me,hd,Yp).call(n,e,t),e},PA=function(t,e){const n=me._svgFactory.createElement("clipPath");t.append(n);const s=`clip_${e}`;n.setAttribute("id",s),n.setAttribute("clipPathUnits","objectBoundingBox");const r=me._svgFactory.createElement("use");return n.append(r),r.setAttribute("href",`#${e}`),r.classList.add("clip"),s},A(me,hd);let Xp=me;var DR=ct.AbortException,OR=ct.AnnotationEditorLayer,NR=ct.AnnotationEditorParamsType,FR=ct.AnnotationEditorType,HR=ct.AnnotationEditorUIManager,TA=ct.AnnotationLayer,LA=ct.AnnotationMode,BR=ct.CMapCompressionType,zR=ct.ColorPicker,jR=ct.DOMSVGFactory,$R=ct.DrawLayer,UR=ct.FeatureTest,Bg=ct.GlobalWorkerOptions,WR=ct.ImageKind,VR=ct.InvalidPDFException,qR=ct.MissingPDFException,GR=ct.OPS,XR=ct.Outliner,YR=ct.PDFDataRangeTransport,KR=ct.PDFDateString,QR=ct.PDFWorker,JR=ct.PasswordResponses,ZR=ct.PermissionFlag,tP=ct.PixelsPerInch,eP=ct.RenderingCancelledException,MA=ct.TextLayer,nP=ct.UnexpectedResponseException,sP=ct.Util,iP=ct.VerbosityLevel,rP=ct.XfaLayer,aP=ct.build,oP=ct.createValidAbsoluteUrl,lP=ct.fetchData,IA=ct.getDocument,cP=ct.getFilenameFromUrl,dP=ct.getPdfFilenameFromUrl,hP=ct.getXfaPageViewport,uP=ct.isDataScheme,fP=ct.isPdfFile,pP=ct.noContextMenu,gP=ct.normalizeUnicode,mP=ct.renderTextLayer,vP=ct.setLayerDimensions,bP=ct.shadow,yP=ct.updateTextLayer,DA=ct.version;const wP=Object.freeze(Object.defineProperty({__proto__:null,AbortException:DR,AnnotationEditorLayer:OR,AnnotationEditorParamsType:NR,AnnotationEditorType:FR,AnnotationEditorUIManager:HR,AnnotationLayer:TA,AnnotationMode:LA,CMapCompressionType:BR,ColorPicker:zR,DOMSVGFactory:jR,DrawLayer:$R,FeatureTest:UR,GlobalWorkerOptions:Bg,ImageKind:WR,InvalidPDFException:VR,MissingPDFException:qR,OPS:GR,Outliner:XR,PDFDataRangeTransport:YR,PDFDateString:KR,PDFWorker:QR,PasswordResponses:JR,PermissionFlag:ZR,PixelsPerInch:tP,RenderingCancelledException:eP,TextLayer:MA,UnexpectedResponseException:nP,Util:sP,VerbosityLevel:iP,XfaLayer:rP,build:aP,createValidAbsoluteUrl:oP,fetchData:lP,getDocument:IA,getFilenameFromUrl:cP,getPdfFilenameFromUrl:dP,getXfaPageViewport:hP,isDataScheme:uP,isPdfFile:fP,noContextMenu:pP,normalizeUnicode:gP,renderTextLayer:mP,setLayerDimensions:vP,shadow:bP,updateTextLayer:yP,version:DA},Symbol.toStringTag,{value:"Module"}));var fe=function(i,t,e){if(e||arguments.length===2)for(var n=0,s=t.length,r;n<s;n++)(r||!(n in t))&&(r||(r=Array.prototype.slice.call(t,0,n)),r[n]=t[n]);return i.concat(r||Array.prototype.slice.call(t))},AP=["onCopy","onCut","onPaste"],EP=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],xP=["onFocus","onBlur"],SP=["onInput","onInvalid","onReset","onSubmit"],CP=["onLoad","onError"],_P=["onKeyDown","onKeyPress","onKeyUp"],kP=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],RP=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],PP=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],TP=["onSelect"],LP=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],MP=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],IP=["onScroll"],DP=["onWheel"],OP=["onAnimationStart","onAnimationEnd","onAnimationIteration"],NP=["onTransitionEnd"],FP=["onToggle"],HP=["onChange"],BP=fe(fe(fe(fe(fe(fe(fe(fe(fe(fe(fe(fe(fe(fe(fe(fe(fe(fe([],AP,!0),EP,!0),xP,!0),SP,!0),CP,!0),_P,!0),kP,!0),RP,!0),PP,!0),TP,!0),LP,!0),MP,!0),IP,!0),DP,!0),OP,!0),NP,!0),HP,!0),FP,!0);function OA(i,t){var e={};return BP.forEach(function(n){var s=i[n];s&&(t?e[n]=function(r){return s(r,t(n))}:e[n]=s)}),e}function wd(i){var t=!1,e=new Promise(function(n,s){i.then(function(r){return!t&&n(r)}).catch(function(r){return!t&&s(r)})});return{promise:e,cancel:function(){t=!0}}}var zP="Invariant failed";function jt(i,t){if(!i)throw new Error(zP)}var rf,kv;function jP(){if(kv)return rf;kv=1;var i=function(){};return rf=i,rf}var $P=jP();const Te=zv($P);var Rv=Object.prototype.hasOwnProperty;function Pv(i,t,e){for(e of i.keys())if(Ha(e,t))return e}function Ha(i,t){var e,n,s;if(i===t)return!0;if(i&&t&&(e=i.constructor)===t.constructor){if(e===Date)return i.getTime()===t.getTime();if(e===RegExp)return i.toString()===t.toString();if(e===Array){if((n=i.length)===t.length)for(;n--&&Ha(i[n],t[n]););return n===-1}if(e===Set){if(i.size!==t.size)return!1;for(n of i)if(s=n,s&&typeof s=="object"&&(s=Pv(t,s),!s)||!t.has(s))return!1;return!0}if(e===Map){if(i.size!==t.size)return!1;for(n of i)if(s=n[0],s&&typeof s=="object"&&(s=Pv(t,s),!s)||!Ha(n[1],t.get(s)))return!1;return!0}if(e===ArrayBuffer)i=new Uint8Array(i),t=new Uint8Array(t);else if(e===DataView){if((n=i.byteLength)===t.byteLength)for(;n--&&i.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(i)){if((n=i.byteLength)===t.byteLength)for(;n--&&i[n]===t[n];);return n===-1}if(!e||typeof i=="object"){n=0;for(e in i)if(Rv.call(i,e)&&++n&&!Rv.call(t,e)||!(e in t)||!Ha(i[e],t[e]))return!1;return Object.keys(t).length===n}}return i!==i&&t!==t}const NA=R.createContext(null);function Ba({children:i,type:t}){return q.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:i})}const UP="noopener noreferrer nofollow";class WP{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return jt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){jt(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{jt(this.pdfDocument),jt(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{jt(Array.isArray(e));const n=e[0];new Promise(s=>{jt(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(r=>{s(r)}).catch(()=>{jt(!1)}):typeof n=="number"?s(n):jt(!1)}).then(s=>{const r=s+1;jt(this.pdfViewer),jt(r>=1&&r<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:s,pageNumber:r})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;jt(this.pdfViewer),jt(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,n){t.href=e,t.rel=this.externalLinkRel||UP,t.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const Tv={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},ku=typeof window<"u",FA=ku&&window.location.protocol==="file:";function VP(i){return typeof i<"u"}function sr(i){return VP(i)&&i!==null}function qP(i){return typeof i=="string"}function GP(i){return i instanceof ArrayBuffer}function XP(i){return jt(ku),i instanceof Blob}function Qp(i){return qP(i)&&/^data:/.test(i)}function Lv(i){jt(Qp(i));const[t="",e=""]=i.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function YP(){return ku&&window.devicePixelRatio||1}const HA="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function Mv(){Te(!FA,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${HA}`)}function KP(){Te(!FA,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${HA}`)}function fa(i){i!=null&&i.cancel&&i.cancel()}function Jp(i,t){return Object.defineProperty(i,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(i,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(i,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(i,"originalHeight",{get(){return this.view[3]},configurable:!0}),i}function QP(i){return i.name==="RenderingCancelledException"}function JP(i){return new Promise((t,e)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return e(new Error("Error while reading a file."));t(n.result)},n.onerror=s=>{if(!s.target)return e(new Error("Error while reading a file."));const{error:r}=s.target;if(!r)return e(new Error("Error while reading a file."));switch(r.code){case r.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case r.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case r.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},n.readAsArrayBuffer(i)})}function ZP(i,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return i}}function Bo(){return R.useReducer(ZP,{value:void 0,error:void 0})}var tT=function(i,t,e,n){function s(r){return r instanceof e?r:new e(function(a){a(r)})}return new(e||(e=Promise))(function(r,a){function o(h){try{d(n.next(h))}catch(u){a(u)}}function l(h){try{d(n.throw(h))}catch(u){a(u)}}function d(h){h.done?r(h.value):s(h.value).then(o,l)}d((n=n.apply(i,t||[])).next())})},Iv=function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};const{PDFDataRangeTransport:eT}=wP,nT=(i,t)=>{switch(t){case Tv.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");i(e);break}case Tv.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");i(e);break}}};function Dv(i){return typeof i=="object"&&i!==null&&("data"in i||"range"in i||"url"in i)}const sT=R.forwardRef(function(t,e){var{children:n,className:s,error:r="Failed to load PDF file.",externalLinkRel:a,externalLinkTarget:o,file:l,inputRef:d,imageResourcesPath:h,loading:u="Loading PDF",noData:f="No PDF file specified.",onItemClick:p,onLoadError:g,onLoadProgress:m,onLoadSuccess:b,onPassword:v=nT,onSourceError:E,onSourceSuccess:x,options:C,renderMode:S,rotate:k}=t,L=Iv(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[T,M]=Bo(),{value:_,error:I}=T,[F,H]=Bo(),{value:B,error:W}=F,$=R.useRef(new WP),N=R.useRef([]),O=R.useRef(void 0),at=R.useRef(void 0);l&&l!==O.current&&Dv(l)&&(Te(!Ha(l,O.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),O.current=l),C&&C!==at.current&&(Te(!Ha(C,at.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),at.current=C);const ot=R.useRef({scrollPageIntoView:K=>{const{dest:lt,pageNumber:wt,pageIndex:bt=wt-1}=K;if(p){p({dest:lt,pageIndex:bt,pageNumber:wt});return}const Qt=N.current[bt];if(Qt){Qt.scrollIntoView();return}Te(!1,`An internal link leading to page ${wt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});R.useImperativeHandle(e,()=>({linkService:$,pages:N,viewer:ot}),[]);function Ct(){x&&x()}function vt(){I&&(Te(!1,I.toString()),E&&E(I))}function et(){M({type:"RESET"})}R.useEffect(et,[l,M]);const ft=R.useCallback(()=>tT(this,void 0,void 0,function*(){if(!l)return null;if(typeof l=="string")return Qp(l)?{data:Lv(l)}:(Mv(),{url:l});if(l instanceof eT)return{range:l};if(GP(l))return{data:l};if(ku&&XP(l))return{data:yield JP(l)};if(jt(typeof l=="object"),jt(Dv(l)),"url"in l&&typeof l.url=="string"){if(Qp(l.url)){const{url:K}=l,lt=Iv(l,["url"]),wt=Lv(K);return Object.assign({data:wt},lt)}Mv()}return l}),[l]);R.useEffect(()=>{const K=wd(ft());return K.promise.then(lt=>{M({type:"RESOLVE",value:lt})}).catch(lt=>{M({type:"REJECT",error:lt})}),()=>{fa(K)}},[ft,M]),R.useEffect(()=>{if(!(typeof _>"u")){if(_===!1){vt();return}Ct()}},[_]);function It(){B&&(b&&b(B),N.current=new Array(B.numPages),$.current.setDocument(B))}function Lt(){W&&(Te(!1,W.toString()),g&&g(W))}R.useEffect(function(){H({type:"RESET"})},[H,_]),R.useEffect(function(){if(!_)return;const lt=C?Object.assign(Object.assign({},_),C):_,wt=IA(lt);m&&(wt.onProgress=m),v&&(wt.onPassword=v);const bt=wt,Qt=bt.promise.then(te=>{H({type:"RESOLVE",value:te})}).catch(te=>{bt.destroyed||H({type:"REJECT",error:te})});return()=>{Qt.finally(()=>bt.destroy())}},[C,H,_]),R.useEffect(()=>{if(!(typeof B>"u")){if(B===!1){Lt();return}It()}},[B]),R.useEffect(function(){$.current.setViewer(ot.current),$.current.setExternalLinkRel(a),$.current.setExternalLinkTarget(o)},[a,o]);const Q=R.useCallback((K,lt)=>{N.current[K]=lt},[]),pt=R.useCallback(K=>{delete N.current[K]},[]),Rt=R.useMemo(()=>({imageResourcesPath:h,linkService:$.current,onItemClick:p,pdf:B,registerPage:Q,renderMode:S,rotate:k,unregisterPage:pt}),[h,p,B,Q,S,k,pt]),dt=R.useMemo(()=>OA(L,()=>B),[L,B]);function gt(){return q.jsx(NA.Provider,{value:Rt,children:n})}function G(){return l?B==null?q.jsx(Ba,{type:"loading",children:typeof u=="function"?u():u}):B===!1?q.jsx(Ba,{type:"error",children:typeof r=="function"?r():r}):gt():q.jsx(Ba,{type:"no-data",children:typeof f=="function"?f():f})}return q.jsx("div",Object.assign({className:$o("react-pdf__Document",s),ref:d,style:{"--scale-factor":"1"}},dt,{children:G()}))});function BA(){return R.useContext(NA)}function zA(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];var e=i.filter(Boolean);if(e.length<=1){var n=e[0];return n||null}return function(r){e.forEach(function(a){typeof a=="function"?a(r):a&&(a.current=r)})}}const jA=R.createContext(null),$A={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},iT=/^H(\d+)$/;function rT(i){return i in $A}function Ru(i){return"children"in i}function UA(i){return Ru(i)?i.children.length===1&&0 in i.children&&"id"in i.children[0]:!1}function aT(i){const t={};if(Ru(i)){const{role:e}=i,n=e.match(iT);if(n)t.role="heading",t["aria-level"]=Number(n[1]);else if(rT(e)){const s=$A[e];s&&(t.role=s)}}return t}function WA(i){const t={};if(Ru(i)){if(i.alt!==void 0&&(t["aria-label"]=i.alt),i.lang!==void 0&&(t.lang=i.lang),UA(i)){const[e]=i.children;if(e){const n=WA(e);return Object.assign(Object.assign({},t),n)}}}else"id"in i&&(t["aria-owns"]=i.id);return t}function oT(i){return i?Object.assign(Object.assign({},aT(i)),WA(i)):null}function VA({className:i,node:t}){const e=R.useMemo(()=>oT(t),[t]),n=R.useMemo(()=>!Ru(t)||UA(t)?null:t.children.map((s,r)=>q.jsx(VA,{node:s},r)),[t]);return q.jsx("span",Object.assign({className:i},e,{children:n}))}function Pu(){return R.useContext(jA)}function lT(){const i=Pu();jt(i);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=i,[n,s]=Bo(),{value:r,error:a}=n,{customTextRenderer:o,page:l}=i;function d(){r&&e&&e(r)}function h(){a&&(Te(!1,a.toString()),t&&t(a))}return R.useEffect(function(){s({type:"RESET"})},[s,l]),R.useEffect(function(){if(o||!l)return;const f=wd(l.getStructTree()),p=f;return f.promise.then(g=>{s({type:"RESOLVE",value:g})}).catch(g=>{s({type:"REJECT",error:g})}),()=>fa(p)},[o,l,s]),R.useEffect(()=>{if(r!==void 0){if(r===!1){h();return}d()}},[r]),r?q.jsx(VA,{className:"react-pdf__Page__structTree structTree",node:r}):null}const Ov=LA;function cT(i){const t=Pu();jt(t);const e=Object.assign(Object.assign({},t),i),{_className:n,canvasBackground:s,devicePixelRatio:r=YP(),onRenderError:a,onRenderSuccess:o,page:l,renderForms:d,renderTextLayer:h,rotate:u,scale:f}=e,{canvasRef:p}=i;jt(l);const g=R.useRef(null);function m(){l&&o&&o(Jp(l,f))}function b(C){QP(C)||(Te(!1,C.toString()),a&&a(C))}const v=R.useMemo(()=>l.getViewport({scale:f*r,rotation:u}),[r,l,u,f]),E=R.useMemo(()=>l.getViewport({scale:f,rotation:u}),[l,u,f]);R.useEffect(function(){if(!l)return;l.cleanup();const{current:S}=g;if(!S)return;S.width=v.width,S.height=v.height,S.style.width=`${Math.floor(E.width)}px`,S.style.height=`${Math.floor(E.height)}px`,S.style.visibility="hidden";const k={annotationMode:d?Ov.ENABLE_FORMS:Ov.ENABLE,canvasContext:S.getContext("2d",{alpha:!1}),viewport:v};s&&(k.background=s);const L=l.render(k),T=L;return L.promise.then(()=>{S.style.visibility="",m()}).catch(b),()=>fa(T)},[s,l,d,v,E]);const x=R.useCallback(()=>{const{current:C}=g;C&&(C.width=0,C.height=0)},[]);return R.useEffect(()=>x,[x]),q.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:zA(p,g),style:{display:"block",userSelect:"none"},children:h?q.jsx(lT,{}):null})}function dT(i){return"str"in i}function hT(){const i=Pu();jt(i);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:n,onRenderTextLayerError:s,onRenderTextLayerSuccess:r,page:a,pageIndex:o,pageNumber:l,rotate:d,scale:h}=i;jt(a);const[u,f]=Bo(),{value:p,error:g}=u,m=R.useRef(null),b=R.useRef(void 0);Te(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function v(){p&&n&&n(p)}function E(){g&&(Te(!1,g.toString()),e&&e(g))}R.useEffect(function(){f({type:"RESET"})},[a,f]),R.useEffect(function(){if(!a)return;const M=wd(a.getTextContent()),_=M;return M.promise.then(I=>{f({type:"RESOLVE",value:I})}).catch(I=>{f({type:"REJECT",error:I})}),()=>fa(_)},[a,f]),R.useEffect(()=>{if(p!==void 0){if(p===!1){E();return}v()}},[p]);const x=R.useCallback(()=>{r&&r()},[r]),C=R.useCallback(T=>{Te(!1,T.toString()),s&&s(T)},[s]);function S(){const T=b.current;T&&T.classList.add("active")}function k(){const T=b.current;T&&T.classList.remove("active")}const L=R.useMemo(()=>a.getViewport({scale:h,rotation:d}),[a,d,h]);return R.useLayoutEffect(function(){if(!a||!p)return;const{current:M}=m;if(!M)return;M.innerHTML="";const _=a.streamTextContent({includeMarkedContent:!0}),I={container:M,textContentSource:_,viewport:L},F=new MA(I),H=F;return F.render().then(()=>{const B=document.createElement("div");B.className="endOfContent",M.append(B),b.current=B;const W=M.querySelectorAll('[role="presentation"]');if(t){let $=0;p.items.forEach((N,O)=>{if(!dT(N))return;const at=W[$];if(!at)return;const ot=t(Object.assign({pageIndex:o,pageNumber:l,itemIndex:O},N));at.innerHTML=ot,$+=N.str&&N.hasEOL?2:1})}x()}).catch(C),()=>fa(H)},[t,C,x,a,o,l,p,L]),q.jsx("div",{className:$o("react-pdf__Page__textContent","textLayer"),onMouseUp:k,onMouseDown:S,ref:m})}function uT(){const i=BA(),t=Pu();jt(t);const e=Object.assign(Object.assign({},i),t),{imageResourcesPath:n,linkService:s,onGetAnnotationsError:r,onGetAnnotationsSuccess:a,onRenderAnnotationLayerError:o,onRenderAnnotationLayerSuccess:l,page:d,pdf:h,renderForms:u,rotate:f,scale:p=1}=e;jt(h),jt(d),jt(s);const[g,m]=Bo(),{value:b,error:v}=g,E=R.useRef(null);Te(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function x(){b&&a&&a(b)}function C(){v&&(Te(!1,v.toString()),r&&r(v))}R.useEffect(function(){m({type:"RESET"})},[m,d]),R.useEffect(function(){if(!d)return;const M=wd(d.getAnnotations()),_=M;return M.promise.then(I=>{m({type:"RESOLVE",value:I})}).catch(I=>{m({type:"REJECT",error:I})}),()=>{fa(_)}},[m,d]),R.useEffect(()=>{if(b!==void 0){if(b===!1){C();return}x()}},[b]);function S(){l&&l()}function k(T){Te(!1,`${T}`),o&&o(T)}const L=R.useMemo(()=>d.getViewport({scale:p,rotation:f}),[d,f,p]);return R.useEffect(function(){if(!h||!d||!s||!b)return;const{current:M}=E;if(!M)return;const _=L.clone({dontFlip:!0}),I={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:M,l10n:null,page:d,viewport:_},F={annotations:b,annotationStorage:h.annotationStorage,div:M,imageResourcesPath:n,linkService:s,page:d,renderForms:u,viewport:_};M.innerHTML="";try{new TA(I).render(F),S()}catch(H){k(H)}return()=>{}},[b,n,s,d,h,u,L]),q.jsx("div",{className:$o("react-pdf__Page__annotations","annotationLayer"),ref:E})}var fT=function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};const Nv=1;function pT(i){const t=BA(),e=Object.assign(Object.assign({},t),i),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:r,canvasRef:a,children:o,className:l,customRenderer:d,customTextRenderer:h,devicePixelRatio:u,error:f="Failed to load the page.",height:p,inputRef:g,loading:m="Loading page",noData:b="No page specified.",onGetAnnotationsError:v,onGetAnnotationsSuccess:E,onGetStructTreeError:x,onGetStructTreeSuccess:C,onGetTextError:S,onGetTextSuccess:k,onLoadError:L,onLoadSuccess:T,onRenderAnnotationLayerError:M,onRenderAnnotationLayerSuccess:_,onRenderError:I,onRenderSuccess:F,onRenderTextLayerError:H,onRenderTextLayerSuccess:B,pageIndex:W,pageNumber:$,pdf:N,registerPage:O,renderAnnotationLayer:at=!0,renderForms:ot=!1,renderMode:Ct="canvas",renderTextLayer:vt=!0,rotate:et,scale:ft=Nv,unregisterPage:It,width:Lt}=e,Q=fT(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[pt,Rt]=Bo(),{value:dt,error:gt}=pt,G=R.useRef(null);jt(N);const K=sr($)?$-1:W??null,lt=$??(sr(W)?W+1:null),wt=et??(dt?dt.rotate:null),bt=R.useMemo(()=>{if(!dt)return null;let fn=1;const pn=ft??Nv;if(Lt||p){const se=dt.getViewport({scale:1,rotation:wt});Lt?fn=Lt/se.width:p&&(fn=p/se.height)}return pn*fn},[p,dt,wt,ft,Lt]);R.useEffect(function(){return()=>{sr(K)&&s&&It&&It(K)}},[s,N,K,It]);function Qt(){if(T){if(!dt||!bt)return;T(Jp(dt,bt))}if(s&&O){if(!sr(K)||!G.current)return;O(K,G.current)}}function te(){gt&&(Te(!1,gt.toString()),L&&L(gt))}R.useEffect(function(){Rt({type:"RESET"})},[Rt,N,K]),R.useEffect(function(){if(!N||!lt)return;const pn=wd(N.getPage(lt)),se=pn;return pn.promise.then(ze=>{Rt({type:"RESOLVE",value:ze})}).catch(ze=>{Rt({type:"REJECT",error:ze})}),()=>fa(se)},[Rt,N,lt]),R.useEffect(()=>{if(dt!==void 0){if(dt===!1){te();return}Qt()}},[dt,bt]);const ue=R.useMemo(()=>dt&&sr(K)&&lt&&sr(wt)&&sr(bt)?{_className:n,canvasBackground:r,customTextRenderer:h,devicePixelRatio:u,onGetAnnotationsError:v,onGetAnnotationsSuccess:E,onGetStructTreeError:x,onGetStructTreeSuccess:C,onGetTextError:S,onGetTextSuccess:k,onRenderAnnotationLayerError:M,onRenderAnnotationLayerSuccess:_,onRenderError:I,onRenderSuccess:F,onRenderTextLayerError:H,onRenderTextLayerSuccess:B,page:dt,pageIndex:K,pageNumber:lt,renderForms:ot,renderTextLayer:vt,rotate:wt,scale:bt}:null,[n,r,h,u,v,E,x,C,S,k,M,_,I,F,H,B,dt,K,lt,ot,vt,wt,bt]),un=R.useMemo(()=>OA(Q,()=>dt&&(bt?Jp(dt,bt):void 0)),[Q,dt,bt]),Se=`${K}@${bt}/${wt}`;function li(){switch(Ct){case"custom":return jt(d),q.jsx(d,{},`${Se}_custom`);case"none":return null;case"canvas":default:return q.jsx(cT,{canvasRef:a},`${Se}_canvas`)}}function ci(){return vt?q.jsx(hT,{},`${Se}_text`):null}function di(){return at?q.jsx(uT,{},`${Se}_annotations`):null}function Qi(){return q.jsxs(jA.Provider,{value:ue,children:[li(),ci(),di(),o]})}function ms(){return lt?N===null||dt===void 0||dt===null?q.jsx(Ba,{type:"loading",children:typeof m=="function"?m():m}):N===!1||dt===!1?q.jsx(Ba,{type:"error",children:typeof f=="function"?f():f}):Qi():q.jsx(Ba,{type:"no-data",children:typeof b=="function"?b():b})}return q.jsx("div",Object.assign({className:$o(n,l),"data-page-number":lt,ref:zA(g,G),style:{"--scale-factor":`${bt}`,backgroundColor:r||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},un,{children:ms()}))}KP();Bg.workerSrc="pdf.worker.mjs";Bg.workerSrc=`//unpkg.com/pdfjs-dist@${DA}/build/pdf.worker.min.mjs`;function PT({src:i}){const[t,e]=R.useState(),[n,s]=R.useState(1),{width:r}=Ox(),a=({numPages:d})=>e(d),o=()=>s(d=>++d),l=()=>s(d=>--d);return q.jsxs(q.Fragment,{children:[q.jsxs("div",{className:"flex flex-row w-full text-center justify-center",children:[q.jsx("button",{onClick:l,disabled:n<=1,className:"p-5",children:q.jsx(JE,{className:n<=1?"hidden":""})}),q.jsx(sT,{file:i,onLoadSuccess:a,children:q.jsx(pT,{pageNumber:n,scale:r>576?.8:.5})}),q.jsx("button",{onClick:o,disabled:n>=(t??-1),className:"p-5",children:q.jsx(tx,{})})]}),q.jsxs("p",{className:"text-center",children:["Page ",n," of ",t]})]})}export{NE as A,dg as B,tx as C,Vv as D,$v as E,Ry as F,ST as J,Yi as P,bT as R,nr as X,_T as a,lu as b,ni as c,Zp as d,Xi as e,cn as f,mb as g,Uv as h,vT as i,PT as j,Ox as k,No as l,wT as m,zS as n,jS as o,$S as p,WS as q,US as r,JE as s,yT as t,ZA as u,iu as v,ob as w,c0 as x,FE as y,HE as z};
