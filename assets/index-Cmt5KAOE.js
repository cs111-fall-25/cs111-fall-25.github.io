var EA=Object.defineProperty;var um=i=>{throw TypeError(i)};var SA=(i,t,e)=>t in i?EA(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var pt=(i,t,e)=>SA(i,typeof t!="symbol"?t+"":t,e),Vu=(i,t,e)=>t.has(i)||um("Cannot "+e);var d=(i,t,e)=>(Vu(i,t,"read from private field"),e?e.call(i):t.get(i)),x=(i,t,e)=>t.has(i)?um("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e),y=(i,t,e,n)=>(Vu(i,t,"write to private field"),n?n.call(i,e):t.set(i,e),e),w=(i,t,e)=>(Vu(i,t,"access private method"),e);var tn=(i,t,e,n)=>({set _(s){y(i,t,s,e)},get _(){return d(i,t,n)}});import{b as R,t as q,D as kA,f as ob,C as lb,R as cb}from"./index-CiYINecr.js";function pn(i,t,{checkForDefaultPrevented:e=!0}={}){return function(s){if(i==null||i(s),e===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function fm(i,t){if(typeof i=="function")return i(t);i!=null&&(i.current=t)}function db(...i){return t=>{let e=!1;const n=i.map(s=>{const r=fm(s,t);return!e&&typeof r=="function"&&(e=!0),r});if(e)return()=>{for(let s=0;s<n.length;s++){const r=n[s];typeof r=="function"?r():fm(i[s],null)}}}}function nr(...i){return R.useCallback(db(...i),i)}function uL(i,t){const e=R.createContext(t),n=r=>{const{children:a,...o}=r,l=R.useMemo(()=>o,Object.values(o));return q.jsx(e.Provider,{value:l,children:a})};n.displayName=i+"Provider";function s(r){const a=R.useContext(e);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${r}\` must be used within \`${i}\``)}return[n,s]}function pg(i,t=[]){let e=[];function n(r,a){const o=R.createContext(a),l=e.length;e=[...e,a];const c=u=>{var v;const{scope:f,children:p,...m}=u,g=((v=f==null?void 0:f[i])==null?void 0:v[l])||o,b=R.useMemo(()=>m,Object.values(m));return q.jsx(g.Provider,{value:b,children:p})};c.displayName=r+"Provider";function h(u,f){var g;const p=((g=f==null?void 0:f[i])==null?void 0:g[l])||o,m=R.useContext(p);if(m)return m;if(a!==void 0)return a;throw new Error(`\`${u}\` must be used within \`${r}\``)}return[c,h]}const s=()=>{const r=e.map(a=>R.createContext(a));return function(o){const l=(o==null?void 0:o[i])||r;return R.useMemo(()=>({[`__scope${i}`]:{...o,[i]:l}}),[o,l])}};return s.scopeName=i,[n,_A(s,...t)]}function _A(...i){const t=i[0];if(i.length===1)return t;const e=()=>{const n=i.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(r){const a=n.reduce((o,{useScope:l,scopeName:c})=>{const u=l(r)[`__scope${c}`];return{...o,...u}},{});return R.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return e.scopeName=t.scopeName,e}var Wo=globalThis!=null&&globalThis.document?R.useLayoutEffect:()=>{},CA=kA[" useInsertionEffect ".trim().toString()]||Wo;function RA({prop:i,defaultProp:t,onChange:e=()=>{},caller:n}){const[s,r,a]=TA({defaultProp:t,onChange:e}),o=i!==void 0,l=o?i:s;{const h=R.useRef(i!==void 0);R.useEffect(()=>{const u=h.current;u!==o&&console.warn(`${n} is changing from ${u?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=o},[o,n])}const c=R.useCallback(h=>{var u;if(o){const f=PA(h)?h(i):h;f!==i&&((u=a.current)==null||u.call(a,f))}else r(h)},[o,i,r,a]);return[l,c]}function TA({defaultProp:i,onChange:t}){const[e,n]=R.useState(i),s=R.useRef(e),r=R.useRef(t);return CA(()=>{r.current=t},[t]),R.useEffect(()=>{var a;s.current!==e&&((a=r.current)==null||a.call(r,e),s.current=e)},[e,s]),[e,n,r]}function PA(i){return typeof i=="function"}function hb(i){const t=MA(i),e=R.forwardRef((n,s)=>{const{children:r,...a}=n,o=R.Children.toArray(r),l=o.find(OA);if(l){const c=l.props.children,h=o.map(u=>u===l?R.Children.count(c)>1?R.Children.only(null):R.isValidElement(c)?c.props.children:null:u);return q.jsx(t,{...a,ref:s,children:R.isValidElement(c)?R.cloneElement(c,void 0,h):null})}return q.jsx(t,{...a,ref:s,children:r})});return e.displayName=`${i}.Slot`,e}var LA=hb("Slot");function MA(i){const t=R.forwardRef((e,n)=>{const{children:s,...r}=e;if(R.isValidElement(s)){const a=DA(s),o=NA(r,s.props);return s.type!==R.Fragment&&(o.ref=n?db(n,a):a),R.cloneElement(s,o)}return R.Children.count(s)>1?R.Children.only(null):null});return t.displayName=`${i}.SlotClone`,t}var IA=Symbol("radix.slottable");function OA(i){return R.isValidElement(i)&&typeof i.type=="function"&&"__radixId"in i.type&&i.type.__radixId===IA}function NA(i,t){const e={...t};for(const n in t){const s=i[n],r=t[n];/^on[A-Z]/.test(n)?s&&r?e[n]=(...o)=>{const l=r(...o);return s(...o),l}:s&&(e[n]=s):n==="style"?e[n]={...s,...r}:n==="className"&&(e[n]=[s,r].filter(Boolean).join(" "))}return{...i,...e}}function DA(i){var n,s;let t=(n=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:n.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?i.ref:(t=(s=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:s.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?i.props.ref:i.props.ref||i.ref)}var FA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],sr=FA.reduce((i,t)=>{const e=hb(`Primitive.${t}`),n=R.forwardRef((s,r)=>{const{asChild:a,...o}=s,l=a?e:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),q.jsx(l,{...o,ref:r})});return n.displayName=`Primitive.${t}`,{...i,[t]:n}},{});function zA(i,t){i&&ob.flushSync(()=>i.dispatchEvent(t))}function mu(i){const t=R.useRef(i);return R.useEffect(()=>{t.current=i}),R.useMemo(()=>(...e)=>{var n;return(n=t.current)==null?void 0:n.call(t,...e)},[])}function HA(i,t=globalThis==null?void 0:globalThis.document){const e=mu(i);R.useEffect(()=>{const n=s=>{s.key==="Escape"&&e(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[e,t])}var BA="DismissableLayer",bf="dismissableLayer.update",$A="dismissableLayer.pointerDownOutside",jA="dismissableLayer.focusOutside",pm,ub=R.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fb=R.forwardRef((i,t)=>{const{disableOutsidePointerEvents:e=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:r,onInteractOutside:a,onDismiss:o,...l}=i,c=R.useContext(ub),[h,u]=R.useState(null),f=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=R.useState({}),m=nr(t,L=>u(L)),g=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(b),A=h?g.indexOf(h):-1,E=c.layersWithOutsidePointerEventsDisabled.size>0,k=A>=v,S=VA(L=>{const P=L.target,M=[...c.branches].some(C=>C.contains(P));!k||M||(s==null||s(L),a==null||a(L),L.defaultPrevented||o==null||o())},f),_=qA(L=>{const P=L.target;[...c.branches].some(C=>C.contains(P))||(r==null||r(L),a==null||a(L),L.defaultPrevented||o==null||o())},f);return HA(L=>{A===c.layers.size-1&&(n==null||n(L),!L.defaultPrevented&&o&&(L.preventDefault(),o()))},f),R.useEffect(()=>{if(h)return e&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(pm=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),gm(),()=>{e&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=pm)}},[h,f,e,c]),R.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),gm())},[h,c]),R.useEffect(()=>{const L=()=>p({});return document.addEventListener(bf,L),()=>document.removeEventListener(bf,L)},[]),q.jsx(sr.div,{...l,ref:m,style:{pointerEvents:E?k?"auto":"none":void 0,...i.style},onFocusCapture:pn(i.onFocusCapture,_.onFocusCapture),onBlurCapture:pn(i.onBlurCapture,_.onBlurCapture),onPointerDownCapture:pn(i.onPointerDownCapture,S.onPointerDownCapture)})});fb.displayName=BA;var UA="DismissableLayerBranch",WA=R.forwardRef((i,t)=>{const e=R.useContext(ub),n=R.useRef(null),s=nr(t,n);return R.useEffect(()=>{const r=n.current;if(r)return e.branches.add(r),()=>{e.branches.delete(r)}},[e.branches]),q.jsx(sr.div,{...i,ref:s})});WA.displayName=UA;function VA(i,t=globalThis==null?void 0:globalThis.document){const e=mu(i),n=R.useRef(!1),s=R.useRef(()=>{});return R.useEffect(()=>{const r=o=>{if(o.target&&!n.current){let l=function(){pb($A,e,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",r)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",r),t.removeEventListener("click",s.current)}},[t,e]),{onPointerDownCapture:()=>n.current=!0}}function qA(i,t=globalThis==null?void 0:globalThis.document){const e=mu(i),n=R.useRef(!1);return R.useEffect(()=>{const s=r=>{r.target&&!n.current&&pb(jA,e,{originalEvent:r},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,e]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function gm(){const i=new CustomEvent(bf);document.dispatchEvent(i)}function pb(i,t,e,{discrete:n}){const s=e.originalEvent.target,r=new CustomEvent(i,{bubbles:!1,cancelable:!0,detail:e});t&&s.addEventListener(i,t,{once:!0}),n?zA(s,r):s.dispatchEvent(r)}const GA=["top","right","bottom","left"],Xi=Math.min,un=Math.max,Lh=Math.round,$d=Math.floor,gs=i=>({x:i,y:i}),XA={left:"right",right:"left",bottom:"top",top:"bottom"},YA={start:"end",end:"start"};function yf(i,t,e){return un(i,Xi(t,e))}function ri(i,t){return typeof i=="function"?i(t):i}function ai(i){return i.split("-")[0]}function Xo(i){return i.split("-")[1]}function gg(i){return i==="x"?"y":"x"}function mg(i){return i==="y"?"height":"width"}const KA=new Set(["top","bottom"]);function us(i){return KA.has(ai(i))?"y":"x"}function vg(i){return gg(us(i))}function JA(i,t,e){e===void 0&&(e=!1);const n=Xo(i),s=vg(i),r=mg(s);let a=s==="x"?n===(e?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[r]>t.floating[r]&&(a=Mh(a)),[a,Mh(a)]}function QA(i){const t=Mh(i);return[wf(i),t,wf(t)]}function wf(i){return i.replace(/start|end/g,t=>YA[t])}const mm=["left","right"],vm=["right","left"],ZA=["top","bottom"],tx=["bottom","top"];function ex(i,t,e){switch(i){case"top":case"bottom":return e?t?vm:mm:t?mm:vm;case"left":case"right":return t?ZA:tx;default:return[]}}function nx(i,t,e,n){const s=Xo(i);let r=ex(ai(i),e==="start",n);return s&&(r=r.map(a=>a+"-"+s),t&&(r=r.concat(r.map(wf)))),r}function Mh(i){return i.replace(/left|right|bottom|top/g,t=>XA[t])}function sx(i){return{top:0,right:0,bottom:0,left:0,...i}}function gb(i){return typeof i!="number"?sx(i):{top:i,right:i,bottom:i,left:i}}function Ih(i){const{x:t,y:e,width:n,height:s}=i;return{width:n,height:s,top:e,left:t,right:t+n,bottom:e+s,x:t,y:e}}function bm(i,t,e){let{reference:n,floating:s}=i;const r=us(t),a=vg(t),o=mg(a),l=ai(t),c=r==="y",h=n.x+n.width/2-s.width/2,u=n.y+n.height/2-s.height/2,f=n[o]/2-s[o]/2;let p;switch(l){case"top":p={x:h,y:n.y-s.height};break;case"bottom":p={x:h,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:u};break;case"left":p={x:n.x-s.width,y:u};break;default:p={x:n.x,y:n.y}}switch(Xo(t)){case"start":p[a]-=f*(e&&c?-1:1);break;case"end":p[a]+=f*(e&&c?-1:1);break}return p}const ix=async(i,t,e)=>{const{placement:n="bottom",strategy:s="absolute",middleware:r=[],platform:a}=e,o=r.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let c=await a.getElementRects({reference:i,floating:t,strategy:s}),{x:h,y:u}=bm(c,n,l),f=n,p={},m=0;for(let g=0;g<o.length;g++){const{name:b,fn:v}=o[g],{x:A,y:E,data:k,reset:S}=await v({x:h,y:u,initialPlacement:n,placement:f,strategy:s,middlewareData:p,rects:c,platform:a,elements:{reference:i,floating:t}});h=A??h,u=E??u,p={...p,[b]:{...p[b],...k}},S&&m<=50&&(m++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(c=S.rects===!0?await a.getElementRects({reference:i,floating:t,strategy:s}):S.rects),{x:h,y:u}=bm(c,f,l)),g=-1)}return{x:h,y:u,placement:f,strategy:s,middlewareData:p}};async function Ol(i,t){var e;t===void 0&&(t={});const{x:n,y:s,platform:r,rects:a,elements:o,strategy:l}=i,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:u="floating",altBoundary:f=!1,padding:p=0}=ri(t,i),m=gb(p),b=o[f?u==="floating"?"reference":"floating":u],v=Ih(await r.getClippingRect({element:(e=await(r.isElement==null?void 0:r.isElement(b)))==null||e?b:b.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(o.floating)),boundary:c,rootBoundary:h,strategy:l})),A=u==="floating"?{x:n,y:s,width:a.floating.width,height:a.floating.height}:a.reference,E=await(r.getOffsetParent==null?void 0:r.getOffsetParent(o.floating)),k=await(r.isElement==null?void 0:r.isElement(E))?await(r.getScale==null?void 0:r.getScale(E))||{x:1,y:1}:{x:1,y:1},S=Ih(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:A,offsetParent:E,strategy:l}):A);return{top:(v.top-S.top+m.top)/k.y,bottom:(S.bottom-v.bottom+m.bottom)/k.y,left:(v.left-S.left+m.left)/k.x,right:(S.right-v.right+m.right)/k.x}}const rx=i=>({name:"arrow",options:i,async fn(t){const{x:e,y:n,placement:s,rects:r,platform:a,elements:o,middlewareData:l}=t,{element:c,padding:h=0}=ri(i,t)||{};if(c==null)return{};const u=gb(h),f={x:e,y:n},p=vg(s),m=mg(p),g=await a.getDimensions(c),b=p==="y",v=b?"top":"left",A=b?"bottom":"right",E=b?"clientHeight":"clientWidth",k=r.reference[m]+r.reference[p]-f[p]-r.floating[m],S=f[p]-r.reference[p],_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let L=_?_[E]:0;(!L||!await(a.isElement==null?void 0:a.isElement(_)))&&(L=o.floating[E]||r.floating[m]);const P=k/2-S/2,M=L/2-g[m]/2-1,C=Xi(u[v],M),I=Xi(u[A],M),F=C,z=L-g[m]-I,H=L/2-g[m]/2+P,W=yf(F,H,z),j=!l.arrow&&Xo(s)!=null&&H!==W&&r.reference[m]/2-(H<F?C:I)-g[m]/2<0,D=j?H<F?H-F:H-z:0;return{[p]:f[p]+D,data:{[p]:W,centerOffset:H-W-D,...j&&{alignmentOffset:D}},reset:j}}}),ax=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(t){var e,n;const{placement:s,middlewareData:r,rects:a,initialPlacement:o,platform:l,elements:c}=t,{mainAxis:h=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...b}=ri(i,t);if((e=r.arrow)!=null&&e.alignmentOffset)return{};const v=ai(s),A=us(o),E=ai(o)===o,k=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=f||(E||!g?[Mh(o)]:QA(o)),_=m!=="none";!f&&_&&S.push(...nx(o,g,m,k));const L=[o,...S],P=await Ol(t,b),M=[];let C=((n=r.flip)==null?void 0:n.overflows)||[];if(h&&M.push(P[v]),u){const H=JA(s,a,k);M.push(P[H[0]],P[H[1]])}if(C=[...C,{placement:s,overflows:M}],!M.every(H=>H<=0)){var I,F;const H=(((I=r.flip)==null?void 0:I.index)||0)+1,W=L[H];if(W&&(!(u==="alignment"?A!==us(W):!1)||C.every(N=>N.overflows[0]>0&&us(N.placement)===A)))return{data:{index:H,overflows:C},reset:{placement:W}};let j=(F=C.filter(D=>D.overflows[0]<=0).sort((D,N)=>D.overflows[1]-N.overflows[1])[0])==null?void 0:F.placement;if(!j)switch(p){case"bestFit":{var z;const D=(z=C.filter(N=>{if(_){const ot=us(N.placement);return ot===A||ot==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(ot=>ot>0).reduce((ot,lt)=>ot+lt,0)]).sort((N,ot)=>N[1]-ot[1])[0])==null?void 0:z[0];D&&(j=D);break}case"initialPlacement":j=o;break}if(s!==j)return{reset:{placement:j}}}return{}}}};function ym(i,t){return{top:i.top-t.height,right:i.right-t.width,bottom:i.bottom-t.height,left:i.left-t.width}}function wm(i){return GA.some(t=>i[t]>=0)}const ox=function(i){return i===void 0&&(i={}),{name:"hide",options:i,async fn(t){const{rects:e}=t,{strategy:n="referenceHidden",...s}=ri(i,t);switch(n){case"referenceHidden":{const r=await Ol(t,{...s,elementContext:"reference"}),a=ym(r,e.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:wm(a)}}}case"escaped":{const r=await Ol(t,{...s,altBoundary:!0}),a=ym(r,e.floating);return{data:{escapedOffsets:a,escaped:wm(a)}}}default:return{}}}}},mb=new Set(["left","top"]);async function lx(i,t){const{placement:e,platform:n,elements:s}=i,r=await(n.isRTL==null?void 0:n.isRTL(s.floating)),a=ai(e),o=Xo(e),l=us(e)==="y",c=mb.has(a)?-1:1,h=r&&l?-1:1,u=ri(t,i);let{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return o&&typeof m=="number"&&(p=o==="end"?m*-1:m),l?{x:p*h,y:f*c}:{x:f*c,y:p*h}}const cx=function(i){return i===void 0&&(i=0),{name:"offset",options:i,async fn(t){var e,n;const{x:s,y:r,placement:a,middlewareData:o}=t,l=await lx(t,i);return a===((e=o.offset)==null?void 0:e.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:r+l.y,data:{...l,placement:a}}}}},dx=function(i){return i===void 0&&(i={}),{name:"shift",options:i,async fn(t){const{x:e,y:n,placement:s}=t,{mainAxis:r=!0,crossAxis:a=!1,limiter:o={fn:b=>{let{x:v,y:A}=b;return{x:v,y:A}}},...l}=ri(i,t),c={x:e,y:n},h=await Ol(t,l),u=us(ai(s)),f=gg(u);let p=c[f],m=c[u];if(r){const b=f==="y"?"top":"left",v=f==="y"?"bottom":"right",A=p+h[b],E=p-h[v];p=yf(A,p,E)}if(a){const b=u==="y"?"top":"left",v=u==="y"?"bottom":"right",A=m+h[b],E=m-h[v];m=yf(A,m,E)}const g=o.fn({...t,[f]:p,[u]:m});return{...g,data:{x:g.x-e,y:g.y-n,enabled:{[f]:r,[u]:a}}}}}},hx=function(i){return i===void 0&&(i={}),{options:i,fn(t){const{x:e,y:n,placement:s,rects:r,middlewareData:a}=t,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=ri(i,t),h={x:e,y:n},u=us(s),f=gg(u);let p=h[f],m=h[u];const g=ri(o,t),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const E=f==="y"?"height":"width",k=r.reference[f]-r.floating[E]+b.mainAxis,S=r.reference[f]+r.reference[E]-b.mainAxis;p<k?p=k:p>S&&(p=S)}if(c){var v,A;const E=f==="y"?"width":"height",k=mb.has(ai(s)),S=r.reference[u]-r.floating[E]+(k&&((v=a.offset)==null?void 0:v[u])||0)+(k?0:b.crossAxis),_=r.reference[u]+r.reference[E]+(k?0:((A=a.offset)==null?void 0:A[u])||0)-(k?b.crossAxis:0);m<S?m=S:m>_&&(m=_)}return{[f]:p,[u]:m}}}},ux=function(i){return i===void 0&&(i={}),{name:"size",options:i,async fn(t){var e,n;const{placement:s,rects:r,platform:a,elements:o}=t,{apply:l=()=>{},...c}=ri(i,t),h=await Ol(t,c),u=ai(s),f=Xo(s),p=us(s)==="y",{width:m,height:g}=r.floating;let b,v;u==="top"||u==="bottom"?(b=u,v=f===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(v=u,b=f==="end"?"top":"bottom");const A=g-h.top-h.bottom,E=m-h.left-h.right,k=Xi(g-h[b],A),S=Xi(m-h[v],E),_=!t.middlewareData.shift;let L=k,P=S;if((e=t.middlewareData.shift)!=null&&e.enabled.x&&(P=E),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(L=A),_&&!f){const C=un(h.left,0),I=un(h.right,0),F=un(h.top,0),z=un(h.bottom,0);p?P=m-2*(C!==0||I!==0?C+I:un(h.left,h.right)):L=g-2*(F!==0||z!==0?F+z:un(h.top,h.bottom))}await l({...t,availableWidth:P,availableHeight:L});const M=await a.getDimensions(o.floating);return m!==M.width||g!==M.height?{reset:{rects:!0}}:{}}}};function vu(){return typeof window<"u"}function Yo(i){return vb(i)?(i.nodeName||"").toLowerCase():"#document"}function gn(i){var t;return(i==null||(t=i.ownerDocument)==null?void 0:t.defaultView)||window}function ws(i){var t;return(t=(vb(i)?i.ownerDocument:i.document)||window.document)==null?void 0:t.documentElement}function vb(i){return vu()?i instanceof Node||i instanceof gn(i).Node:!1}function qn(i){return vu()?i instanceof Element||i instanceof gn(i).Element:!1}function bs(i){return vu()?i instanceof HTMLElement||i instanceof gn(i).HTMLElement:!1}function Am(i){return!vu()||typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof gn(i).ShadowRoot}const fx=new Set(["inline","contents"]);function wd(i){const{overflow:t,overflowX:e,overflowY:n,display:s}=Gn(i);return/auto|scroll|overlay|hidden|clip/.test(t+n+e)&&!fx.has(s)}const px=new Set(["table","td","th"]);function gx(i){return px.has(Yo(i))}const mx=[":popover-open",":modal"];function bu(i){return mx.some(t=>{try{return i.matches(t)}catch{return!1}})}const vx=["transform","translate","scale","rotate","perspective"],bx=["transform","translate","scale","rotate","perspective","filter"],yx=["paint","layout","strict","content"];function bg(i){const t=yg(),e=qn(i)?Gn(i):i;return vx.some(n=>e[n]?e[n]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||bx.some(n=>(e.willChange||"").includes(n))||yx.some(n=>(e.contain||"").includes(n))}function wx(i){let t=Yi(i);for(;bs(t)&&!Vo(t);){if(bg(t))return t;if(bu(t))return null;t=Yi(t)}return null}function yg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Ax=new Set(["html","body","#document"]);function Vo(i){return Ax.has(Yo(i))}function Gn(i){return gn(i).getComputedStyle(i)}function yu(i){return qn(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.scrollX,scrollTop:i.scrollY}}function Yi(i){if(Yo(i)==="html")return i;const t=i.assignedSlot||i.parentNode||Am(i)&&i.host||ws(i);return Am(t)?t.host:t}function bb(i){const t=Yi(i);return Vo(t)?i.ownerDocument?i.ownerDocument.body:i.body:bs(t)&&wd(t)?t:bb(t)}function Nl(i,t,e){var n;t===void 0&&(t=[]),e===void 0&&(e=!0);const s=bb(i),r=s===((n=i.ownerDocument)==null?void 0:n.body),a=gn(s);if(r){const o=Af(a);return t.concat(a,a.visualViewport||[],wd(s)?s:[],o&&e?Nl(o):[])}return t.concat(s,Nl(s,[],e))}function Af(i){return i.parent&&Object.getPrototypeOf(i.parent)?i.frameElement:null}function yb(i){const t=Gn(i);let e=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=bs(i),r=s?i.offsetWidth:e,a=s?i.offsetHeight:n,o=Lh(e)!==r||Lh(n)!==a;return o&&(e=r,n=a),{width:e,height:n,$:o}}function wg(i){return qn(i)?i:i.contextElement}function $a(i){const t=wg(i);if(!bs(t))return gs(1);const e=t.getBoundingClientRect(),{width:n,height:s,$:r}=yb(t);let a=(r?Lh(e.width):e.width)/n,o=(r?Lh(e.height):e.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const xx=gs(0);function wb(i){const t=gn(i);return!yg()||!t.visualViewport?xx:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Ex(i,t,e){return t===void 0&&(t=!1),!e||t&&e!==gn(i)?!1:t}function pa(i,t,e,n){t===void 0&&(t=!1),e===void 0&&(e=!1);const s=i.getBoundingClientRect(),r=wg(i);let a=gs(1);t&&(n?qn(n)&&(a=$a(n)):a=$a(i));const o=Ex(r,e,n)?wb(r):gs(0);let l=(s.left+o.x)/a.x,c=(s.top+o.y)/a.y,h=s.width/a.x,u=s.height/a.y;if(r){const f=gn(r),p=n&&qn(n)?gn(n):n;let m=f,g=Af(m);for(;g&&n&&p!==m;){const b=$a(g),v=g.getBoundingClientRect(),A=Gn(g),E=v.left+(g.clientLeft+parseFloat(A.paddingLeft))*b.x,k=v.top+(g.clientTop+parseFloat(A.paddingTop))*b.y;l*=b.x,c*=b.y,h*=b.x,u*=b.y,l+=E,c+=k,m=gn(g),g=Af(m)}}return Ih({width:h,height:u,x:l,y:c})}function Ag(i,t){const e=yu(i).scrollLeft;return t?t.left+e:pa(ws(i)).left+e}function Ab(i,t,e){e===void 0&&(e=!1);const n=i.getBoundingClientRect(),s=n.left+t.scrollLeft-(e?0:Ag(i,n)),r=n.top+t.scrollTop;return{x:s,y:r}}function Sx(i){let{elements:t,rect:e,offsetParent:n,strategy:s}=i;const r=s==="fixed",a=ws(n),o=t?bu(t.floating):!1;if(n===a||o&&r)return e;let l={scrollLeft:0,scrollTop:0},c=gs(1);const h=gs(0),u=bs(n);if((u||!u&&!r)&&((Yo(n)!=="body"||wd(a))&&(l=yu(n)),bs(n))){const p=pa(n);c=$a(n),h.x=p.x+n.clientLeft,h.y=p.y+n.clientTop}const f=a&&!u&&!r?Ab(a,l,!0):gs(0);return{width:e.width*c.x,height:e.height*c.y,x:e.x*c.x-l.scrollLeft*c.x+h.x+f.x,y:e.y*c.y-l.scrollTop*c.y+h.y+f.y}}function kx(i){return Array.from(i.getClientRects())}function _x(i){const t=ws(i),e=yu(i),n=i.ownerDocument.body,s=un(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),r=un(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-e.scrollLeft+Ag(i);const o=-e.scrollTop;return Gn(n).direction==="rtl"&&(a+=un(t.clientWidth,n.clientWidth)-s),{width:s,height:r,x:a,y:o}}function Cx(i,t){const e=gn(i),n=ws(i),s=e.visualViewport;let r=n.clientWidth,a=n.clientHeight,o=0,l=0;if(s){r=s.width,a=s.height;const c=yg();(!c||c&&t==="fixed")&&(o=s.offsetLeft,l=s.offsetTop)}return{width:r,height:a,x:o,y:l}}const Rx=new Set(["absolute","fixed"]);function Tx(i,t){const e=pa(i,!0,t==="fixed"),n=e.top+i.clientTop,s=e.left+i.clientLeft,r=bs(i)?$a(i):gs(1),a=i.clientWidth*r.x,o=i.clientHeight*r.y,l=s*r.x,c=n*r.y;return{width:a,height:o,x:l,y:c}}function xm(i,t,e){let n;if(t==="viewport")n=Cx(i,e);else if(t==="document")n=_x(ws(i));else if(qn(t))n=Tx(t,e);else{const s=wb(i);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Ih(n)}function xb(i,t){const e=Yi(i);return e===t||!qn(e)||Vo(e)?!1:Gn(e).position==="fixed"||xb(e,t)}function Px(i,t){const e=t.get(i);if(e)return e;let n=Nl(i,[],!1).filter(o=>qn(o)&&Yo(o)!=="body"),s=null;const r=Gn(i).position==="fixed";let a=r?Yi(i):i;for(;qn(a)&&!Vo(a);){const o=Gn(a),l=bg(a);!l&&o.position==="fixed"&&(s=null),(r?!l&&!s:!l&&o.position==="static"&&!!s&&Rx.has(s.position)||wd(a)&&!l&&xb(i,a))?n=n.filter(h=>h!==a):s=o,a=Yi(a)}return t.set(i,n),n}function Lx(i){let{element:t,boundary:e,rootBoundary:n,strategy:s}=i;const a=[...e==="clippingAncestors"?bu(t)?[]:Px(t,this._c):[].concat(e),n],o=a[0],l=a.reduce((c,h)=>{const u=xm(t,h,s);return c.top=un(u.top,c.top),c.right=Xi(u.right,c.right),c.bottom=Xi(u.bottom,c.bottom),c.left=un(u.left,c.left),c},xm(t,o,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Mx(i){const{width:t,height:e}=yb(i);return{width:t,height:e}}function Ix(i,t,e){const n=bs(t),s=ws(t),r=e==="fixed",a=pa(i,!0,r,t);let o={scrollLeft:0,scrollTop:0};const l=gs(0);function c(){l.x=Ag(s)}if(n||!n&&!r)if((Yo(t)!=="body"||wd(s))&&(o=yu(t)),n){const p=pa(t,!0,r,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else s&&c();r&&!n&&s&&c();const h=s&&!n&&!r?Ab(s,o):gs(0),u=a.left+o.scrollLeft-l.x-h.x,f=a.top+o.scrollTop-l.y-h.y;return{x:u,y:f,width:a.width,height:a.height}}function qu(i){return Gn(i).position==="static"}function Em(i,t){if(!bs(i)||Gn(i).position==="fixed")return null;if(t)return t(i);let e=i.offsetParent;return ws(i)===e&&(e=e.ownerDocument.body),e}function Eb(i,t){const e=gn(i);if(bu(i))return e;if(!bs(i)){let s=Yi(i);for(;s&&!Vo(s);){if(qn(s)&&!qu(s))return s;s=Yi(s)}return e}let n=Em(i,t);for(;n&&gx(n)&&qu(n);)n=Em(n,t);return n&&Vo(n)&&qu(n)&&!bg(n)?e:n||wx(i)||e}const Ox=async function(i){const t=this.getOffsetParent||Eb,e=this.getDimensions,n=await e(i.floating);return{reference:Ix(i.reference,await t(i.floating),i.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Nx(i){return Gn(i).direction==="rtl"}const Dx={convertOffsetParentRelativeRectToViewportRelativeRect:Sx,getDocumentElement:ws,getClippingRect:Lx,getOffsetParent:Eb,getElementRects:Ox,getClientRects:kx,getDimensions:Mx,getScale:$a,isElement:qn,isRTL:Nx};function Sb(i,t){return i.x===t.x&&i.y===t.y&&i.width===t.width&&i.height===t.height}function Fx(i,t){let e=null,n;const s=ws(i);function r(){var o;clearTimeout(n),(o=e)==null||o.disconnect(),e=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),r();const c=i.getBoundingClientRect(),{left:h,top:u,width:f,height:p}=c;if(o||t(),!f||!p)return;const m=$d(u),g=$d(s.clientWidth-(h+f)),b=$d(s.clientHeight-(u+p)),v=$d(h),E={rootMargin:-m+"px "+-g+"px "+-b+"px "+-v+"px",threshold:un(0,Xi(1,l))||1};let k=!0;function S(_){const L=_[0].intersectionRatio;if(L!==l){if(!k)return a();L?a(!1,L):n=setTimeout(()=>{a(!1,1e-7)},1e3)}L===1&&!Sb(c,i.getBoundingClientRect())&&a(),k=!1}try{e=new IntersectionObserver(S,{...E,root:s.ownerDocument})}catch{e=new IntersectionObserver(S,E)}e.observe(i)}return a(!0),r}function zx(i,t,e,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:r=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=wg(i),h=s||r?[...c?Nl(c):[],...Nl(t)]:[];h.forEach(v=>{s&&v.addEventListener("scroll",e,{passive:!0}),r&&v.addEventListener("resize",e)});const u=c&&o?Fx(c,e):null;let f=-1,p=null;a&&(p=new ResizeObserver(v=>{let[A]=v;A&&A.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var E;(E=p)==null||E.observe(t)})),e()}),c&&!l&&p.observe(c),p.observe(t));let m,g=l?pa(i):null;l&&b();function b(){const v=pa(i);g&&!Sb(g,v)&&e(),g=v,m=requestAnimationFrame(b)}return e(),()=>{var v;h.forEach(A=>{s&&A.removeEventListener("scroll",e),r&&A.removeEventListener("resize",e)}),u==null||u(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const Hx=cx,Bx=dx,$x=ax,jx=ux,Ux=ox,Sm=rx,Wx=hx,Vx=(i,t,e)=>{const n=new Map,s={platform:Dx,...e},r={...s.platform,_c:n};return ix(i,t,{...s,platform:r})};var qx=typeof document<"u",Gx=function(){},th=qx?R.useLayoutEffect:Gx;function Oh(i,t){if(i===t)return!0;if(typeof i!=typeof t)return!1;if(typeof i=="function"&&i.toString()===t.toString())return!0;let e,n,s;if(i&&t&&typeof i=="object"){if(Array.isArray(i)){if(e=i.length,e!==t.length)return!1;for(n=e;n--!==0;)if(!Oh(i[n],t[n]))return!1;return!0}if(s=Object.keys(i),e=s.length,e!==Object.keys(t).length)return!1;for(n=e;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=e;n--!==0;){const r=s[n];if(!(r==="_owner"&&i.$$typeof)&&!Oh(i[r],t[r]))return!1}return!0}return i!==i&&t!==t}function kb(i){return typeof window>"u"?1:(i.ownerDocument.defaultView||window).devicePixelRatio||1}function km(i,t){const e=kb(i);return Math.round(t*e)/e}function Gu(i){const t=R.useRef(i);return th(()=>{t.current=i}),t}function Xx(i){i===void 0&&(i={});const{placement:t="bottom",strategy:e="absolute",middleware:n=[],platform:s,elements:{reference:r,floating:a}={},transform:o=!0,whileElementsMounted:l,open:c}=i,[h,u]=R.useState({x:0,y:0,strategy:e,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=R.useState(n);Oh(f,n)||p(n);const[m,g]=R.useState(null),[b,v]=R.useState(null),A=R.useCallback(N=>{N!==_.current&&(_.current=N,g(N))},[]),E=R.useCallback(N=>{N!==L.current&&(L.current=N,v(N))},[]),k=r||m,S=a||b,_=R.useRef(null),L=R.useRef(null),P=R.useRef(h),M=l!=null,C=Gu(l),I=Gu(s),F=Gu(c),z=R.useCallback(()=>{if(!_.current||!L.current)return;const N={placement:t,strategy:e,middleware:f};I.current&&(N.platform=I.current),Vx(_.current,L.current,N).then(ot=>{const lt={...ot,isPositioned:F.current!==!1};H.current&&!Oh(P.current,lt)&&(P.current=lt,ob.flushSync(()=>{u(lt)}))})},[f,t,e,I,F]);th(()=>{c===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,u(N=>({...N,isPositioned:!1})))},[c]);const H=R.useRef(!1);th(()=>(H.current=!0,()=>{H.current=!1}),[]),th(()=>{if(k&&(_.current=k),S&&(L.current=S),k&&S){if(C.current)return C.current(k,S,z);z()}},[k,S,z,C,M]);const W=R.useMemo(()=>({reference:_,floating:L,setReference:A,setFloating:E}),[A,E]),j=R.useMemo(()=>({reference:k,floating:S}),[k,S]),D=R.useMemo(()=>{const N={position:e,left:0,top:0};if(!j.floating)return N;const ot=km(j.floating,h.x),lt=km(j.floating,h.y);return o?{...N,transform:"translate("+ot+"px, "+lt+"px)",...kb(j.floating)>=1.5&&{willChange:"transform"}}:{position:e,left:ot,top:lt}},[e,o,j.floating,h.x,h.y]);return R.useMemo(()=>({...h,update:z,refs:W,elements:j,floatingStyles:D}),[h,z,W,j,D])}const Yx=i=>{function t(e){return{}.hasOwnProperty.call(e,"current")}return{name:"arrow",options:i,fn(e){const{element:n,padding:s}=typeof i=="function"?i(e):i;return n&&t(n)?n.current!=null?Sm({element:n.current,padding:s}).fn(e):{}:n?Sm({element:n,padding:s}).fn(e):{}}}},Kx=(i,t)=>({...Hx(i),options:[i,t]}),Jx=(i,t)=>({...Bx(i),options:[i,t]}),Qx=(i,t)=>({...Wx(i),options:[i,t]}),Zx=(i,t)=>({...$x(i),options:[i,t]}),tE=(i,t)=>({...jx(i),options:[i,t]}),eE=(i,t)=>({...Ux(i),options:[i,t]}),nE=(i,t)=>({...Yx(i),options:[i,t]});var sE="Arrow",_b=R.forwardRef((i,t)=>{const{children:e,width:n=10,height:s=5,...r}=i;return q.jsx(sr.svg,{...r,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:i.asChild?e:q.jsx("polygon",{points:"0,0 30,0 15,10"})})});_b.displayName=sE;var iE=_b;function Cb(i){const[t,e]=R.useState(void 0);return Wo(()=>{if(i){e({width:i.offsetWidth,height:i.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const r=s[0];let a,o;if("borderBoxSize"in r){const l=r.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,o=c.blockSize}else a=i.offsetWidth,o=i.offsetHeight;e({width:a,height:o})});return n.observe(i,{box:"border-box"}),()=>n.unobserve(i)}else e(void 0)},[i]),t}var xg="Popper",[Rb,Tb]=pg(xg),[rE,Pb]=Rb(xg),Lb=i=>{const{__scopePopper:t,children:e}=i,[n,s]=R.useState(null);return q.jsx(rE,{scope:t,anchor:n,onAnchorChange:s,children:e})};Lb.displayName=xg;var Mb="PopperAnchor",Ib=R.forwardRef((i,t)=>{const{__scopePopper:e,virtualRef:n,...s}=i,r=Pb(Mb,e),a=R.useRef(null),o=nr(t,a),l=R.useRef(null);return R.useEffect(()=>{const c=l.current;l.current=(n==null?void 0:n.current)||a.current,c!==l.current&&r.onAnchorChange(l.current)}),n?null:q.jsx(sr.div,{...s,ref:o})});Ib.displayName=Mb;var Eg="PopperContent",[aE,oE]=Rb(Eg),Ob=R.forwardRef((i,t)=>{var Q,vt,Lt,ft,bt,G;const{__scopePopper:e,side:n="bottom",sideOffset:s=0,align:r="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:h=0,sticky:u="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:m,...g}=i,b=Pb(Eg,e),[v,A]=R.useState(null),E=nr(t,K=>A(K)),[k,S]=R.useState(null),_=Cb(k),L=(_==null?void 0:_.width)??0,P=(_==null?void 0:_.height)??0,M=n+(r!=="center"?"-"+r:""),C=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},I=Array.isArray(c)?c:[c],F=I.length>0,z={padding:C,boundary:I.filter(cE),altBoundary:F},{refs:H,floatingStyles:W,placement:j,isPositioned:D,middlewareData:N}=Xx({strategy:"fixed",placement:M,whileElementsMounted:(...K)=>zx(...K,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[Kx({mainAxis:s+P,alignmentAxis:a}),l&&Jx({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?Qx():void 0,...z}),l&&Zx({...z}),tE({...z,apply:({elements:K,rects:ht,availableWidth:St,availableHeight:xt})=>{const{width:ee,height:ie}=ht.reference,me=K.floating.style;me.setProperty("--radix-popper-available-width",`${St}px`),me.setProperty("--radix-popper-available-height",`${xt}px`),me.setProperty("--radix-popper-anchor-width",`${ee}px`),me.setProperty("--radix-popper-anchor-height",`${ie}px`)}}),k&&nE({element:k,padding:o}),dE({arrowWidth:L,arrowHeight:P}),f&&eE({strategy:"referenceHidden",...z})]}),[ot,lt]=Fb(j),Rt=mu(m);Wo(()=>{D&&(Rt==null||Rt())},[D,Rt]);const At=(Q=N.arrow)==null?void 0:Q.x,nt=(vt=N.arrow)==null?void 0:vt.y,mt=((Lt=N.arrow)==null?void 0:Lt.centerOffset)!==0,[Dt,Ot]=R.useState();return Wo(()=>{v&&Ot(window.getComputedStyle(v).zIndex)},[v]),q.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:D?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Dt,"--radix-popper-transform-origin":[(ft=N.transformOrigin)==null?void 0:ft.x,(bt=N.transformOrigin)==null?void 0:bt.y].join(" "),...((G=N.hide)==null?void 0:G.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:i.dir,children:q.jsx(aE,{scope:e,placedSide:ot,onArrowChange:S,arrowX:At,arrowY:nt,shouldHideArrow:mt,children:q.jsx(sr.div,{"data-side":ot,"data-align":lt,...g,ref:E,style:{...g.style,animation:D?void 0:"none"}})})})});Ob.displayName=Eg;var Nb="PopperArrow",lE={top:"bottom",right:"left",bottom:"top",left:"right"},Db=R.forwardRef(function(t,e){const{__scopePopper:n,...s}=t,r=oE(Nb,n),a=lE[r.placedSide];return q.jsx("span",{ref:r.onArrowChange,style:{position:"absolute",left:r.arrowX,top:r.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[r.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[r.placedSide],visibility:r.shouldHideArrow?"hidden":void 0},children:q.jsx(iE,{...s,ref:e,style:{...s.style,display:"block"}})})});Db.displayName=Nb;function cE(i){return i!==null}var dE=i=>({name:"transformOrigin",options:i,fn(t){var b,v,A;const{placement:e,rects:n,middlewareData:s}=t,a=((b=s.arrow)==null?void 0:b.centerOffset)!==0,o=a?0:i.arrowWidth,l=a?0:i.arrowHeight,[c,h]=Fb(e),u={start:"0%",center:"50%",end:"100%"}[h],f=(((v=s.arrow)==null?void 0:v.x)??0)+o/2,p=(((A=s.arrow)==null?void 0:A.y)??0)+l/2;let m="",g="";return c==="bottom"?(m=a?u:`${f}px`,g=`${-l}px`):c==="top"?(m=a?u:`${f}px`,g=`${n.floating.height+l}px`):c==="right"?(m=`${-l}px`,g=a?u:`${p}px`):c==="left"&&(m=`${n.floating.width+l}px`,g=a?u:`${p}px`),{data:{x:m,y:g}}}});function Fb(i){const[t,e="center"]=i.split("-");return[t,e]}var fL=Lb,hE=Ib,uE=Ob,fE=Db;function pE(i,t){return R.useReducer((e,n)=>t[e][n]??e,i)}var zb=i=>{const{present:t,children:e}=i,n=gE(t),s=typeof e=="function"?e({present:n.isPresent}):R.Children.only(e),r=nr(n.ref,mE(s));return typeof e=="function"||n.isPresent?R.cloneElement(s,{ref:r}):null};zb.displayName="Presence";function gE(i){const[t,e]=R.useState(),n=R.useRef(null),s=R.useRef(i),r=R.useRef("none"),a=i?"mounted":"unmounted",[o,l]=pE(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return R.useEffect(()=>{const c=jd(n.current);r.current=o==="mounted"?c:"none"},[o]),Wo(()=>{const c=n.current,h=s.current;if(h!==i){const f=r.current,p=jd(c);i?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(h&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=i}},[i,l]),Wo(()=>{if(t){let c;const h=t.ownerDocument.defaultView??window,u=p=>{const g=jd(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&g&&(l("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",c=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},f=p=>{p.target===t&&(r.current=jd(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{h.clearTimeout(c),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:R.useCallback(c=>{n.current=c?getComputedStyle(c):null,e(c)},[])}}function jd(i){return(i==null?void 0:i.animationName)||"none"}function mE(i){var n,s;let t=(n=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:n.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?i.ref:(t=(s=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:s.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?i.props.ref:i.props.ref||i.ref)}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bE=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,n)=>n?n.toUpperCase():e.toLowerCase()),_m=i=>{const t=bE(i);return t.charAt(0).toUpperCase()+t.slice(1)},Hb=(...i)=>i.filter((t,e,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===e).join(" ").trim(),yE=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=R.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:n,className:s="",children:r,iconNode:a,...o},l)=>R.createElement("svg",{ref:l,...wE,width:t,height:t,stroke:i,strokeWidth:n?Number(e)*24/Number(t):e,className:Hb("lucide",s),...!r&&!yE(o)&&{"aria-hidden":"true"},...o},[...a.map(([c,h])=>R.createElement(c,h)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=(i,t)=>{const e=R.forwardRef(({className:n,...s},r)=>R.createElement(AE,{ref:r,iconNode:t,className:Hb(`lucide-${vE(_m(i))}`,`lucide-${i}`,n),...s}));return e.displayName=_m(i),e};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],EE=wu("arrow-left",xE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],kE=wu("arrow-right",SE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],CE=wu("chevron-left",_E);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],TE=wu("chevron-right",RE);function Bb(i){var t,e,n="";if(typeof i=="string"||typeof i=="number")n+=i;else if(typeof i=="object")if(Array.isArray(i)){var s=i.length;for(t=0;t<s;t++)i[t]&&(e=Bb(i[t]))&&(n&&(n+=" "),n+=e)}else for(e in i)i[e]&&(n&&(n+=" "),n+=e);return n}function Ko(){for(var i,t,e=0,n="",s=arguments.length;e<s;e++)(i=arguments[e])&&(t=Bb(i))&&(n&&(n+=" "),n+=t);return n}const Sg="-",PE=i=>{const t=ME(i),{conflictingClassGroups:e,conflictingClassGroupModifiers:n}=i;return{getClassGroupId:a=>{const o=a.split(Sg);return o[0]===""&&o.length!==1&&o.shift(),$b(o,t)||LE(a)},getConflictingClassGroupIds:(a,o)=>{const l=e[a]||[];return o&&n[a]?[...l,...n[a]]:l}}},$b=(i,t)=>{var a;if(i.length===0)return t.classGroupId;const e=i[0],n=t.nextPart.get(e),s=n?$b(i.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const r=i.join(Sg);return(a=t.validators.find(({validator:o})=>o(r)))==null?void 0:a.classGroupId},Cm=/^\[(.+)\]$/,LE=i=>{if(Cm.test(i)){const t=Cm.exec(i)[1],e=t==null?void 0:t.substring(0,t.indexOf(":"));if(e)return"arbitrary.."+e}},ME=i=>{const{theme:t,classGroups:e}=i,n={nextPart:new Map,validators:[]};for(const s in e)xf(e[s],n,s,t);return n},xf=(i,t,e,n)=>{i.forEach(s=>{if(typeof s=="string"){const r=s===""?t:Rm(t,s);r.classGroupId=e;return}if(typeof s=="function"){if(IE(s)){xf(s(n),t,e,n);return}t.validators.push({validator:s,classGroupId:e});return}Object.entries(s).forEach(([r,a])=>{xf(a,Rm(t,r),e,n)})})},Rm=(i,t)=>{let e=i;return t.split(Sg).forEach(n=>{e.nextPart.has(n)||e.nextPart.set(n,{nextPart:new Map,validators:[]}),e=e.nextPart.get(n)}),e},IE=i=>i.isThemeGetter,OE=i=>{if(i<1)return{get:()=>{},set:()=>{}};let t=0,e=new Map,n=new Map;const s=(r,a)=>{e.set(r,a),t++,t>i&&(t=0,n=e,e=new Map)};return{get(r){let a=e.get(r);if(a!==void 0)return a;if((a=n.get(r))!==void 0)return s(r,a),a},set(r,a){e.has(r)?e.set(r,a):s(r,a)}}},Ef="!",Sf=":",NE=Sf.length,DE=i=>{const{prefix:t,experimentalParseClassName:e}=i;let n=s=>{const r=[];let a=0,o=0,l=0,c;for(let m=0;m<s.length;m++){let g=s[m];if(a===0&&o===0){if(g===Sf){r.push(s.slice(l,m)),l=m+NE;continue}if(g==="/"){c=m;continue}}g==="["?a++:g==="]"?a--:g==="("?o++:g===")"&&o--}const h=r.length===0?s:s.substring(l),u=FE(h),f=u!==h,p=c&&c>l?c-l:void 0;return{modifiers:r,hasImportantModifier:f,baseClassName:u,maybePostfixModifierPosition:p}};if(t){const s=t+Sf,r=n;n=a=>a.startsWith(s)?r(a.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(e){const s=n;n=r=>e({className:r,parseClassName:s})}return n},FE=i=>i.endsWith(Ef)?i.substring(0,i.length-1):i.startsWith(Ef)?i.substring(1):i,zE=i=>{const t=Object.fromEntries(i.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const s=[];let r=[];return n.forEach(a=>{a[0]==="["||t[a]?(s.push(...r.sort(),a),r=[]):r.push(a)}),s.push(...r.sort()),s}},HE=i=>({cache:OE(i.cacheSize),parseClassName:DE(i),sortModifiers:zE(i),...PE(i)}),BE=/\s+/,$E=(i,t)=>{const{parseClassName:e,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:r}=t,a=[],o=i.trim().split(BE);let l="";for(let c=o.length-1;c>=0;c-=1){const h=o[c],{isExternal:u,modifiers:f,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}=e(h);if(u){l=h+(l.length>0?" "+l:l);continue}let b=!!g,v=n(b?m.substring(0,g):m);if(!v){if(!b){l=h+(l.length>0?" "+l:l);continue}if(v=n(m),!v){l=h+(l.length>0?" "+l:l);continue}b=!1}const A=r(f).join(":"),E=p?A+Ef:A,k=E+v;if(a.includes(k))continue;a.push(k);const S=s(v,b);for(let _=0;_<S.length;++_){const L=S[_];a.push(E+L)}l=h+(l.length>0?" "+l:l)}return l};function jE(){let i=0,t,e,n="";for(;i<arguments.length;)(t=arguments[i++])&&(e=jb(t))&&(n&&(n+=" "),n+=e);return n}const jb=i=>{if(typeof i=="string")return i;let t,e="";for(let n=0;n<i.length;n++)i[n]&&(t=jb(i[n]))&&(e&&(e+=" "),e+=t);return e};function UE(i,...t){let e,n,s,r=a;function a(l){const c=t.reduce((h,u)=>u(h),i());return e=HE(c),n=e.cache.get,s=e.cache.set,r=o,o(l)}function o(l){const c=n(l);if(c)return c;const h=$E(l,e);return s(l,h),h}return function(){return r(jE.apply(null,arguments))}}const le=i=>{const t=e=>e[i]||[];return t.isThemeGetter=!0,t},Ub=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Wb=/^\((?:(\w[\w-]*):)?(.+)\)$/i,WE=/^\d+\/\d+$/,VE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,GE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,XE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,YE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Pa=i=>WE.test(i),wt=i=>!!i&&!Number.isNaN(Number(i)),mi=i=>!!i&&Number.isInteger(Number(i)),Xu=i=>i.endsWith("%")&&wt(i.slice(0,-1)),Es=i=>VE.test(i),KE=()=>!0,JE=i=>qE.test(i)&&!GE.test(i),Vb=()=>!1,QE=i=>XE.test(i),ZE=i=>YE.test(i),tS=i=>!Z(i)&&!tt(i),eS=i=>Jo(i,Xb,Vb),Z=i=>Ub.test(i),cr=i=>Jo(i,Yb,JE),Yu=i=>Jo(i,aS,wt),Tm=i=>Jo(i,qb,Vb),nS=i=>Jo(i,Gb,ZE),Ud=i=>Jo(i,Kb,QE),tt=i=>Wb.test(i),ol=i=>Qo(i,Yb),sS=i=>Qo(i,oS),Pm=i=>Qo(i,qb),iS=i=>Qo(i,Xb),rS=i=>Qo(i,Gb),Wd=i=>Qo(i,Kb,!0),Jo=(i,t,e)=>{const n=Ub.exec(i);return n?n[1]?t(n[1]):e(n[2]):!1},Qo=(i,t,e=!1)=>{const n=Wb.exec(i);return n?n[1]?t(n[1]):e:!1},qb=i=>i==="position"||i==="percentage",Gb=i=>i==="image"||i==="url",Xb=i=>i==="length"||i==="size"||i==="bg-size",Yb=i=>i==="length",aS=i=>i==="number",oS=i=>i==="family-name",Kb=i=>i==="shadow",lS=()=>{const i=le("color"),t=le("font"),e=le("text"),n=le("font-weight"),s=le("tracking"),r=le("leading"),a=le("breakpoint"),o=le("container"),l=le("spacing"),c=le("radius"),h=le("shadow"),u=le("inset-shadow"),f=le("text-shadow"),p=le("drop-shadow"),m=le("blur"),g=le("perspective"),b=le("aspect"),v=le("ease"),A=le("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],S=()=>[...k(),tt,Z],_=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto","contain","none"],P=()=>[tt,Z,l],M=()=>[Pa,"full","auto",...P()],C=()=>[mi,"none","subgrid",tt,Z],I=()=>["auto",{span:["full",mi,tt,Z]},mi,tt,Z],F=()=>[mi,"auto",tt,Z],z=()=>["auto","min","max","fr",tt,Z],H=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],W=()=>["start","end","center","stretch","center-safe","end-safe"],j=()=>["auto",...P()],D=()=>[Pa,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],N=()=>[i,tt,Z],ot=()=>[...k(),Pm,Tm,{position:[tt,Z]}],lt=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Rt=()=>["auto","cover","contain",iS,eS,{size:[tt,Z]}],At=()=>[Xu,ol,cr],nt=()=>["","none","full",c,tt,Z],mt=()=>["",wt,ol,cr],Dt=()=>["solid","dashed","dotted","double"],Ot=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>[wt,Xu,Pm,Tm],vt=()=>["","none",m,tt,Z],Lt=()=>["none",wt,tt,Z],ft=()=>["none",wt,tt,Z],bt=()=>[wt,tt,Z],G=()=>[Pa,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Es],breakpoint:[Es],color:[KE],container:[Es],"drop-shadow":[Es],ease:["in","out","in-out"],font:[tS],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Es],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Es],shadow:[Es],spacing:["px",wt],text:[Es],"text-shadow":[Es],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Pa,Z,tt,b]}],container:["container"],columns:[{columns:[wt,Z,tt,o]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:S()}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[mi,"auto",tt,Z]}],basis:[{basis:[Pa,"full","auto",o,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[wt,Pa,"auto","initial","none",Z]}],grow:[{grow:["",wt,tt,Z]}],shrink:[{shrink:["",wt,tt,Z]}],order:[{order:[mi,"first","last","none",tt,Z]}],"grid-cols":[{"grid-cols":C()}],"col-start-end":[{col:I()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":C()}],"row-start-end":[{row:I()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":z()}],"auto-rows":[{"auto-rows":z()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...H(),"normal"]}],"justify-items":[{"justify-items":[...W(),"normal"]}],"justify-self":[{"justify-self":["auto",...W()]}],"align-content":[{content:["normal",...H()]}],"align-items":[{items:[...W(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...W(),{baseline:["","last"]}]}],"place-content":[{"place-content":H()}],"place-items":[{"place-items":[...W(),"baseline"]}],"place-self":[{"place-self":["auto",...W()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:j()}],mx:[{mx:j()}],my:[{my:j()}],ms:[{ms:j()}],me:[{me:j()}],mt:[{mt:j()}],mr:[{mr:j()}],mb:[{mb:j()}],ml:[{ml:j()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:D()}],w:[{w:[o,"screen",...D()]}],"min-w":[{"min-w":[o,"screen","none",...D()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...D()]}],h:[{h:["screen","lh",...D()]}],"min-h":[{"min-h":["screen","lh","none",...D()]}],"max-h":[{"max-h":["screen","lh",...D()]}],"font-size":[{text:["base",e,ol,cr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,tt,Yu]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Xu,Z]}],"font-family":[{font:[sS,Z,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,tt,Z]}],"line-clamp":[{"line-clamp":[wt,"none",tt,Yu]}],leading:[{leading:[r,...P()]}],"list-image":[{"list-image":["none",tt,Z]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",tt,Z]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:N()}],"text-color":[{text:N()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Dt(),"wavy"]}],"text-decoration-thickness":[{decoration:[wt,"from-font","auto",tt,cr]}],"text-decoration-color":[{decoration:N()}],"underline-offset":[{"underline-offset":[wt,"auto",tt,Z]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",tt,Z]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",tt,Z]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ot()}],"bg-repeat":[{bg:lt()}],"bg-size":[{bg:Rt()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},mi,tt,Z],radial:["",tt,Z],conic:[mi,tt,Z]},rS,nS]}],"bg-color":[{bg:N()}],"gradient-from-pos":[{from:At()}],"gradient-via-pos":[{via:At()}],"gradient-to-pos":[{to:At()}],"gradient-from":[{from:N()}],"gradient-via":[{via:N()}],"gradient-to":[{to:N()}],rounded:[{rounded:nt()}],"rounded-s":[{"rounded-s":nt()}],"rounded-e":[{"rounded-e":nt()}],"rounded-t":[{"rounded-t":nt()}],"rounded-r":[{"rounded-r":nt()}],"rounded-b":[{"rounded-b":nt()}],"rounded-l":[{"rounded-l":nt()}],"rounded-ss":[{"rounded-ss":nt()}],"rounded-se":[{"rounded-se":nt()}],"rounded-ee":[{"rounded-ee":nt()}],"rounded-es":[{"rounded-es":nt()}],"rounded-tl":[{"rounded-tl":nt()}],"rounded-tr":[{"rounded-tr":nt()}],"rounded-br":[{"rounded-br":nt()}],"rounded-bl":[{"rounded-bl":nt()}],"border-w":[{border:mt()}],"border-w-x":[{"border-x":mt()}],"border-w-y":[{"border-y":mt()}],"border-w-s":[{"border-s":mt()}],"border-w-e":[{"border-e":mt()}],"border-w-t":[{"border-t":mt()}],"border-w-r":[{"border-r":mt()}],"border-w-b":[{"border-b":mt()}],"border-w-l":[{"border-l":mt()}],"divide-x":[{"divide-x":mt()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":mt()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Dt(),"hidden","none"]}],"divide-style":[{divide:[...Dt(),"hidden","none"]}],"border-color":[{border:N()}],"border-color-x":[{"border-x":N()}],"border-color-y":[{"border-y":N()}],"border-color-s":[{"border-s":N()}],"border-color-e":[{"border-e":N()}],"border-color-t":[{"border-t":N()}],"border-color-r":[{"border-r":N()}],"border-color-b":[{"border-b":N()}],"border-color-l":[{"border-l":N()}],"divide-color":[{divide:N()}],"outline-style":[{outline:[...Dt(),"none","hidden"]}],"outline-offset":[{"outline-offset":[wt,tt,Z]}],"outline-w":[{outline:["",wt,ol,cr]}],"outline-color":[{outline:N()}],shadow:[{shadow:["","none",h,Wd,Ud]}],"shadow-color":[{shadow:N()}],"inset-shadow":[{"inset-shadow":["none",u,Wd,Ud]}],"inset-shadow-color":[{"inset-shadow":N()}],"ring-w":[{ring:mt()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:N()}],"ring-offset-w":[{"ring-offset":[wt,cr]}],"ring-offset-color":[{"ring-offset":N()}],"inset-ring-w":[{"inset-ring":mt()}],"inset-ring-color":[{"inset-ring":N()}],"text-shadow":[{"text-shadow":["none",f,Wd,Ud]}],"text-shadow-color":[{"text-shadow":N()}],opacity:[{opacity:[wt,tt,Z]}],"mix-blend":[{"mix-blend":[...Ot(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ot()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[wt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Q()}],"mask-image-linear-to-pos":[{"mask-linear-to":Q()}],"mask-image-linear-from-color":[{"mask-linear-from":N()}],"mask-image-linear-to-color":[{"mask-linear-to":N()}],"mask-image-t-from-pos":[{"mask-t-from":Q()}],"mask-image-t-to-pos":[{"mask-t-to":Q()}],"mask-image-t-from-color":[{"mask-t-from":N()}],"mask-image-t-to-color":[{"mask-t-to":N()}],"mask-image-r-from-pos":[{"mask-r-from":Q()}],"mask-image-r-to-pos":[{"mask-r-to":Q()}],"mask-image-r-from-color":[{"mask-r-from":N()}],"mask-image-r-to-color":[{"mask-r-to":N()}],"mask-image-b-from-pos":[{"mask-b-from":Q()}],"mask-image-b-to-pos":[{"mask-b-to":Q()}],"mask-image-b-from-color":[{"mask-b-from":N()}],"mask-image-b-to-color":[{"mask-b-to":N()}],"mask-image-l-from-pos":[{"mask-l-from":Q()}],"mask-image-l-to-pos":[{"mask-l-to":Q()}],"mask-image-l-from-color":[{"mask-l-from":N()}],"mask-image-l-to-color":[{"mask-l-to":N()}],"mask-image-x-from-pos":[{"mask-x-from":Q()}],"mask-image-x-to-pos":[{"mask-x-to":Q()}],"mask-image-x-from-color":[{"mask-x-from":N()}],"mask-image-x-to-color":[{"mask-x-to":N()}],"mask-image-y-from-pos":[{"mask-y-from":Q()}],"mask-image-y-to-pos":[{"mask-y-to":Q()}],"mask-image-y-from-color":[{"mask-y-from":N()}],"mask-image-y-to-color":[{"mask-y-to":N()}],"mask-image-radial":[{"mask-radial":[tt,Z]}],"mask-image-radial-from-pos":[{"mask-radial-from":Q()}],"mask-image-radial-to-pos":[{"mask-radial-to":Q()}],"mask-image-radial-from-color":[{"mask-radial-from":N()}],"mask-image-radial-to-color":[{"mask-radial-to":N()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[wt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Q()}],"mask-image-conic-to-pos":[{"mask-conic-to":Q()}],"mask-image-conic-from-color":[{"mask-conic-from":N()}],"mask-image-conic-to-color":[{"mask-conic-to":N()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ot()}],"mask-repeat":[{mask:lt()}],"mask-size":[{mask:Rt()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",tt,Z]}],filter:[{filter:["","none",tt,Z]}],blur:[{blur:vt()}],brightness:[{brightness:[wt,tt,Z]}],contrast:[{contrast:[wt,tt,Z]}],"drop-shadow":[{"drop-shadow":["","none",p,Wd,Ud]}],"drop-shadow-color":[{"drop-shadow":N()}],grayscale:[{grayscale:["",wt,tt,Z]}],"hue-rotate":[{"hue-rotate":[wt,tt,Z]}],invert:[{invert:["",wt,tt,Z]}],saturate:[{saturate:[wt,tt,Z]}],sepia:[{sepia:["",wt,tt,Z]}],"backdrop-filter":[{"backdrop-filter":["","none",tt,Z]}],"backdrop-blur":[{"backdrop-blur":vt()}],"backdrop-brightness":[{"backdrop-brightness":[wt,tt,Z]}],"backdrop-contrast":[{"backdrop-contrast":[wt,tt,Z]}],"backdrop-grayscale":[{"backdrop-grayscale":["",wt,tt,Z]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[wt,tt,Z]}],"backdrop-invert":[{"backdrop-invert":["",wt,tt,Z]}],"backdrop-opacity":[{"backdrop-opacity":[wt,tt,Z]}],"backdrop-saturate":[{"backdrop-saturate":[wt,tt,Z]}],"backdrop-sepia":[{"backdrop-sepia":["",wt,tt,Z]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",tt,Z]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[wt,"initial",tt,Z]}],ease:[{ease:["linear","initial",v,tt,Z]}],delay:[{delay:[wt,tt,Z]}],animate:[{animate:["none",A,tt,Z]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,tt,Z]}],"perspective-origin":[{"perspective-origin":S()}],rotate:[{rotate:Lt()}],"rotate-x":[{"rotate-x":Lt()}],"rotate-y":[{"rotate-y":Lt()}],"rotate-z":[{"rotate-z":Lt()}],scale:[{scale:ft()}],"scale-x":[{"scale-x":ft()}],"scale-y":[{"scale-y":ft()}],"scale-z":[{"scale-z":ft()}],"scale-3d":["scale-3d"],skew:[{skew:bt()}],"skew-x":[{"skew-x":bt()}],"skew-y":[{"skew-y":bt()}],transform:[{transform:[tt,Z,"","none","gpu","cpu"]}],"transform-origin":[{origin:S()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:G()}],"translate-x":[{"translate-x":G()}],"translate-y":[{"translate-y":G()}],"translate-z":[{"translate-z":G()}],"translate-none":["translate-none"],accent:[{accent:N()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:N()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",tt,Z]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",tt,Z]}],fill:[{fill:["none",...N()]}],"stroke-w":[{stroke:[wt,ol,cr,Yu]}],stroke:[{stroke:["none",...N()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},cS=UE(lS),pL=i=>i.split(" ").map(t=>t.charAt(0).toUpperCase()+t.substring(1)).join(" ");function oi(...i){return cS(Ko(i))}const gL=i=>new Date(i).toLocaleString(),dS=()=>{const[i,t]=R.useState({width:window.innerWidth,height:window.innerHeight});return R.useEffect(()=>{const e=()=>{t({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),i},Lm=i=>typeof i=="boolean"?`${i}`:i===0?"0":i,Mm=Ko,hS=(i,t)=>e=>{var n;if((t==null?void 0:t.variants)==null)return Mm(i,e==null?void 0:e.class,e==null?void 0:e.className);const{variants:s,defaultVariants:r}=t,a=Object.keys(s).map(c=>{const h=e==null?void 0:e[c],u=r==null?void 0:r[c];if(h===null)return null;const f=Lm(h)||Lm(u);return s[c][f]}),o=e&&Object.entries(e).reduce((c,h)=>{let[u,f]=h;return f===void 0||(c[u]=f),c},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((c,h)=>{let{class:u,className:f,...p}=h;return Object.entries(p).every(m=>{let[g,b]=m;return Array.isArray(b)?b.includes({...r,...o}[g]):{...r,...o}[g]===b})?[...c,u,f]:c},[]);return Mm(i,a,l,e==null?void 0:e.class,e==null?void 0:e.className)},uS=hS("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),kg=R.forwardRef(({className:i,variant:t,size:e,asChild:n=!1,...s},r)=>{const a=n?LA:"button";return q.jsx(a,{className:oi(uS({variant:t,size:e,className:i})),ref:r,...s})});kg.displayName="Button";var Ku,Jb="HoverCard",[Qb,mL]=pg(Jb,[Tb]),_g=Tb(),[vL,Cg]=Qb(Jb),Zb="HoverCardTrigger",fS=R.forwardRef((i,t)=>{const{__scopeHoverCard:e,...n}=i,s=Cg(Zb,e),r=_g(e);return q.jsx(hE,{asChild:!0,...r,children:q.jsx(sr.a,{"data-state":s.open?"open":"closed",...n,ref:t,onPointerEnter:pn(i.onPointerEnter,Dh(s.onOpen)),onPointerLeave:pn(i.onPointerLeave,Dh(s.onClose)),onFocus:pn(i.onFocus,s.onOpen),onBlur:pn(i.onBlur,s.onClose),onTouchStart:pn(i.onTouchStart,a=>a.preventDefault())})})});fS.displayName=Zb;var pS="HoverCardPortal",[bL,gS]=Qb(pS,{forceMount:void 0}),Nh="HoverCardContent",ty=R.forwardRef((i,t)=>{const e=gS(Nh,i.__scopeHoverCard),{forceMount:n=e.forceMount,...s}=i,r=Cg(Nh,i.__scopeHoverCard);return q.jsx(zb,{present:n||r.open,children:q.jsx(mS,{"data-state":r.open?"open":"closed",...s,onPointerEnter:pn(i.onPointerEnter,Dh(r.onOpen)),onPointerLeave:pn(i.onPointerLeave,Dh(r.onClose)),ref:t})})});ty.displayName=Nh;var mS=R.forwardRef((i,t)=>{const{__scopeHoverCard:e,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:r,onInteractOutside:a,...o}=i,l=Cg(Nh,e),c=_g(e),h=R.useRef(null),u=nr(t,h),[f,p]=R.useState(!1);return R.useEffect(()=>{if(f){const m=document.body;return Ku=m.style.userSelect||m.style.webkitUserSelect,m.style.userSelect="none",m.style.webkitUserSelect="none",()=>{m.style.userSelect=Ku,m.style.webkitUserSelect=Ku}}},[f]),R.useEffect(()=>{if(h.current){const m=()=>{p(!1),l.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var b;((b=document.getSelection())==null?void 0:b.toString())!==""&&(l.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",m),()=>{document.removeEventListener("pointerup",m),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!1}}},[l.isPointerDownOnContentRef,l.hasSelectionRef]),R.useEffect(()=>{h.current&&yS(h.current).forEach(g=>g.setAttribute("tabindex","-1"))}),q.jsx(fb,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:a,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:pn(r,m=>{m.preventDefault()}),onDismiss:l.onDismiss,children:q.jsx(uE,{...c,...o,onPointerDown:pn(o.onPointerDown,m=>{m.currentTarget.contains(m.target)&&p(!0),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!0}),ref:u,style:{...o.style,userSelect:f?"text":void 0,WebkitUserSelect:f?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),vS="HoverCardArrow",bS=R.forwardRef((i,t)=>{const{__scopeHoverCard:e,...n}=i,s=_g(e);return q.jsx(fE,{...s,...n,ref:t})});bS.displayName=vS;function Dh(i){return t=>t.pointerType==="touch"?void 0:i()}function yS(i){const t=[],e=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;e.nextNode();)t.push(e.currentNode);return t}var ey=ty;const wS=R.forwardRef(({className:i,align:t="center",sideOffset:e=4,...n},s)=>q.jsx(ey,{ref:s,align:t,sideOffset:e,className:oi("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",i),...n}));wS.displayName=ey.displayName;var AS=(i,t,e,n,s,r,a,o)=>{let l=document.documentElement,c=["light","dark"];function h(p){(Array.isArray(i)?i:[i]).forEach(m=>{let g=m==="class",b=g&&r?s.map(v=>r[v]||v):s;g?(l.classList.remove(...b),l.classList.add(r&&r[p]?r[p]:p)):l.setAttribute(m,p)}),u(p)}function u(p){o&&c.includes(p)&&(l.style.colorScheme=p)}function f(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)h(n);else try{let p=localStorage.getItem(t)||e,m=a&&p==="system"?f():p;h(m)}catch{}},Im=["light","dark"],ny="(prefers-color-scheme: dark)",xS=typeof window>"u",sy=R.createContext(void 0),yL=i=>R.useContext(sy)?R.createElement(R.Fragment,null,i.children):R.createElement(SS,{...i}),ES=["light","dark"],SS=({forcedTheme:i,disableTransitionOnChange:t=!1,enableSystem:e=!0,enableColorScheme:n=!0,storageKey:s="theme",themes:r=ES,defaultTheme:a=e?"system":"light",attribute:o="data-theme",value:l,children:c,nonce:h,scriptProps:u})=>{let[f,p]=R.useState(()=>_S(s,a)),[m,g]=R.useState(()=>f==="system"?Ju():f),b=l?Object.values(l):r,v=R.useCallback(S=>{let _=S;if(!_)return;S==="system"&&e&&(_=Ju());let L=l?l[_]:_,P=t?CS(h):null,M=document.documentElement,C=I=>{I==="class"?(M.classList.remove(...b),L&&M.classList.add(L)):I.startsWith("data-")&&(L?M.setAttribute(I,L):M.removeAttribute(I))};if(Array.isArray(o)?o.forEach(C):C(o),n){let I=Im.includes(a)?a:null,F=Im.includes(_)?_:I;M.style.colorScheme=F}P==null||P()},[h]),A=R.useCallback(S=>{let _=typeof S=="function"?S(f):S;p(_);try{localStorage.setItem(s,_)}catch{}},[f]),E=R.useCallback(S=>{let _=Ju(S);g(_),f==="system"&&e&&!i&&v("system")},[f,i]);R.useEffect(()=>{let S=window.matchMedia(ny);return S.addListener(E),E(S),()=>S.removeListener(E)},[E]),R.useEffect(()=>{let S=_=>{_.key===s&&(_.newValue?p(_.newValue):A(a))};return window.addEventListener("storage",S),()=>window.removeEventListener("storage",S)},[A]),R.useEffect(()=>{v(i??f)},[i,f]);let k=R.useMemo(()=>({theme:f,setTheme:A,forcedTheme:i,resolvedTheme:f==="system"?m:f,themes:e?[...r,"system"]:r,systemTheme:e?m:void 0}),[f,A,i,m,e,r]);return R.createElement(sy.Provider,{value:k},R.createElement(kS,{forcedTheme:i,storageKey:s,attribute:o,enableSystem:e,enableColorScheme:n,defaultTheme:a,value:l,themes:r,nonce:h,scriptProps:u}),c)},kS=R.memo(({forcedTheme:i,storageKey:t,attribute:e,enableSystem:n,enableColorScheme:s,defaultTheme:r,value:a,themes:o,nonce:l,scriptProps:c})=>{let h=JSON.stringify([e,t,r,i,o,a,n,s]).slice(1,-1);return R.createElement("script",{...c,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${AS.toString()})(${h})`}})}),_S=(i,t)=>{if(xS)return;let e;try{e=localStorage.getItem(i)||void 0}catch{}return e||t},CS=i=>{let t=document.createElement("style");return i&&t.setAttribute("nonce",i),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},Ju=i=>(i||(i=window.matchMedia(ny)),i.matches?"dark":"light");function RS(i){const t=R.useRef({value:i,previous:i});return R.useMemo(()=>(t.current.value!==i&&(t.current.previous=t.current.value,t.current.value=i),t.current.previous),[i])}var Au="Switch",[TS,wL]=pg(Au),[PS,LS]=TS(Au),iy=R.forwardRef((i,t)=>{const{__scopeSwitch:e,name:n,checked:s,defaultChecked:r,required:a,disabled:o,value:l="on",onCheckedChange:c,form:h,...u}=i,[f,p]=R.useState(null),m=nr(t,E=>p(E)),g=R.useRef(!1),b=f?h||!!f.closest("form"):!0,[v,A]=RA({prop:s,defaultProp:r??!1,onChange:c,caller:Au});return q.jsxs(PS,{scope:e,checked:v,disabled:o,children:[q.jsx(sr.button,{type:"button",role:"switch","aria-checked":v,"aria-required":a,"data-state":ly(v),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:m,onClick:pn(i.onClick,E=>{A(k=>!k),b&&(g.current=E.isPropagationStopped(),g.current||E.stopPropagation())})}),b&&q.jsx(oy,{control:f,bubbles:!g.current,name:n,value:l,checked:v,required:a,disabled:o,form:h,style:{transform:"translateX(-100%)"}})]})});iy.displayName=Au;var ry="SwitchThumb",ay=R.forwardRef((i,t)=>{const{__scopeSwitch:e,...n}=i,s=LS(ry,e);return q.jsx(sr.span,{"data-state":ly(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});ay.displayName=ry;var MS="SwitchBubbleInput",oy=R.forwardRef(({__scopeSwitch:i,control:t,checked:e,bubbles:n=!0,...s},r)=>{const a=R.useRef(null),o=nr(a,r),l=RS(e),c=Cb(t);return R.useEffect(()=>{const h=a.current;if(!h)return;const u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"checked").set;if(l!==e&&p){const m=new Event("click",{bubbles:n});p.call(h,e),h.dispatchEvent(m)}},[l,e,n]),q.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:e,...s,tabIndex:-1,ref:o,style:{...s.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});oy.displayName=MS;function ly(i){return i?"checked":"unchecked"}var cy=iy,IS=ay;const OS=R.forwardRef(({className:i,...t},e)=>q.jsx(cy,{className:oi("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",i),...t,ref:e,children:q.jsx(IS,{className:oi("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));OS.displayName=cy.displayName;function NS(i){return Object.prototype.toString.call(i)==="[object Object]"}function Om(i){return NS(i)||Array.isArray(i)}function DS(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Rg(i,t){const e=Object.keys(i),n=Object.keys(t);if(e.length!==n.length)return!1;const s=JSON.stringify(Object.keys(i.breakpoints||{})),r=JSON.stringify(Object.keys(t.breakpoints||{}));return s!==r?!1:e.every(a=>{const o=i[a],l=t[a];return typeof o=="function"?`${o}`==`${l}`:!Om(o)||!Om(l)?o===l:Rg(o,l)})}function Nm(i){return i.concat().sort((t,e)=>t.name>e.name?1:-1).map(t=>t.options)}function FS(i,t){if(i.length!==t.length)return!1;const e=Nm(i),n=Nm(t);return e.every((s,r)=>{const a=n[r];return Rg(s,a)})}function Tg(i){return typeof i=="number"}function kf(i){return typeof i=="string"}function xu(i){return typeof i=="boolean"}function Dm(i){return Object.prototype.toString.call(i)==="[object Object]"}function Qt(i){return Math.abs(i)}function Pg(i){return Math.sign(i)}function Rl(i,t){return Qt(i-t)}function zS(i,t){if(i===0||t===0||Qt(i)<=Qt(t))return 0;const e=Rl(Qt(i),Qt(t));return Qt(e/i)}function HS(i){return Math.round(i*100)/100}function Dl(i){return Fl(i).map(Number)}function Vn(i){return i[Ad(i)]}function Ad(i){return Math.max(0,i.length-1)}function Lg(i,t){return t===Ad(i)}function Fm(i,t=0){return Array.from(Array(i),(e,n)=>t+n)}function Fl(i){return Object.keys(i)}function dy(i,t){return[i,t].reduce((e,n)=>(Fl(n).forEach(s=>{const r=e[s],a=n[s],o=Dm(r)&&Dm(a);e[s]=o?dy(r,a):a}),e),{})}function _f(i,t){return typeof t.MouseEvent<"u"&&i instanceof t.MouseEvent}function BS(i,t){const e={start:n,center:s,end:r};function n(){return 0}function s(l){return r(l)/2}function r(l){return t-l}function a(l,c){return kf(i)?e[i](l):i(t,l,c)}return{measure:a}}function zl(){let i=[];function t(s,r,a,o={passive:!0}){let l;if("addEventListener"in s)s.addEventListener(r,a,o),l=()=>s.removeEventListener(r,a,o);else{const c=s;c.addListener(a),l=()=>c.removeListener(a)}return i.push(l),n}function e(){i=i.filter(s=>s())}const n={add:t,clear:e};return n}function $S(i,t,e,n){const s=zl(),r=1e3/60;let a=null,o=0,l=0;function c(){s.add(i,"visibilitychange",()=>{i.hidden&&m()})}function h(){p(),s.clear()}function u(b){if(!l)return;a||(a=b,e(),e());const v=b-a;for(a=b,o+=v;o>=r;)e(),o-=r;const A=o/r;n(A),l&&(l=t.requestAnimationFrame(u))}function f(){l||(l=t.requestAnimationFrame(u))}function p(){t.cancelAnimationFrame(l),a=null,o=0,l=0}function m(){a=null,o=0}return{init:c,destroy:h,start:f,stop:p,update:e,render:n}}function jS(i,t){const e=t==="rtl",n=i==="y",s=n?"y":"x",r=n?"x":"y",a=!n&&e?-1:1,o=h(),l=u();function c(m){const{height:g,width:b}=m;return n?g:b}function h(){return n?"top":e?"right":"left"}function u(){return n?"bottom":e?"left":"right"}function f(m){return m*a}return{scroll:s,cross:r,startEdge:o,endEdge:l,measureSize:c,direction:f}}function ga(i=0,t=0){const e=Qt(i-t);function n(c){return c<i}function s(c){return c>t}function r(c){return n(c)||s(c)}function a(c){return r(c)?n(c)?i:t:c}function o(c){return e?c-e*Math.ceil((c-t)/e):c}return{length:e,max:t,min:i,constrain:a,reachedAny:r,reachedMax:s,reachedMin:n,removeOffset:o}}function hy(i,t,e){const{constrain:n}=ga(0,i),s=i+1;let r=a(t);function a(f){return e?Qt((s+f)%s):n(f)}function o(){return r}function l(f){return r=a(f),u}function c(f){return h().set(o()+f)}function h(){return hy(i,o(),e)}const u={get:o,set:l,add:c,clone:h};return u}function US(i,t,e,n,s,r,a,o,l,c,h,u,f,p,m,g,b,v,A){const{cross:E,direction:k}=i,S=["INPUT","SELECT","TEXTAREA"],_={passive:!1},L=zl(),P=zl(),M=ga(50,225).constrain(p.measure(20)),C={mouse:300,touch:400},I={mouse:500,touch:600},F=m?43:25;let z=!1,H=0,W=0,j=!1,D=!1,N=!1,ot=!1;function lt(G){if(!A)return;function K(St){(xu(A)||A(G,St))&&Ot(St)}const ht=t;L.add(ht,"dragstart",St=>St.preventDefault(),_).add(ht,"touchmove",()=>{},_).add(ht,"touchend",()=>{}).add(ht,"touchstart",K).add(ht,"mousedown",K).add(ht,"touchcancel",vt).add(ht,"contextmenu",vt).add(ht,"click",Lt,!0)}function Rt(){L.clear(),P.clear()}function At(){const G=ot?e:t;P.add(G,"touchmove",Q,_).add(G,"touchend",vt).add(G,"mousemove",Q,_).add(G,"mouseup",vt)}function nt(G){const K=G.nodeName||"";return S.includes(K)}function mt(){return(m?I:C)[ot?"mouse":"touch"]}function Dt(G,K){const ht=u.add(Pg(G)*-1),St=h.byDistance(G,!m).distance;return m||Qt(G)<M?St:b&&K?St*.5:h.byIndex(ht.get(),0).distance}function Ot(G){const K=_f(G,n);ot=K,N=m&&K&&!G.buttons&&z,z=Rl(s.get(),a.get())>=2,!(K&&G.button!==0)&&(nt(G.target)||(j=!0,r.pointerDown(G),c.useFriction(0).useDuration(0),s.set(a),At(),H=r.readPoint(G),W=r.readPoint(G,E),f.emit("pointerDown")))}function Q(G){if(!_f(G,n)&&G.touches.length>=2)return vt(G);const ht=r.readPoint(G),St=r.readPoint(G,E),xt=Rl(ht,H),ee=Rl(St,W);if(!D&&!ot&&(!G.cancelable||(D=xt>ee,!D)))return vt(G);const ie=r.pointerMove(G);xt>g&&(N=!0),c.useFriction(.3).useDuration(.75),o.start(),s.add(k(ie)),G.preventDefault()}function vt(G){const ht=h.byDistance(0,!1).index!==u.get(),St=r.pointerUp(G)*mt(),xt=Dt(k(St),ht),ee=zS(St,xt),ie=F-10*ee,me=v+ee/50;D=!1,j=!1,P.clear(),c.useDuration(ie).useFriction(me),l.distance(xt,!m),ot=!1,f.emit("pointerUp")}function Lt(G){N&&(G.stopPropagation(),G.preventDefault(),N=!1)}function ft(){return j}return{init:lt,destroy:Rt,pointerDown:ft}}function WS(i,t){let n,s;function r(u){return u.timeStamp}function a(u,f){const m=`client${(f||i.scroll)==="x"?"X":"Y"}`;return(_f(u,t)?u:u.touches[0])[m]}function o(u){return n=u,s=u,a(u)}function l(u){const f=a(u)-a(s),p=r(u)-r(n)>170;return s=u,p&&(n=u),f}function c(u){if(!n||!s)return 0;const f=a(s)-a(n),p=r(u)-r(n),m=r(u)-r(s)>170,g=f/p;return p&&!m&&Qt(g)>.1?g:0}return{pointerDown:o,pointerMove:l,pointerUp:c,readPoint:a}}function VS(){function i(e){const{offsetTop:n,offsetLeft:s,offsetWidth:r,offsetHeight:a}=e;return{top:n,right:s+r,bottom:n+a,left:s,width:r,height:a}}return{measure:i}}function qS(i){function t(n){return i*(n/100)}return{measure:t}}function GS(i,t,e,n,s,r,a){const o=[i].concat(n);let l,c,h=[],u=!1;function f(b){return s.measureSize(a.measure(b))}function p(b){if(!r)return;c=f(i),h=n.map(f);function v(A){for(const E of A){if(u)return;const k=E.target===i,S=n.indexOf(E.target),_=k?c:h[S],L=f(k?i:n[S]);if(Qt(L-_)>=.5){b.reInit(),t.emit("resize");break}}}l=new ResizeObserver(A=>{(xu(r)||r(b,A))&&v(A)}),e.requestAnimationFrame(()=>{o.forEach(A=>l.observe(A))})}function m(){u=!0,l&&l.disconnect()}return{init:p,destroy:m}}function XS(i,t,e,n,s,r){let a=0,o=0,l=s,c=r,h=i.get(),u=0;function f(){const _=n.get()-i.get(),L=!l;let P=0;return L?(a=0,e.set(n),i.set(n),P=_):(e.set(i),a+=_/l,a*=c,h+=a,i.add(a),P=h-u),o=Pg(P),u=h,S}function p(){const _=n.get()-t.get();return Qt(_)<.001}function m(){return l}function g(){return o}function b(){return a}function v(){return E(s)}function A(){return k(r)}function E(_){return l=_,S}function k(_){return c=_,S}const S={direction:g,duration:m,velocity:b,seek:f,settled:p,useBaseFriction:A,useBaseDuration:v,useFriction:k,useDuration:E};return S}function YS(i,t,e,n,s){const r=s.measure(10),a=s.measure(50),o=ga(.1,.99);let l=!1;function c(){return!(l||!i.reachedAny(e.get())||!i.reachedAny(t.get()))}function h(p){if(!c())return;const m=i.reachedMin(t.get())?"min":"max",g=Qt(i[m]-t.get()),b=e.get()-t.get(),v=o.constrain(g/a);e.subtract(b*v),!p&&Qt(b)<r&&(e.set(i.constrain(e.get())),n.useDuration(25).useBaseFriction())}function u(p){l=!p}return{shouldConstrain:c,constrain:h,toggleActive:u}}function KS(i,t,e,n,s){const r=ga(-t+i,0),a=u(),o=h(),l=f();function c(m,g){return Rl(m,g)<=1}function h(){const m=a[0],g=Vn(a),b=a.lastIndexOf(m),v=a.indexOf(g)+1;return ga(b,v)}function u(){return e.map((m,g)=>{const{min:b,max:v}=r,A=r.constrain(m),E=!g,k=Lg(e,g);return E?v:k||c(b,A)?b:c(v,A)?v:A}).map(m=>parseFloat(m.toFixed(3)))}function f(){if(t<=i+s)return[r.max];if(n==="keepSnaps")return a;const{min:m,max:g}=o;return a.slice(m,g)}return{snapsContained:l,scrollContainLimit:o}}function JS(i,t,e){const n=t[0],s=e?n-i:Vn(t);return{limit:ga(s,n)}}function QS(i,t,e,n){const r=t.min+.1,a=t.max+.1,{reachedMin:o,reachedMax:l}=ga(r,a);function c(f){return f===1?l(e.get()):f===-1?o(e.get()):!1}function h(f){if(!c(f))return;const p=i*(f*-1);n.forEach(m=>m.add(p))}return{loop:h}}function ZS(i){const{max:t,length:e}=i;function n(r){const a=r-t;return e?a/-e:0}return{get:n}}function tk(i,t,e,n,s){const{startEdge:r,endEdge:a}=i,{groupSlides:o}=s,l=u().map(t.measure),c=f(),h=p();function u(){return o(n).map(g=>Vn(g)[a]-g[0][r]).map(Qt)}function f(){return n.map(g=>e[r]-g[r]).map(g=>-Qt(g))}function p(){return o(c).map(g=>g[0]).map((g,b)=>g+l[b])}return{snaps:c,snapsAligned:h}}function ek(i,t,e,n,s,r){const{groupSlides:a}=s,{min:o,max:l}=n,c=h();function h(){const f=a(r),p=!i||t==="keepSnaps";return e.length===1?[r]:p?f:f.slice(o,l).map((m,g,b)=>{const v=!g,A=Lg(b,g);if(v){const E=Vn(b[0])+1;return Fm(E)}if(A){const E=Ad(r)-Vn(b)[0]+1;return Fm(E,Vn(b)[0])}return m})}return{slideRegistry:c}}function nk(i,t,e,n,s){const{reachedAny:r,removeOffset:a,constrain:o}=n;function l(m){return m.concat().sort((g,b)=>Qt(g)-Qt(b))[0]}function c(m){const g=i?a(m):o(m),b=t.map((A,E)=>({diff:h(A-g,0),index:E})).sort((A,E)=>Qt(A.diff)-Qt(E.diff)),{index:v}=b[0];return{index:v,distance:g}}function h(m,g){const b=[m,m+e,m-e];if(!i)return m;if(!g)return l(b);const v=b.filter(A=>Pg(A)===g);return v.length?l(v):Vn(b)-e}function u(m,g){const b=t[m]-s.get(),v=h(b,g);return{index:m,distance:v}}function f(m,g){const b=s.get()+m,{index:v,distance:A}=c(b),E=!i&&r(b);if(!g||E)return{index:v,distance:m};const k=t[v]-A,S=m+h(k,0);return{index:v,distance:S}}return{byDistance:f,byIndex:u,shortcut:h}}function sk(i,t,e,n,s,r,a){function o(u){const f=u.distance,p=u.index!==t.get();r.add(f),f&&(n.duration()?i.start():(i.update(),i.render(1),i.update())),p&&(e.set(t.get()),t.set(u.index),a.emit("select"))}function l(u,f){const p=s.byDistance(u,f);o(p)}function c(u,f){const p=t.clone().set(u),m=s.byIndex(p.get(),f);o(m)}return{distance:l,index:c}}function ik(i,t,e,n,s,r,a,o){const l={passive:!0,capture:!0};let c=0;function h(p){if(!o)return;function m(g){if(new Date().getTime()-c>10)return;a.emit("slideFocusStart"),i.scrollLeft=0;const A=e.findIndex(E=>E.includes(g));Tg(A)&&(s.useDuration(0),n.index(A,0),a.emit("slideFocus"))}r.add(document,"keydown",u,!1),t.forEach((g,b)=>{r.add(g,"focus",v=>{(xu(o)||o(p,v))&&m(b)},l)})}function u(p){p.code==="Tab"&&(c=new Date().getTime())}return{init:h}}function hl(i){let t=i;function e(){return t}function n(l){t=a(l)}function s(l){t+=a(l)}function r(l){t-=a(l)}function a(l){return Tg(l)?l:l.get()}return{get:e,set:n,add:s,subtract:r}}function uy(i,t){const e=i.scroll==="x"?a:o,n=t.style;let s=null,r=!1;function a(f){return`translate3d(${f}px,0px,0px)`}function o(f){return`translate3d(0px,${f}px,0px)`}function l(f){if(r)return;const p=HS(i.direction(f));p!==s&&(n.transform=e(p),s=p)}function c(f){r=!f}function h(){r||(n.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:h,to:l,toggleActive:c}}function rk(i,t,e,n,s,r,a,o,l){const h=Dl(s),u=Dl(s).reverse(),f=v().concat(A());function p(L,P){return L.reduce((M,C)=>M-s[C],P)}function m(L,P){return L.reduce((M,C)=>p(M,P)>0?M.concat([C]):M,[])}function g(L){return r.map((P,M)=>({start:P-n[M]+.5+L,end:P+t-.5+L}))}function b(L,P,M){const C=g(P);return L.map(I=>{const F=M?0:-e,z=M?e:0,H=M?"end":"start",W=C[I][H];return{index:I,loopPoint:W,slideLocation:hl(-1),translate:uy(i,l[I]),target:()=>o.get()>W?F:z}})}function v(){const L=a[0],P=m(u,L);return b(P,e,!1)}function A(){const L=t-a[0]-1,P=m(h,L);return b(P,-e,!0)}function E(){return f.every(({index:L})=>{const P=h.filter(M=>M!==L);return p(P,t)<=.1})}function k(){f.forEach(L=>{const{target:P,translate:M,slideLocation:C}=L,I=P();I!==C.get()&&(M.to(I),C.set(I))})}function S(){f.forEach(L=>L.translate.clear())}return{canLoop:E,clear:S,loop:k,loopPoints:f}}function ak(i,t,e){let n,s=!1;function r(l){if(!e)return;function c(h){for(const u of h)if(u.type==="childList"){l.reInit(),t.emit("slidesChanged");break}}n=new MutationObserver(h=>{s||(xu(e)||e(l,h))&&c(h)}),n.observe(i,{childList:!0})}function a(){n&&n.disconnect(),s=!0}return{init:r,destroy:a}}function ok(i,t,e,n){const s={};let r=null,a=null,o,l=!1;function c(){o=new IntersectionObserver(m=>{l||(m.forEach(g=>{const b=t.indexOf(g.target);s[b]=g}),r=null,a=null,e.emit("slidesInView"))},{root:i.parentElement,threshold:n}),t.forEach(m=>o.observe(m))}function h(){o&&o.disconnect(),l=!0}function u(m){return Fl(s).reduce((g,b)=>{const v=parseInt(b),{isIntersecting:A}=s[v];return(m&&A||!m&&!A)&&g.push(v),g},[])}function f(m=!0){if(m&&r)return r;if(!m&&a)return a;const g=u(m);return m&&(r=g),m||(a=g),g}return{init:c,destroy:h,get:f}}function lk(i,t,e,n,s,r){const{measureSize:a,startEdge:o,endEdge:l}=i,c=e[0]&&s,h=m(),u=g(),f=e.map(a),p=b();function m(){if(!c)return 0;const A=e[0];return Qt(t[o]-A[o])}function g(){if(!c)return 0;const A=r.getComputedStyle(Vn(n));return parseFloat(A.getPropertyValue(`margin-${l}`))}function b(){return e.map((A,E,k)=>{const S=!E,_=Lg(k,E);return S?f[E]+h:_?f[E]+u:k[E+1][o]-A[o]}).map(Qt)}return{slideSizes:f,slideSizesWithGaps:p,startGap:h,endGap:u}}function ck(i,t,e,n,s,r,a,o,l){const{startEdge:c,endEdge:h,direction:u}=i,f=Tg(e);function p(v,A){return Dl(v).filter(E=>E%A===0).map(E=>v.slice(E,E+A))}function m(v){return v.length?Dl(v).reduce((A,E,k)=>{const S=Vn(A)||0,_=S===0,L=E===Ad(v),P=s[c]-r[S][c],M=s[c]-r[E][h],C=!n&&_?u(a):0,I=!n&&L?u(o):0,F=Qt(M-I-(P+C));return k&&F>t+l&&A.push(E),L&&A.push(v.length),A},[]).map((A,E,k)=>{const S=Math.max(k[E-1]||0);return v.slice(S,A)}):[]}function g(v){return f?p(v,e):m(v)}return{groupSlides:g}}function dk(i,t,e,n,s,r,a){const{align:o,axis:l,direction:c,startIndex:h,loop:u,duration:f,dragFree:p,dragThreshold:m,inViewThreshold:g,slidesToScroll:b,skipSnaps:v,containScroll:A,watchResize:E,watchSlides:k,watchDrag:S,watchFocus:_}=r,L=2,P=VS(),M=P.measure(t),C=e.map(P.measure),I=jS(l,c),F=I.measureSize(M),z=qS(F),H=BS(o,F),W=!u&&!!A,j=u||!!A,{slideSizes:D,slideSizesWithGaps:N,startGap:ot,endGap:lt}=lk(I,M,C,e,j,s),Rt=ck(I,F,b,u,M,C,ot,lt,L),{snaps:At,snapsAligned:nt}=tk(I,H,M,C,Rt),mt=-Vn(At)+Vn(N),{snapsContained:Dt,scrollContainLimit:Ot}=KS(F,mt,nt,A,L),Q=W?Dt:nt,{limit:vt}=JS(mt,Q,u),Lt=hy(Ad(Q),h,u),ft=Lt.clone(),bt=Dl(e),G=({dragHandler:Ve,scrollBody:Ra,scrollBounds:ar,options:{loop:or}})=>{or||ar.constrain(Ve.pointerDown()),Ra.seek()},K=({scrollBody:Ve,translate:Ra,location:ar,offsetLocation:or,previousLocation:Td,scrollLooper:Pd,slideLooper:tl,dragHandler:Rn,animation:Ld,eventHandler:el,scrollBounds:nl,options:{loop:Tn}},sl)=>{const il=Ve.settled(),Md=!nl.shouldConstrain(),rl=Tn?il:il&&Md,al=rl&&!Rn.pointerDown();al&&Ld.stop();const Id=ar.get()*sl+Td.get()*(1-sl);or.set(Id),Tn&&(Pd.loop(Ve.direction()),tl.loop()),Ra.to(or.get()),al&&el.emit("settle"),rl||el.emit("scroll")},ht=$S(n,s,()=>G(oe),Ve=>K(oe,Ve)),St=.68,xt=Q[Lt.get()],ee=hl(xt),ie=hl(xt),me=hl(xt),vn=hl(xt),Re=XS(ee,me,ie,vn,f,St),fi=nk(u,Q,mt,vt,vn),pi=sk(ht,Lt,ft,Re,fi,vn,a),gi=ZS(vt),rr=zl(),As=ok(t,e,a,g),{slideRegistry:bn}=ek(W,A,Q,Ot,Rt,bt),yn=ik(i,e,bn,pi,Re,rr,a,_),oe={ownerDocument:n,ownerWindow:s,eventHandler:a,containerRect:M,slideRects:C,animation:ht,axis:I,dragHandler:US(I,i,n,s,vn,WS(I,s),ee,ht,pi,Re,fi,Lt,a,z,p,m,v,St,S),eventStore:rr,percentOfView:z,index:Lt,indexPrevious:ft,limit:vt,location:ee,offsetLocation:me,previousLocation:ie,options:r,resizeHandler:GS(t,a,s,e,I,E,P),scrollBody:Re,scrollBounds:YS(vt,me,vn,Re,z),scrollLooper:QS(mt,vt,me,[ee,me,ie,vn]),scrollProgress:gi,scrollSnapList:Q.map(gi.get),scrollSnaps:Q,scrollTarget:fi,scrollTo:pi,slideLooper:rk(I,F,mt,D,N,At,Q,me,e),slideFocus:yn,slidesHandler:ak(t,a,k),slidesInView:As,slideIndexes:bt,slideRegistry:bn,slidesToScroll:Rt,target:vn,translate:uy(I,t)};return oe}function hk(){let i={},t;function e(c){t=c}function n(c){return i[c]||[]}function s(c){return n(c).forEach(h=>h(t,c)),l}function r(c,h){return i[c]=n(c).concat([h]),l}function a(c,h){return i[c]=n(c).filter(u=>u!==h),l}function o(){i={}}const l={init:e,emit:s,off:a,on:r,clear:o};return l}const uk={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function fk(i){function t(r,a){return dy(r,a||{})}function e(r){const a=r.breakpoints||{},o=Fl(a).filter(l=>i.matchMedia(l).matches).map(l=>a[l]).reduce((l,c)=>t(l,c),{});return t(r,o)}function n(r){return r.map(a=>Fl(a.breakpoints||{})).reduce((a,o)=>a.concat(o),[]).map(i.matchMedia)}return{mergeOptions:t,optionsAtMedia:e,optionsMediaQueries:n}}function pk(i){let t=[];function e(r,a){return t=a.filter(({options:o})=>i.optionsAtMedia(o).active!==!1),t.forEach(o=>o.init(r,i)),a.reduce((o,l)=>Object.assign(o,{[l.name]:l}),{})}function n(){t=t.filter(r=>r.destroy())}return{init:e,destroy:n}}function Fh(i,t,e){const n=i.ownerDocument,s=n.defaultView,r=fk(s),a=pk(r),o=zl(),l=hk(),{mergeOptions:c,optionsAtMedia:h,optionsMediaQueries:u}=r,{on:f,off:p,emit:m}=l,g=I;let b=!1,v,A=c(uk,Fh.globalOptions),E=c(A),k=[],S,_,L;function P(){const{container:bt,slides:G}=E;_=(kf(bt)?i.querySelector(bt):bt)||i.children[0];const ht=kf(G)?_.querySelectorAll(G):G;L=[].slice.call(ht||_.children)}function M(bt){const G=dk(i,_,L,n,s,bt,l);if(bt.loop&&!G.slideLooper.canLoop()){const K=Object.assign({},bt,{loop:!1});return M(K)}return G}function C(bt,G){b||(A=c(A,bt),E=h(A),k=G||k,P(),v=M(E),u([A,...k.map(({options:K})=>K)]).forEach(K=>o.add(K,"change",I)),E.active&&(v.translate.to(v.location.get()),v.animation.init(),v.slidesInView.init(),v.slideFocus.init(ft),v.eventHandler.init(ft),v.resizeHandler.init(ft),v.slidesHandler.init(ft),v.options.loop&&v.slideLooper.loop(),_.offsetParent&&L.length&&v.dragHandler.init(ft),S=a.init(ft,k)))}function I(bt,G){const K=Rt();F(),C(c({startIndex:K},bt),G),l.emit("reInit")}function F(){v.dragHandler.destroy(),v.eventStore.clear(),v.translate.clear(),v.slideLooper.clear(),v.resizeHandler.destroy(),v.slidesHandler.destroy(),v.slidesInView.destroy(),v.animation.destroy(),a.destroy(),o.clear()}function z(){b||(b=!0,o.clear(),F(),l.emit("destroy"),l.clear())}function H(bt,G,K){!E.active||b||(v.scrollBody.useBaseFriction().useDuration(G===!0?0:E.duration),v.scrollTo.index(bt,K||0))}function W(bt){const G=v.index.add(1).get();H(G,bt,-1)}function j(bt){const G=v.index.add(-1).get();H(G,bt,1)}function D(){return v.index.add(1).get()!==Rt()}function N(){return v.index.add(-1).get()!==Rt()}function ot(){return v.scrollSnapList}function lt(){return v.scrollProgress.get(v.offsetLocation.get())}function Rt(){return v.index.get()}function At(){return v.indexPrevious.get()}function nt(){return v.slidesInView.get()}function mt(){return v.slidesInView.get(!1)}function Dt(){return S}function Ot(){return v}function Q(){return i}function vt(){return _}function Lt(){return L}const ft={canScrollNext:D,canScrollPrev:N,containerNode:vt,internalEngine:Ot,destroy:z,off:p,on:f,emit:m,plugins:Dt,previousScrollSnap:At,reInit:g,rootNode:Q,scrollNext:W,scrollPrev:j,scrollProgress:lt,scrollSnapList:ot,scrollTo:H,selectedScrollSnap:Rt,slideNodes:Lt,slidesInView:nt,slidesNotInView:mt};return C(t,e),setTimeout(()=>l.emit("init"),0),ft}Fh.globalOptions=void 0;function Mg(i={},t=[]){const e=R.useRef(i),n=R.useRef(t),[s,r]=R.useState(),[a,o]=R.useState(),l=R.useCallback(()=>{s&&s.reInit(e.current,n.current)},[s]);return R.useEffect(()=>{Rg(e.current,i)||(e.current=i,l())},[i,l]),R.useEffect(()=>{FS(n.current,t)||(n.current=t,l())},[t,l]),R.useEffect(()=>{if(DS()&&a){Fh.globalOptions=Mg.globalOptions;const c=Fh(a,e.current,n.current);return r(c),()=>c.destroy()}else r(void 0)},[a,r]),[o,s]}Mg.globalOptions=void 0;const fy=R.createContext(null);function Eu(){const i=R.useContext(fy);if(!i)throw new Error("useCarousel must be used within a <Carousel />");return i}const gk=R.forwardRef(({orientation:i="horizontal",opts:t,setApi:e,plugins:n,className:s,children:r,...a},o)=>{const[l,c]=Mg({...t,axis:i==="horizontal"?"x":"y"},n),[h,u]=R.useState(!1),[f,p]=R.useState(!1),m=R.useCallback(A=>{A&&(u(A.canScrollPrev()),p(A.canScrollNext()))},[]),g=R.useCallback(()=>{c==null||c.scrollPrev()},[c]),b=R.useCallback(()=>{c==null||c.scrollNext()},[c]),v=R.useCallback(A=>{A.key==="ArrowLeft"?(A.preventDefault(),g()):A.key==="ArrowRight"&&(A.preventDefault(),b())},[g,b]);return R.useEffect(()=>{!c||!e||e(c)},[c,e]),R.useEffect(()=>{if(c)return m(c),c.on("reInit",m),c.on("select",m),()=>{c==null||c.off("select",m)}},[c,m]),q.jsx(fy.Provider,{value:{carouselRef:l,api:c,opts:t,orientation:i||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:g,scrollNext:b,canScrollPrev:h,canScrollNext:f},children:q.jsx("div",{ref:o,onKeyDownCapture:v,className:oi("relative",s),role:"region","aria-roledescription":"carousel",...a,children:r})})});gk.displayName="Carousel";const mk=R.forwardRef(({className:i,...t},e)=>{const{carouselRef:n,orientation:s}=Eu();return q.jsx("div",{ref:n,className:"overflow-hidden",children:q.jsx("div",{ref:e,className:oi("flex",s==="horizontal"?"-ml-4":"-mt-4 flex-col",i),...t})})});mk.displayName="CarouselContent";const vk=R.forwardRef(({className:i,...t},e)=>{const{orientation:n}=Eu();return q.jsx("div",{ref:e,role:"group","aria-roledescription":"slide",className:oi("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",i),...t})});vk.displayName="CarouselItem";const bk=R.forwardRef(({className:i,variant:t="outline",size:e="icon",...n},s)=>{const{orientation:r,scrollPrev:a,canScrollPrev:o}=Eu();return q.jsxs(kg,{ref:s,variant:t,size:e,className:oi("absolute  h-8 w-8 rounded-full",r==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",i),disabled:!o,onClick:a,...n,children:[q.jsx(EE,{className:"h-4 w-4"}),q.jsx("span",{className:"sr-only",children:"Previous slide"})]})});bk.displayName="CarouselPrevious";const yk=R.forwardRef(({className:i,variant:t="outline",size:e="icon",...n},s)=>{const{orientation:r,scrollNext:a,canScrollNext:o}=Eu();return q.jsxs(kg,{ref:s,variant:t,size:e,className:oi("absolute h-8 w-8 rounded-full",r==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",i),disabled:!o,onClick:a,...n,children:[q.jsx(kE,{className:"h-4 w-4"}),q.jsx("span",{className:"sr-only",children:"Next slide"})]})});yk.displayName="CarouselNext";/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function wk(i,t,e){return(t=xk(t))in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function zm(i,t){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),e.push.apply(e,n)}return e}function $(i){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?zm(Object(e),!0).forEach(function(n){wk(i,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):zm(Object(e)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(e,n))})}return i}function Ak(i,t){if(typeof i!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var n=e.call(i,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function xk(i){var t=Ak(i,"string");return typeof t=="symbol"?t:t+""}const Hm=()=>{};let Ig={},py={},gy=null,my={mark:Hm,measure:Hm};try{typeof window<"u"&&(Ig=window),typeof document<"u"&&(py=document),typeof MutationObserver<"u"&&(gy=MutationObserver),typeof performance<"u"&&(my=performance)}catch{}const{userAgent:Bm=""}=Ig.navigator||{},Ki=Ig,Yt=py,$m=gy,Vd=my;Ki.document;const ui=!!Yt.documentElement&&!!Yt.head&&typeof Yt.addEventListener=="function"&&typeof Yt.createElement=="function",vy=~Bm.indexOf("MSIE")||~Bm.indexOf("Trident/");var Ek=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,Sk=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,by={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},kk={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},yy=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Fe="classic",Su="duotone",_k="sharp",Ck="sharp-duotone",wy=[Fe,Su,_k,Ck],Rk={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},Tk={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},Pk=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),Lk={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},Mk=["fak","fa-kit","fakd","fa-kit-duotone"],jm={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},Ik=["kit"],Ok={kit:{"fa-kit":"fak"}},Nk=["fak","fakd"],Dk={kit:{fak:"fa-kit"}},Um={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},qd={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Fk=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],zk=["fak","fa-kit","fakd","fa-kit-duotone"],Hk={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},Bk={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},$k={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},Cf={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},jk=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],Rf=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...Fk,...jk],Uk=["solid","regular","light","thin","duotone","brands"],Ay=[1,2,3,4,5,6,7,8,9,10],Wk=Ay.concat([11,12,13,14,15,16,17,18,19,20]),Vk=[...Object.keys($k),...Uk,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",qd.GROUP,qd.SWAP_OPACITY,qd.PRIMARY,qd.SECONDARY].concat(Ay.map(i=>"".concat(i,"x"))).concat(Wk.map(i=>"w-".concat(i))),qk={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const li="___FONT_AWESOME___",Tf=16,xy="fa",Ey="svg-inline--fa",ma="data-fa-i2svg",Pf="data-fa-pseudo-element",Gk="data-fa-pseudo-element-pending",Og="data-prefix",Ng="data-icon",Wm="fontawesome-i2svg",Xk="async",Yk=["HTML","HEAD","STYLE","SCRIPT"],Sy=(()=>{try{return!0}catch{return!1}})();function xd(i){return new Proxy(i,{get(t,e){return e in t?t[e]:t[Fe]}})}const ky=$({},by);ky[Fe]=$($($($({},{"fa-duotone":"duotone"}),by[Fe]),jm.kit),jm["kit-duotone"]);const Kk=xd(ky),Lf=$({},Lk);Lf[Fe]=$($($($({},{duotone:"fad"}),Lf[Fe]),Um.kit),Um["kit-duotone"]);const Vm=xd(Lf),Mf=$({},Cf);Mf[Fe]=$($({},Mf[Fe]),Dk.kit);const Dg=xd(Mf),If=$({},Bk);If[Fe]=$($({},If[Fe]),Ok.kit);xd(If);const Jk=Ek,_y="fa-layers-text",Qk=Sk,Zk=$({},Rk);xd(Zk);const t_=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Qu=kk,e_=[...Ik,...Vk],Tl=Ki.FontAwesomeConfig||{};function n_(i){var t=Yt.querySelector("script["+i+"]");if(t)return t.getAttribute(i)}function s_(i){return i===""?!0:i==="false"?!1:i==="true"?!0:i}Yt&&typeof Yt.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(t=>{let[e,n]=t;const s=s_(n_(e));s!=null&&(Tl[n]=s)});const Cy={styleDefault:"solid",familyDefault:Fe,cssPrefix:xy,replacementClass:Ey,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Tl.familyPrefix&&(Tl.cssPrefix=Tl.familyPrefix);const qo=$($({},Cy),Tl);qo.autoReplaceSvg||(qo.observeMutations=!1);const it={};Object.keys(Cy).forEach(i=>{Object.defineProperty(it,i,{enumerable:!0,set:function(t){qo[i]=t,Pl.forEach(e=>e(it))},get:function(){return qo[i]}})});Object.defineProperty(it,"familyPrefix",{enumerable:!0,set:function(i){qo.cssPrefix=i,Pl.forEach(t=>t(it))},get:function(){return qo.cssPrefix}});Ki.FontAwesomeConfig=it;const Pl=[];function i_(i){return Pl.push(i),()=>{Pl.splice(Pl.indexOf(i),1)}}const vi=Tf,fs={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function r_(i){if(!i||!ui)return;const t=Yt.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=i;const e=Yt.head.childNodes;let n=null;for(let s=e.length-1;s>-1;s--){const r=e[s],a=(r.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(n=r)}return Yt.head.insertBefore(t,n),i}const a_="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Hl(){let i=12,t="";for(;i-- >0;)t+=a_[Math.random()*62|0];return t}function Zo(i){const t=[];for(let e=(i||[]).length>>>0;e--;)t[e]=i[e];return t}function Fg(i){return i.classList?Zo(i.classList):(i.getAttribute("class")||"").split(" ").filter(t=>t)}function Ry(i){return"".concat(i).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function o_(i){return Object.keys(i||{}).reduce((t,e)=>t+"".concat(e,'="').concat(Ry(i[e]),'" '),"").trim()}function ku(i){return Object.keys(i||{}).reduce((t,e)=>t+"".concat(e,": ").concat(i[e].trim(),";"),"")}function zg(i){return i.size!==fs.size||i.x!==fs.x||i.y!==fs.y||i.rotate!==fs.rotate||i.flipX||i.flipY}function l_(i){let{transform:t,containerWidth:e,iconWidth:n}=i;const s={transform:"translate(".concat(e/2," 256)")},r="translate(".concat(t.x*32,", ").concat(t.y*32,") "),a="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),o="rotate(".concat(t.rotate," 0 0)"),l={transform:"".concat(r," ").concat(a," ").concat(o)},c={transform:"translate(".concat(n/2*-1," -256)")};return{outer:s,inner:l,path:c}}function c_(i){let{transform:t,width:e=Tf,height:n=Tf,startCentered:s=!1}=i,r="";return s&&vy?r+="translate(".concat(t.x/vi-e/2,"em, ").concat(t.y/vi-n/2,"em) "):s?r+="translate(calc(-50% + ".concat(t.x/vi,"em), calc(-50% + ").concat(t.y/vi,"em)) "):r+="translate(".concat(t.x/vi,"em, ").concat(t.y/vi,"em) "),r+="scale(".concat(t.size/vi*(t.flipX?-1:1),", ").concat(t.size/vi*(t.flipY?-1:1),") "),r+="rotate(".concat(t.rotate,"deg) "),r}var d_=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function Ty(){const i=xy,t=Ey,e=it.cssPrefix,n=it.replacementClass;let s=d_;if(e!==i||n!==t){const r=new RegExp("\\.".concat(i,"\\-"),"g"),a=new RegExp("\\--".concat(i,"\\-"),"g"),o=new RegExp("\\.".concat(t),"g");s=s.replace(r,".".concat(e,"-")).replace(a,"--".concat(e,"-")).replace(o,".".concat(n))}return s}let qm=!1;function Zu(){it.autoAddCss&&!qm&&(r_(Ty()),qm=!0)}var h_={mixout(){return{dom:{css:Ty,insertCss:Zu}}},hooks(){return{beforeDOMElementCreation(){Zu()},beforeI2svg(){Zu()}}}};const ci=Ki||{};ci[li]||(ci[li]={});ci[li].styles||(ci[li].styles={});ci[li].hooks||(ci[li].hooks={});ci[li].shims||(ci[li].shims=[]);var ps=ci[li];const Py=[],Ly=function(){Yt.removeEventListener("DOMContentLoaded",Ly),zh=1,Py.map(i=>i())};let zh=!1;ui&&(zh=(Yt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Yt.readyState),zh||Yt.addEventListener("DOMContentLoaded",Ly));function u_(i){ui&&(zh?setTimeout(i,0):Py.push(i))}function Ed(i){const{tag:t,attributes:e={},children:n=[]}=i;return typeof i=="string"?Ry(i):"<".concat(t," ").concat(o_(e),">").concat(n.map(Ed).join(""),"</").concat(t,">")}function Gm(i,t,e){if(i&&i[t]&&i[t][e])return{prefix:t,iconName:e,icon:i[t][e]}}var tf=function(t,e,n,s){var r=Object.keys(t),a=r.length,o=e,l,c,h;for(n===void 0?(l=1,h=t[r[0]]):(l=0,h=n);l<a;l++)c=r[l],h=o(h,t[c],c,t);return h};function f_(i){const t=[];let e=0;const n=i.length;for(;e<n;){const s=i.charCodeAt(e++);if(s>=55296&&s<=56319&&e<n){const r=i.charCodeAt(e++);(r&64512)==56320?t.push(((s&1023)<<10)+(r&1023)+65536):(t.push(s),e--)}else t.push(s)}return t}function Of(i){const t=f_(i);return t.length===1?t[0].toString(16):null}function p_(i,t){const e=i.length;let n=i.charCodeAt(t),s;return n>=55296&&n<=56319&&e>t+1&&(s=i.charCodeAt(t+1),s>=56320&&s<=57343)?(n-55296)*1024+s-56320+65536:n}function Xm(i){return Object.keys(i).reduce((t,e)=>{const n=i[e];return!!n.icon?t[n.iconName]=n.icon:t[e]=n,t},{})}function Nf(i,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:n=!1}=e,s=Xm(t);typeof ps.hooks.addPack=="function"&&!n?ps.hooks.addPack(i,Xm(t)):ps.styles[i]=$($({},ps.styles[i]||{}),s),i==="fas"&&Nf("fa",t)}const{styles:Bl,shims:g_}=ps,My=Object.keys(Dg),m_=My.reduce((i,t)=>(i[t]=Object.keys(Dg[t]),i),{});let Hg=null,Iy={},Oy={},Ny={},Dy={},Fy={};function v_(i){return~e_.indexOf(i)}function b_(i,t){const e=t.split("-"),n=e[0],s=e.slice(1).join("-");return n===i&&s!==""&&!v_(s)?s:null}const zy=()=>{const i=n=>tf(Bl,(s,r,a)=>(s[a]=tf(r,n,{}),s),{});Iy=i((n,s,r)=>(s[3]&&(n[s[3]]=r),s[2]&&s[2].filter(o=>typeof o=="number").forEach(o=>{n[o.toString(16)]=r}),n)),Oy=i((n,s,r)=>(n[r]=r,s[2]&&s[2].filter(o=>typeof o=="string").forEach(o=>{n[o]=r}),n)),Fy=i((n,s,r)=>{const a=s[2];return n[r]=r,a.forEach(o=>{n[o]=r}),n});const t="far"in Bl||it.autoFetchSvg,e=tf(g_,(n,s)=>{const r=s[0];let a=s[1];const o=s[2];return a==="far"&&!t&&(a="fas"),typeof r=="string"&&(n.names[r]={prefix:a,iconName:o}),typeof r=="number"&&(n.unicodes[r.toString(16)]={prefix:a,iconName:o}),n},{names:{},unicodes:{}});Ny=e.names,Dy=e.unicodes,Hg=_u(it.styleDefault,{family:it.familyDefault})};i_(i=>{Hg=_u(i.styleDefault,{family:it.familyDefault})});zy();function Bg(i,t){return(Iy[i]||{})[t]}function y_(i,t){return(Oy[i]||{})[t]}function vr(i,t){return(Fy[i]||{})[t]}function Hy(i){return Ny[i]||{prefix:null,iconName:null}}function w_(i){const t=Dy[i],e=Bg("fas",i);return t||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null}}function Ji(){return Hg}const By=()=>({prefix:null,iconName:null,rest:[]});function A_(i){let t=Fe;const e=My.reduce((n,s)=>(n[s]="".concat(it.cssPrefix,"-").concat(s),n),{});return wy.forEach(n=>{(i.includes(e[n])||i.some(s=>m_[n].includes(s)))&&(t=n)}),t}function _u(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:e=Fe}=t,n=Kk[e][i];if(e===Su&&!i)return"fad";const s=Vm[e][i]||Vm[e][n],r=i in ps.styles?i:null;return s||r||null}function x_(i){let t=[],e=null;return i.forEach(n=>{const s=b_(it.cssPrefix,n);s?e=s:n&&t.push(n)}),{iconName:e,rest:t}}function Ym(i){return i.sort().filter((t,e,n)=>n.indexOf(t)===e)}function Cu(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:e=!1}=t;let n=null;const s=Rf.concat(zk),r=Ym(i.filter(u=>s.includes(u))),a=Ym(i.filter(u=>!Rf.includes(u))),o=r.filter(u=>(n=u,!yy.includes(u))),[l=null]=o,c=A_(r),h=$($({},x_(a)),{},{prefix:_u(l,{family:c})});return $($($({},h),__({values:i,family:c,styles:Bl,config:it,canonical:h,givenPrefix:n})),E_(e,n,h))}function E_(i,t,e){let{prefix:n,iconName:s}=e;if(i||!n||!s)return{prefix:n,iconName:s};const r=t==="fa"?Hy(s):{},a=vr(n,s);return s=r.iconName||a||s,n=r.prefix||n,n==="far"&&!Bl.far&&Bl.fas&&!it.autoFetchSvg&&(n="fas"),{prefix:n,iconName:s}}const S_=wy.filter(i=>i!==Fe||i!==Su),k_=Object.keys(Cf).filter(i=>i!==Fe).map(i=>Object.keys(Cf[i])).flat();function __(i){const{values:t,family:e,canonical:n,givenPrefix:s="",styles:r={},config:a={}}=i,o=e===Su,l=t.includes("fa-duotone")||t.includes("fad"),c=a.familyDefault==="duotone",h=n.prefix==="fad"||n.prefix==="fa-duotone";if(!o&&(l||c||h)&&(n.prefix="fad"),(t.includes("fa-brands")||t.includes("fab"))&&(n.prefix="fab"),!n.prefix&&S_.includes(e)&&(Object.keys(r).find(f=>k_.includes(f))||a.autoFetchSvg)){const f=Pk.get(e).defaultShortPrefixId;n.prefix=f,n.iconName=vr(n.prefix,n.iconName)||n.iconName}return(n.prefix==="fa"||s==="fa")&&(n.prefix=Ji()||"fas"),n}class C_{constructor(){this.definitions={}}add(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const s=e.reduce(this._pullDefinitions,{});Object.keys(s).forEach(r=>{this.definitions[r]=$($({},this.definitions[r]||{}),s[r]),Nf(r,s[r]);const a=Dg[Fe][r];a&&Nf(a,s[r]),zy()})}reset(){this.definitions={}}_pullDefinitions(t,e){const n=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(n).map(s=>{const{prefix:r,iconName:a,icon:o}=n[s],l=o[2];t[r]||(t[r]={}),l.length>0&&l.forEach(c=>{typeof c=="string"&&(t[r][c]=o)}),t[r][a]=o}),t}}let Km=[],za={};const ja={},R_=Object.keys(ja);function T_(i,t){let{mixoutsTo:e}=t;return Km=i,za={},Object.keys(ja).forEach(n=>{R_.indexOf(n)===-1&&delete ja[n]}),Km.forEach(n=>{const s=n.mixout?n.mixout():{};if(Object.keys(s).forEach(r=>{typeof s[r]=="function"&&(e[r]=s[r]),typeof s[r]=="object"&&Object.keys(s[r]).forEach(a=>{e[r]||(e[r]={}),e[r][a]=s[r][a]})}),n.hooks){const r=n.hooks();Object.keys(r).forEach(a=>{za[a]||(za[a]=[]),za[a].push(r[a])})}n.provides&&n.provides(ja)}),e}function Df(i,t){for(var e=arguments.length,n=new Array(e>2?e-2:0),s=2;s<e;s++)n[s-2]=arguments[s];return(za[i]||[]).forEach(a=>{t=a.apply(null,[t,...n])}),t}function va(i){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];(za[i]||[]).forEach(r=>{r.apply(null,e)})}function Qi(){const i=arguments[0],t=Array.prototype.slice.call(arguments,1);return ja[i]?ja[i].apply(null,t):void 0}function Ff(i){i.prefix==="fa"&&(i.prefix="fas");let{iconName:t}=i;const e=i.prefix||Ji();if(t)return t=vr(e,t)||t,Gm($y.definitions,e,t)||Gm(ps.styles,e,t)}const $y=new C_,P_=()=>{it.autoReplaceSvg=!1,it.observeMutations=!1,va("noAuto")},L_={i2svg:function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ui?(va("beforeI2svg",i),Qi("pseudoElements2svg",i),Qi("i2svg",i)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t}=i;it.autoReplaceSvg===!1&&(it.autoReplaceSvg=!0),it.observeMutations=!0,u_(()=>{I_({autoReplaceSvgRoot:t}),va("watch",i)})}},M_={icon:i=>{if(i===null)return null;if(typeof i=="object"&&i.prefix&&i.iconName)return{prefix:i.prefix,iconName:vr(i.prefix,i.iconName)||i.iconName};if(Array.isArray(i)&&i.length===2){const t=i[1].indexOf("fa-")===0?i[1].slice(3):i[1],e=_u(i[0]);return{prefix:e,iconName:vr(e,t)||t}}if(typeof i=="string"&&(i.indexOf("".concat(it.cssPrefix,"-"))>-1||i.match(Jk))){const t=Cu(i.split(" "),{skipLookups:!0});return{prefix:t.prefix||Ji(),iconName:vr(t.prefix,t.iconName)||t.iconName}}if(typeof i=="string"){const t=Ji();return{prefix:t,iconName:vr(t,i)||i}}}},mn={noAuto:P_,config:it,dom:L_,parse:M_,library:$y,findIconDefinition:Ff,toHtml:Ed},I_=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t=Yt}=i;(Object.keys(ps.styles).length>0||it.autoFetchSvg)&&ui&&it.autoReplaceSvg&&mn.dom.i2svg({node:t})};function Ru(i,t){return Object.defineProperty(i,"abstract",{get:t}),Object.defineProperty(i,"html",{get:function(){return i.abstract.map(e=>Ed(e))}}),Object.defineProperty(i,"node",{get:function(){if(!ui)return;const e=Yt.createElement("div");return e.innerHTML=i.html,e.children}}),i}function O_(i){let{children:t,main:e,mask:n,attributes:s,styles:r,transform:a}=i;if(zg(a)&&e.found&&!n.found){const{width:o,height:l}=e,c={x:o/l/2,y:.5};s.style=ku($($({},r),{},{"transform-origin":"".concat(c.x+a.x/16,"em ").concat(c.y+a.y/16,"em")}))}return[{tag:"svg",attributes:s,children:t}]}function N_(i){let{prefix:t,iconName:e,children:n,attributes:s,symbol:r}=i;const a=r===!0?"".concat(t,"-").concat(it.cssPrefix,"-").concat(e):r;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:$($({},s),{},{id:a}),children:n}]}]}function $g(i){const{icons:{main:t,mask:e},prefix:n,iconName:s,transform:r,symbol:a,title:o,maskId:l,titleId:c,extra:h,watchable:u=!1}=i,{width:f,height:p}=e.found?e:t,m=Nk.includes(n),g=[it.replacementClass,s?"".concat(it.cssPrefix,"-").concat(s):""].filter(S=>h.classes.indexOf(S)===-1).filter(S=>S!==""||!!S).concat(h.classes).join(" ");let b={children:[],attributes:$($({},h.attributes),{},{"data-prefix":n,"data-icon":s,class:g,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(f," ").concat(p)})};const v=m&&!~h.classes.indexOf("fa-fw")?{width:"".concat(f/p*16*.0625,"em")}:{};u&&(b.attributes[ma]=""),o&&(b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(c||Hl())},children:[o]}),delete b.attributes.title);const A=$($({},b),{},{prefix:n,iconName:s,main:t,mask:e,maskId:l,transform:r,symbol:a,styles:$($({},v),h.styles)}),{children:E,attributes:k}=e.found&&t.found?Qi("generateAbstractMask",A)||{children:[],attributes:{}}:Qi("generateAbstractIcon",A)||{children:[],attributes:{}};return A.children=E,A.attributes=k,a?N_(A):O_(A)}function Jm(i){const{content:t,width:e,height:n,transform:s,title:r,extra:a,watchable:o=!1}=i,l=$($($({},a.attributes),r?{title:r}:{}),{},{class:a.classes.join(" ")});o&&(l[ma]="");const c=$({},a.styles);zg(s)&&(c.transform=c_({transform:s,startCentered:!0,width:e,height:n}),c["-webkit-transform"]=c.transform);const h=ku(c);h.length>0&&(l.style=h);const u=[];return u.push({tag:"span",attributes:l,children:[t]}),r&&u.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),u}function D_(i){const{content:t,title:e,extra:n}=i,s=$($($({},n.attributes),e?{title:e}:{}),{},{class:n.classes.join(" ")}),r=ku(n.styles);r.length>0&&(s.style=r);const a=[];return a.push({tag:"span",attributes:s,children:[t]}),e&&a.push({tag:"span",attributes:{class:"sr-only"},children:[e]}),a}const{styles:ef}=ps;function zf(i){const t=i[0],e=i[1],[n]=i.slice(4);let s=null;return Array.isArray(n)?s={tag:"g",attributes:{class:"".concat(it.cssPrefix,"-").concat(Qu.GROUP)},children:[{tag:"path",attributes:{class:"".concat(it.cssPrefix,"-").concat(Qu.SECONDARY),fill:"currentColor",d:n[0]}},{tag:"path",attributes:{class:"".concat(it.cssPrefix,"-").concat(Qu.PRIMARY),fill:"currentColor",d:n[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:n}},{found:!0,width:t,height:e,icon:s}}const F_={found:!1,width:512,height:512};function z_(i,t){!Sy&&!it.showMissingIcons&&i&&console.error('Icon with name "'.concat(i,'" and prefix "').concat(t,'" is missing.'))}function Hf(i,t){let e=t;return t==="fa"&&it.styleDefault!==null&&(t=Ji()),new Promise((n,s)=>{if(e==="fa"){const r=Hy(i)||{};i=r.iconName||i,t=r.prefix||t}if(i&&t&&ef[t]&&ef[t][i]){const r=ef[t][i];return n(zf(r))}z_(i,t),n($($({},F_),{},{icon:it.showMissingIcons&&i?Qi("missingIconAbstract")||{}:{}}))})}const Qm=()=>{},Bf=it.measurePerformance&&Vd&&Vd.mark&&Vd.measure?Vd:{mark:Qm,measure:Qm},ul='FA "6.7.2"',H_=i=>(Bf.mark("".concat(ul," ").concat(i," begins")),()=>jy(i)),jy=i=>{Bf.mark("".concat(ul," ").concat(i," ends")),Bf.measure("".concat(ul," ").concat(i),"".concat(ul," ").concat(i," begins"),"".concat(ul," ").concat(i," ends"))};var jg={begin:H_,end:jy};const eh=()=>{};function Zm(i){return typeof(i.getAttribute?i.getAttribute(ma):null)=="string"}function B_(i){const t=i.getAttribute?i.getAttribute(Og):null,e=i.getAttribute?i.getAttribute(Ng):null;return t&&e}function $_(i){return i&&i.classList&&i.classList.contains&&i.classList.contains(it.replacementClass)}function j_(){return it.autoReplaceSvg===!0?nh.replace:nh[it.autoReplaceSvg]||nh.replace}function U_(i){return Yt.createElementNS("http://www.w3.org/2000/svg",i)}function W_(i){return Yt.createElement(i)}function Uy(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:e=i.tag==="svg"?U_:W_}=t;if(typeof i=="string")return Yt.createTextNode(i);const n=e(i.tag);return Object.keys(i.attributes||[]).forEach(function(r){n.setAttribute(r,i.attributes[r])}),(i.children||[]).forEach(function(r){n.appendChild(Uy(r,{ceFn:e}))}),n}function V_(i){let t=" ".concat(i.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}const nh={replace:function(i){const t=i[0];if(t.parentNode)if(i[1].forEach(e=>{t.parentNode.insertBefore(Uy(e),t)}),t.getAttribute(ma)===null&&it.keepOriginalSource){let e=Yt.createComment(V_(t));t.parentNode.replaceChild(e,t)}else t.remove()},nest:function(i){const t=i[0],e=i[1];if(~Fg(t).indexOf(it.replacementClass))return nh.replace(i);const n=new RegExp("".concat(it.cssPrefix,"-.*"));if(delete e[0].attributes.id,e[0].attributes.class){const r=e[0].attributes.class.split(" ").reduce((a,o)=>(o===it.replacementClass||o.match(n)?a.toSvg.push(o):a.toNode.push(o),a),{toNode:[],toSvg:[]});e[0].attributes.class=r.toSvg.join(" "),r.toNode.length===0?t.removeAttribute("class"):t.setAttribute("class",r.toNode.join(" "))}const s=e.map(r=>Ed(r)).join(`
`);t.setAttribute(ma,""),t.innerHTML=s}};function tv(i){i()}function Wy(i,t){const e=typeof t=="function"?t:eh;if(i.length===0)e();else{let n=tv;it.mutateApproach===Xk&&(n=Ki.requestAnimationFrame||tv),n(()=>{const s=j_(),r=jg.begin("mutate");i.map(s),r(),e()})}}let Ug=!1;function Vy(){Ug=!0}function $f(){Ug=!1}let Hh=null;function ev(i){if(!$m||!it.observeMutations)return;const{treeCallback:t=eh,nodeCallback:e=eh,pseudoElementsCallback:n=eh,observeMutationsRoot:s=Yt}=i;Hh=new $m(r=>{if(Ug)return;const a=Ji();Zo(r).forEach(o=>{if(o.type==="childList"&&o.addedNodes.length>0&&!Zm(o.addedNodes[0])&&(it.searchPseudoElements&&n(o.target),t(o.target)),o.type==="attributes"&&o.target.parentNode&&it.searchPseudoElements&&n(o.target.parentNode),o.type==="attributes"&&Zm(o.target)&&~t_.indexOf(o.attributeName))if(o.attributeName==="class"&&B_(o.target)){const{prefix:l,iconName:c}=Cu(Fg(o.target));o.target.setAttribute(Og,l||a),c&&o.target.setAttribute(Ng,c)}else $_(o.target)&&e(o.target)})}),ui&&Hh.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function q_(){Hh&&Hh.disconnect()}function G_(i){const t=i.getAttribute("style");let e=[];return t&&(e=t.split(";").reduce((n,s)=>{const r=s.split(":"),a=r[0],o=r.slice(1);return a&&o.length>0&&(n[a]=o.join(":").trim()),n},{})),e}function X_(i){const t=i.getAttribute("data-prefix"),e=i.getAttribute("data-icon"),n=i.innerText!==void 0?i.innerText.trim():"";let s=Cu(Fg(i));return s.prefix||(s.prefix=Ji()),t&&e&&(s.prefix=t,s.iconName=e),s.iconName&&s.prefix||(s.prefix&&n.length>0&&(s.iconName=y_(s.prefix,i.innerText)||Bg(s.prefix,Of(i.innerText))),!s.iconName&&it.autoFetchSvg&&i.firstChild&&i.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=i.firstChild.data)),s}function Y_(i){const t=Zo(i.attributes).reduce((s,r)=>(s.name!=="class"&&s.name!=="style"&&(s[r.name]=r.value),s),{}),e=i.getAttribute("title"),n=i.getAttribute("data-fa-title-id");return it.autoA11y&&(e?t["aria-labelledby"]="".concat(it.replacementClass,"-title-").concat(n||Hl()):(t["aria-hidden"]="true",t.focusable="false")),t}function K_(){return{iconName:null,title:null,titleId:null,prefix:null,transform:fs,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function nv(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:e,prefix:n,rest:s}=X_(i),r=Y_(i),a=Df("parseNodeAttributes",{},i);let o=t.styleParser?G_(i):[];return $({iconName:e,title:i.getAttribute("title"),titleId:i.getAttribute("data-fa-title-id"),prefix:n,transform:fs,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:o,attributes:r}},a)}const{styles:J_}=ps;function qy(i){const t=it.autoReplaceSvg==="nest"?nv(i,{styleParser:!1}):nv(i);return~t.extra.classes.indexOf(_y)?Qi("generateLayersText",i,t):Qi("generateSvgReplacementMutation",i,t)}function Q_(){return[...Mk,...Rf]}function sv(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!ui)return Promise.resolve();const e=Yt.documentElement.classList,n=h=>e.add("".concat(Wm,"-").concat(h)),s=h=>e.remove("".concat(Wm,"-").concat(h)),r=it.autoFetchSvg?Q_():yy.concat(Object.keys(J_));r.includes("fa")||r.push("fa");const a=[".".concat(_y,":not([").concat(ma,"])")].concat(r.map(h=>".".concat(h,":not([").concat(ma,"])"))).join(", ");if(a.length===0)return Promise.resolve();let o=[];try{o=Zo(i.querySelectorAll(a))}catch{}if(o.length>0)n("pending"),s("complete");else return Promise.resolve();const l=jg.begin("onTree"),c=o.reduce((h,u)=>{try{const f=qy(u);f&&h.push(f)}catch(f){Sy||f.name==="MissingIcon"&&console.error(f)}return h},[]);return new Promise((h,u)=>{Promise.all(c).then(f=>{Wy(f,()=>{n("active"),n("complete"),s("pending"),typeof t=="function"&&t(),l(),h()})}).catch(f=>{l(),u(f)})})}function Z_(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;qy(i).then(e=>{e&&Wy([e],t)})}function tC(i){return function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=(t||{}).icon?t:Ff(t||{});let{mask:s}=e;return s&&(s=(s||{}).icon?s:Ff(s||{})),i(n,$($({},e),{},{mask:s}))}}const eC=function(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:e=fs,symbol:n=!1,mask:s=null,maskId:r=null,title:a=null,titleId:o=null,classes:l=[],attributes:c={},styles:h={}}=t;if(!i)return;const{prefix:u,iconName:f,icon:p}=i;return Ru($({type:"icon"},i),()=>(va("beforeDOMElementCreation",{iconDefinition:i,params:t}),it.autoA11y&&(a?c["aria-labelledby"]="".concat(it.replacementClass,"-title-").concat(o||Hl()):(c["aria-hidden"]="true",c.focusable="false")),$g({icons:{main:zf(p),mask:s?zf(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:u,iconName:f,transform:$($({},fs),e),symbol:n,title:a,maskId:r,titleId:o,extra:{attributes:c,styles:h,classes:l}})))};var nC={mixout(){return{icon:tC(eC)}},hooks(){return{mutationObserverCallbacks(i){return i.treeCallback=sv,i.nodeCallback=Z_,i}}},provides(i){i.i2svg=function(t){const{node:e=Yt,callback:n=()=>{}}=t;return sv(e,n)},i.generateSvgReplacementMutation=function(t,e){const{iconName:n,title:s,titleId:r,prefix:a,transform:o,symbol:l,mask:c,maskId:h,extra:u}=e;return new Promise((f,p)=>{Promise.all([Hf(n,a),c.iconName?Hf(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(m=>{let[g,b]=m;f([t,$g({icons:{main:g,mask:b},prefix:a,iconName:n,transform:o,symbol:l,maskId:h,title:s,titleId:r,extra:u,watchable:!0})])}).catch(p)})},i.generateAbstractIcon=function(t){let{children:e,attributes:n,main:s,transform:r,styles:a}=t;const o=ku(a);o.length>0&&(n.style=o);let l;return zg(r)&&(l=Qi("generateAbstractTransformGrouping",{main:s,transform:r,containerWidth:s.width,iconWidth:s.width})),e.push(l||s.icon),{children:e,attributes:n}}}},sC={mixout(){return{layer(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:e=[]}=t;return Ru({type:"layer"},()=>{va("beforeDOMElementCreation",{assembler:i,params:t});let n=[];return i(s=>{Array.isArray(s)?s.map(r=>{n=n.concat(r.abstract)}):n=n.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(it.cssPrefix,"-layers"),...e].join(" ")},children:n}]})}}}},iC={mixout(){return{counter(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:e=null,classes:n=[],attributes:s={},styles:r={}}=t;return Ru({type:"counter",content:i},()=>(va("beforeDOMElementCreation",{content:i,params:t}),D_({content:i.toString(),title:e,extra:{attributes:s,styles:r,classes:["".concat(it.cssPrefix,"-layers-counter"),...n]}})))}}}},rC={mixout(){return{text(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:e=fs,title:n=null,classes:s=[],attributes:r={},styles:a={}}=t;return Ru({type:"text",content:i},()=>(va("beforeDOMElementCreation",{content:i,params:t}),Jm({content:i,transform:$($({},fs),e),title:n,extra:{attributes:r,styles:a,classes:["".concat(it.cssPrefix,"-layers-text"),...s]}})))}}},provides(i){i.generateLayersText=function(t,e){const{title:n,transform:s,extra:r}=e;let a=null,o=null;if(vy){const l=parseInt(getComputedStyle(t).fontSize,10),c=t.getBoundingClientRect();a=c.width/l,o=c.height/l}return it.autoA11y&&!n&&(r.attributes["aria-hidden"]="true"),Promise.resolve([t,Jm({content:t.innerHTML,width:a,height:o,transform:s,title:n,extra:r,watchable:!0})])}}};const aC=new RegExp('"',"ug"),iv=[1105920,1112319],rv=$($($($({},{FontAwesome:{normal:"fas",400:"fas"}}),Tk),qk),Hk),jf=Object.keys(rv).reduce((i,t)=>(i[t.toLowerCase()]=rv[t],i),{}),oC=Object.keys(jf).reduce((i,t)=>{const e=jf[t];return i[t]=e[900]||[...Object.entries(e)][0][1],i},{});function lC(i){const t=i.replace(aC,""),e=p_(t,0),n=e>=iv[0]&&e<=iv[1],s=t.length===2?t[0]===t[1]:!1;return{value:Of(s?t[0]:t),isSecondary:n||s}}function cC(i,t){const e=i.replace(/^['"]|['"]$/g,"").toLowerCase(),n=parseInt(t),s=isNaN(n)?"normal":n;return(jf[e]||{})[s]||oC[e]}function av(i,t){const e="".concat(Gk).concat(t.replace(":","-"));return new Promise((n,s)=>{if(i.getAttribute(e)!==null)return n();const a=Zo(i.children).filter(f=>f.getAttribute(Pf)===t)[0],o=Ki.getComputedStyle(i,t),l=o.getPropertyValue("font-family"),c=l.match(Qk),h=o.getPropertyValue("font-weight"),u=o.getPropertyValue("content");if(a&&!c)return i.removeChild(a),n();if(c&&u!=="none"&&u!==""){const f=o.getPropertyValue("content");let p=cC(l,h);const{value:m,isSecondary:g}=lC(f),b=c[0].startsWith("FontAwesome");let v=Bg(p,m),A=v;if(b){const E=w_(m);E.iconName&&E.prefix&&(v=E.iconName,p=E.prefix)}if(v&&!g&&(!a||a.getAttribute(Og)!==p||a.getAttribute(Ng)!==A)){i.setAttribute(e,A),a&&i.removeChild(a);const E=K_(),{extra:k}=E;k.attributes[Pf]=t,Hf(v,p).then(S=>{const _=$g($($({},E),{},{icons:{main:S,mask:By()},prefix:p,iconName:A,extra:k,watchable:!0})),L=Yt.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?i.insertBefore(L,i.firstChild):i.appendChild(L),L.outerHTML=_.map(P=>Ed(P)).join(`
`),i.removeAttribute(e),n()}).catch(s)}else n()}else n()})}function dC(i){return Promise.all([av(i,"::before"),av(i,"::after")])}function hC(i){return i.parentNode!==document.head&&!~Yk.indexOf(i.tagName.toUpperCase())&&!i.getAttribute(Pf)&&(!i.parentNode||i.parentNode.tagName!=="svg")}function ov(i){if(ui)return new Promise((t,e)=>{const n=Zo(i.querySelectorAll("*")).filter(hC).map(dC),s=jg.begin("searchPseudoElements");Vy(),Promise.all(n).then(()=>{s(),$f(),t()}).catch(()=>{s(),$f(),e()})})}var uC={hooks(){return{mutationObserverCallbacks(i){return i.pseudoElementsCallback=ov,i}}},provides(i){i.pseudoElements2svg=function(t){const{node:e=Yt}=t;it.searchPseudoElements&&ov(e)}}};let lv=!1;var fC={mixout(){return{dom:{unwatch(){Vy(),lv=!0}}}},hooks(){return{bootstrap(){ev(Df("mutationObserverCallbacks",{}))},noAuto(){q_()},watch(i){const{observeMutationsRoot:t}=i;lv?$f():ev(Df("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}};const cv=i=>{let t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return i.toLowerCase().split(" ").reduce((e,n)=>{const s=n.toLowerCase().split("-"),r=s[0];let a=s.slice(1).join("-");if(r&&a==="h")return e.flipX=!0,e;if(r&&a==="v")return e.flipY=!0,e;if(a=parseFloat(a),isNaN(a))return e;switch(r){case"grow":e.size=e.size+a;break;case"shrink":e.size=e.size-a;break;case"left":e.x=e.x-a;break;case"right":e.x=e.x+a;break;case"up":e.y=e.y-a;break;case"down":e.y=e.y+a;break;case"rotate":e.rotate=e.rotate+a;break}return e},t)};var pC={mixout(){return{parse:{transform:i=>cv(i)}}},hooks(){return{parseNodeAttributes(i,t){const e=t.getAttribute("data-fa-transform");return e&&(i.transform=cv(e)),i}}},provides(i){i.generateAbstractTransformGrouping=function(t){let{main:e,transform:n,containerWidth:s,iconWidth:r}=t;const a={transform:"translate(".concat(s/2," 256)")},o="translate(".concat(n.x*32,", ").concat(n.y*32,") "),l="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),c="rotate(".concat(n.rotate," 0 0)"),h={transform:"".concat(o," ").concat(l," ").concat(c)},u={transform:"translate(".concat(r/2*-1," -256)")},f={outer:a,inner:h,path:u};return{tag:"g",attributes:$({},f.outer),children:[{tag:"g",attributes:$({},f.inner),children:[{tag:e.icon.tag,children:e.icon.children,attributes:$($({},e.icon.attributes),f.path)}]}]}}}};const nf={x:0,y:0,width:"100%",height:"100%"};function dv(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return i.attributes&&(i.attributes.fill||t)&&(i.attributes.fill="black"),i}function gC(i){return i.tag==="g"?i.children:[i]}var mC={hooks(){return{parseNodeAttributes(i,t){const e=t.getAttribute("data-fa-mask"),n=e?Cu(e.split(" ").map(s=>s.trim())):By();return n.prefix||(n.prefix=Ji()),i.mask=n,i.maskId=t.getAttribute("data-fa-mask-id"),i}}},provides(i){i.generateAbstractMask=function(t){let{children:e,attributes:n,main:s,mask:r,maskId:a,transform:o}=t;const{width:l,icon:c}=s,{width:h,icon:u}=r,f=l_({transform:o,containerWidth:h,iconWidth:l}),p={tag:"rect",attributes:$($({},nf),{},{fill:"white"})},m=c.children?{children:c.children.map(dv)}:{},g={tag:"g",attributes:$({},f.inner),children:[dv($({tag:c.tag,attributes:$($({},c.attributes),f.path)},m))]},b={tag:"g",attributes:$({},f.outer),children:[g]},v="mask-".concat(a||Hl()),A="clip-".concat(a||Hl()),E={tag:"mask",attributes:$($({},nf),{},{id:v,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,b]},k={tag:"defs",children:[{tag:"clipPath",attributes:{id:A},children:gC(u)},E]};return e.push(k,{tag:"rect",attributes:$({fill:"currentColor","clip-path":"url(#".concat(A,")"),mask:"url(#".concat(v,")")},nf)}),{children:e,attributes:n}}}},vC={provides(i){let t=!1;Ki.matchMedia&&(t=Ki.matchMedia("(prefers-reduced-motion: reduce)").matches),i.missingIconAbstract=function(){const e=[],n={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:$($({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const r=$($({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:$($({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:$($({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:$($({},r),{},{values:"1;0;1;1;0;1;"})}),e.push(a),e.push({tag:"path",attributes:$($({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:$($({},r),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:$($({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:$($({},r),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}},bC={hooks(){return{parseNodeAttributes(i,t){const e=t.getAttribute("data-fa-symbol"),n=e===null?!1:e===""?!0:e;return i.symbol=n,i}}}},yC=[h_,nC,sC,iC,rC,uC,fC,pC,mC,vC,bC];T_(yC,{mixoutsTo:mn});mn.noAuto;const AL=mn.config;mn.library;mn.dom;const Uf=mn.parse;mn.findIconDefinition;mn.toHtml;const wC=mn.icon;mn.layer;mn.text;mn.counter;var sf={exports:{}},rf,hv;function AC(){if(hv)return rf;hv=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return rf=i,rf}var af,uv;function xC(){if(uv)return af;uv=1;var i=AC();function t(){}function e(){}return e.resetWarningCache=t,af=function(){function n(a,o,l,c,h,u){if(u!==i){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}n.isRequired=n;function s(){return n}var r={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:e,resetWarningCache:t};return r.PropTypes=r,r},af}var fv;function EC(){return fv||(fv=1,sf.exports=xC()()),sf.exports}var SC=EC();const yt=lb(SC);var kC={};function Wf(i,t){(t==null||t>i.length)&&(t=i.length);for(var e=0,n=Array(t);e<t;e++)n[e]=i[e];return n}function _C(i){if(Array.isArray(i))return i}function CC(i){if(Array.isArray(i))return Wf(i)}function xi(i,t,e){return(t=NC(t))in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function RC(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function TC(i,t){var e=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(e!=null){var n,s,r,a,o=[],l=!0,c=!1;try{if(r=(e=e.call(i)).next,t!==0)for(;!(l=(n=r.call(e)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(h){c=!0,s=h}finally{try{if(!l&&e.return!=null&&(a=e.return(),Object(a)!==a))return}finally{if(c)throw s}}return o}}function PC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LC(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pv(i,t){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),e.push.apply(e,n)}return e}function hs(i){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?pv(Object(e),!0).forEach(function(n){xi(i,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):pv(Object(e)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(e,n))})}return i}function MC(i,t){if(i==null)return{};var e,n,s=IC(i,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);for(n=0;n<r.length;n++)e=r[n],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(i,e)&&(s[e]=i[e])}return s}function IC(i,t){if(i==null)return{};var e={};for(var n in i)if({}.hasOwnProperty.call(i,n)){if(t.indexOf(n)!==-1)continue;e[n]=i[n]}return e}function gv(i,t){return _C(i)||TC(i,t)||Gy(i,t)||PC()}function Vf(i){return CC(i)||RC(i)||Gy(i)||LC()}function OC(i,t){if(typeof i!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var n=e.call(i,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function NC(i){var t=OC(i,"string");return typeof t=="symbol"?t:t+""}function Bh(i){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bh(i)}function Gy(i,t){if(i){if(typeof i=="string")return Wf(i,t);var e={}.toString.call(i).slice(8,-1);return e==="Object"&&i.constructor&&(e=i.constructor.name),e==="Map"||e==="Set"?Array.from(i):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Wf(i,t):void 0}}var DC="7.0.0",qf;try{var FC=require("@fortawesome/fontawesome-svg-core/package.json");qf=FC.version}catch{qf=typeof process<"u"&&kC.FA_VERSION||"7.0.0"}function zC(i){var t=i.beat,e=i.fade,n=i.beatFade,s=i.bounce,r=i.shake,a=i.flash,o=i.spin,l=i.spinPulse,c=i.spinReverse,h=i.pulse,u=i.fixedWidth,f=i.inverse,p=i.border,m=i.listItem,g=i.flip,b=i.size,v=i.rotation,A=i.pull,E=i.swapOpacity,k=i.rotateBy,S=i.widthAuto,_=HC(qf,DC),L=xi(xi(xi(xi(xi(xi({"fa-beat":t,"fa-fade":e,"fa-beat-fade":n,"fa-bounce":s,"fa-shake":r,"fa-flash":a,"fa-spin":o,"fa-spin-reverse":c,"fa-spin-pulse":l,"fa-pulse":h,"fa-fw":u,"fa-inverse":f,"fa-border":p,"fa-li":m,"fa-flip":g===!0,"fa-flip-horizontal":g==="horizontal"||g==="both","fa-flip-vertical":g==="vertical"||g==="both"},"fa-".concat(b),typeof b<"u"&&b!==null),"fa-rotate-".concat(v),typeof v<"u"&&v!==null&&v!==0),"fa-pull-".concat(A),typeof A<"u"&&A!==null),"fa-swap-opacity",E),"fa-rotate-by",_&&k),"fa-width-auto",_&&S);return Object.keys(L).map(function(P){return L[P]?P:null}).filter(function(P){return P})}function HC(i,t){for(var e=i.split("-"),n=gv(e,2),s=n[0],r=n[1],a=t.split("-"),o=gv(a,2),l=o[0],c=o[1],h=s.split("."),u=l.split("."),f=0;f<Math.max(h.length,u.length);f++){var p=h[f]||"0",m=u[f]||"0",g=parseInt(p,10),b=parseInt(m,10);if(g!==b)return g>b}for(var v=0;v<Math.max(h.length,u.length);v++){var A=h[v]||"0",E=u[v]||"0";if(A!==E&&A.length!==E.length)return A.length<E.length}return!(r&&!c)}function BC(i){return i=i-0,i===i}function Xy(i){return BC(i)?i:(i=i.replace(/[\-_\s]+(.)?/g,function(t,e){return e?e.toUpperCase():""}),i.substr(0,1).toLowerCase()+i.substr(1))}var $C=["style"];function jC(i){return i.charAt(0).toUpperCase()+i.slice(1)}function UC(i){return i.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var n=e.indexOf(":"),s=Xy(e.slice(0,n)),r=e.slice(n+1).trim();return s.startsWith("webkit")?t[jC(s)]=r:t[s]=r,t},{})}function Yy(i,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var n=(t.children||[]).map(function(l){return Yy(i,l)}),s=Object.keys(t.attributes||{}).reduce(function(l,c){var h=t.attributes[c];switch(c){case"class":l.attrs.className=h,delete t.attributes.class;break;case"style":l.attrs.style=UC(h);break;default:c.indexOf("aria-")===0||c.indexOf("data-")===0?l.attrs[c.toLowerCase()]=h:l.attrs[Xy(c)]=h}return l},{attrs:{}}),r=e.style,a=r===void 0?{}:r,o=MC(e,$C);return s.attrs.style=hs(hs({},s.attrs.style),a),i.apply(void 0,[t.tag,hs(hs({},s.attrs),o)].concat(Vf(n)))}var Ky=!1;try{Ky=!0}catch{}function WC(){if(!Ky&&console&&typeof console.error=="function"){var i;(i=console).error.apply(i,arguments)}}function mv(i){if(i&&Bh(i)==="object"&&i.prefix&&i.iconName&&i.icon)return i;if(Uf.icon)return Uf.icon(i);if(i===null)return null;if(i&&Bh(i)==="object"&&i.prefix&&i.iconName)return i;if(Array.isArray(i)&&i.length===2)return{prefix:i[0],iconName:i[1]};if(typeof i=="string")return{prefix:"fas",iconName:i}}function of(i,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?xi({},i,t):{}}var vv={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,rotateBy:!1,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1,widthAuto:!1},Jy=cb.forwardRef(function(i,t){var e=hs(hs({},vv),i),n=e.icon,s=e.mask,r=e.symbol,a=e.className,o=e.title,l=e.titleId,c=e.maskId,h=mv(n),u=of("classes",[].concat(Vf(zC(e)),Vf((a||"").split(" ")))),f=of("transform",typeof e.transform=="string"?Uf.transform(e.transform):e.transform),p=of("mask",mv(s)),m=wC(h,hs(hs(hs(hs({},u),f),p),{},{symbol:r,title:o,titleId:l,maskId:c}));if(!m)return WC("Could not find icon",h),null;var g=m.abstract,b={ref:t};return Object.keys(e).forEach(function(v){vv.hasOwnProperty(v)||(b[v]=e[v])}),VC(g[0],b)});Jy.displayName="FontAwesomeIcon";Jy.propTypes={beat:yt.bool,border:yt.bool,beatFade:yt.bool,bounce:yt.bool,className:yt.string,fade:yt.bool,flash:yt.bool,mask:yt.oneOfType([yt.object,yt.array,yt.string]),maskId:yt.string,fixedWidth:yt.bool,inverse:yt.bool,flip:yt.oneOf([!0,!1,"horizontal","vertical","both"]),icon:yt.oneOfType([yt.object,yt.array,yt.string]),listItem:yt.bool,pull:yt.oneOf(["right","left"]),pulse:yt.bool,rotation:yt.oneOf([0,90,180,270]),rotateBy:yt.bool,shake:yt.bool,size:yt.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:yt.bool,spinPulse:yt.bool,spinReverse:yt.bool,symbol:yt.oneOfType([yt.bool,yt.string]),title:yt.string,titleId:yt.string,transform:yt.oneOfType([yt.string,yt.object]),swapOpacity:yt.bool,widthAuto:yt.bool};var VC=Yy.bind(null,cb.createElement);/*!
 * reveal.js 5.2.0
 * https://revealjs.com
 * MIT licensed
 *
 * Copyright (C) 2011-2024 Hakim El Hattab, https://hakim.se
 */const Ha=(i,t)=>{for(let e in t)i[e]=t[e];return i},at=(i,t)=>Array.from(i.querySelectorAll(t)),lf=(i,t,e)=>{e?i.classList.add(t):i.classList.remove(t)},La=i=>{if(typeof i=="string"){if(i==="null")return null;if(i==="true")return!0;if(i==="false")return!1;if(i.match(/^-?[\d\.]+$/))return parseFloat(i)}return i},Ei=(i,t)=>{i.style.transform=t},$h=(i,t)=>{let e=i.matches||i.matchesSelector||i.msMatchesSelector;return!(!e||!e.call(i,t))},Ie=(i,t)=>{if(typeof i.closest=="function")return i.closest(t);for(;i;){if($h(i,t))return i;i=i.parentNode}return null},Qy=i=>{let t=(i=i||document.documentElement).requestFullscreen||i.webkitRequestFullscreen||i.webkitRequestFullScreen||i.mozRequestFullScreen||i.msRequestFullscreen;t&&t.apply(i)},Gf=i=>{let t=document.createElement("style");return t.type="text/css",i&&i.length>0&&(t.styleSheet?t.styleSheet.cssText=i:t.appendChild(document.createTextNode(i))),document.head.appendChild(t),t},bv=()=>{let i={};location.search.replace(/[A-Z0-9]+?=([\w\.%-]*)/gi,t=>{i[t.split("=").shift()]=t.split("=").pop()});for(let t in i){let e=i[t];i[t]=La(unescape(e))}return i.dependencies!==void 0&&delete i.dependencies,i},qC={mp4:"video/mp4",m4a:"video/mp4",ogv:"video/ogg",mpeg:"video/mpeg",webm:"video/webm"},Zy=navigator.userAgent,Ua=/(iphone|ipod|ipad|android)/gi.test(Zy)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,tw=/android/gi.test(Zy);var GC=function(i){if(i){var t=function(C){return[].slice.call(C)},e=3,n=[],s=null,r="requestAnimationFrame"in i?function(){i.cancelAnimationFrame(s),s=i.requestAnimationFrame(function(){return o(n.filter(function(C){return C.dirty&&C.active}))})}:function(){},a=function(C){return function(){n.forEach(function(I){return I.dirty=C}),r()}},o=function(C){C.filter(function(F){return!F.styleComputed}).forEach(function(F){F.styleComputed=u(F)}),C.filter(f).forEach(p);var I=C.filter(h);I.forEach(c),I.forEach(function(F){p(F),l(F)}),I.forEach(m)},l=function(C){return C.dirty=0},c=function(C){C.availableWidth=C.element.parentNode.clientWidth,C.currentWidth=C.element.scrollWidth,C.previousFontSize=C.currentFontSize,C.currentFontSize=Math.min(Math.max(C.minSize,C.availableWidth/C.currentWidth*C.previousFontSize),C.maxSize),C.whiteSpace=C.multiLine&&C.currentFontSize===C.minSize?"normal":"nowrap"},h=function(C){return C.dirty!==2||C.dirty===2&&C.element.parentNode.clientWidth!==C.availableWidth},u=function(C){var I=i.getComputedStyle(C.element,null);return C.currentFontSize=parseFloat(I.getPropertyValue("font-size")),C.display=I.getPropertyValue("display"),C.whiteSpace=I.getPropertyValue("white-space"),!0},f=function(C){var I=!1;return!C.preStyleTestCompleted&&(/inline-/.test(C.display)||(I=!0,C.display="inline-block"),C.whiteSpace!=="nowrap"&&(I=!0,C.whiteSpace="nowrap"),C.preStyleTestCompleted=!0,I)},p=function(C){C.element.style.whiteSpace=C.whiteSpace,C.element.style.display=C.display,C.element.style.fontSize=C.currentFontSize+"px"},m=function(C){C.element.dispatchEvent(new CustomEvent("fit",{detail:{oldValue:C.previousFontSize,newValue:C.currentFontSize,scaleFactor:C.currentFontSize/C.previousFontSize}}))},g=function(C,I){return function(){C.dirty=I,C.active&&r()}},b=function(C){return function(){n=n.filter(function(I){return I.element!==C.element}),C.observeMutations&&C.observer.disconnect(),C.element.style.whiteSpace=C.originalStyle.whiteSpace,C.element.style.display=C.originalStyle.display,C.element.style.fontSize=C.originalStyle.fontSize}},v=function(C){return function(){C.active||(C.active=!0,r())}},A=function(C){return function(){return C.active=!1}},E=function(C){C.observeMutations&&(C.observer=new MutationObserver(g(C,1)),C.observer.observe(C.element,C.observeMutations))},k={minSize:16,maxSize:512,multiLine:!0,observeMutations:"MutationObserver"in i&&{subtree:!0,childList:!0,characterData:!0}},S=null,_=function(){i.clearTimeout(S),S=i.setTimeout(a(2),M.observeWindowDelay)},L=["resize","orientationchange"];return Object.defineProperty(M,"observeWindow",{set:function(C){var I="".concat(C?"add":"remove","EventListener");L.forEach(function(F){i[I](F,_)})}}),M.observeWindow=!0,M.observeWindowDelay=100,M.fitAll=a(e),M}function P(C,I){var F=Object.assign({},k,I),z=C.map(function(H){var W=Object.assign({},F,{element:H,active:!0});return function(j){j.originalStyle={whiteSpace:j.element.style.whiteSpace,display:j.element.style.display,fontSize:j.element.style.fontSize},E(j),j.newbie=!0,j.dirty=!0,n.push(j)}(W),{element:H,fit:g(W,e),unfreeze:v(W),freeze:A(W),unsubscribe:b(W)}});return r(),z}function M(C){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return typeof C=="string"?P(t(document.querySelectorAll(C)),I):P([C],I)[0]}}(typeof window>"u"?null:window);let XC=class{constructor(t){this.Reveal=t,this.startEmbeddedIframe=this.startEmbeddedIframe.bind(this)}shouldPreload(t){if(this.Reveal.isScrollView())return!0;let e=this.Reveal.getConfig().preloadIframes;return typeof e!="boolean"&&(e=t.hasAttribute("data-preload")),e}load(t,e={}){t.style.display=this.Reveal.getConfig().display,at(t,"img[data-src], video[data-src], audio[data-src], iframe[data-src]").forEach(s=>{(s.tagName!=="IFRAME"||this.shouldPreload(s))&&(s.setAttribute("src",s.getAttribute("data-src")),s.setAttribute("data-lazy-loaded",""),s.removeAttribute("data-src"))}),at(t,"video, audio").forEach(s=>{let r=0;at(s,"source[data-src]").forEach(a=>{a.setAttribute("src",a.getAttribute("data-src")),a.removeAttribute("data-src"),a.setAttribute("data-lazy-loaded",""),r+=1}),Ua&&s.tagName==="VIDEO"&&s.setAttribute("playsinline",""),r>0&&s.load()});let n=t.slideBackgroundElement;if(n){n.style.display="block";let s=t.slideBackgroundContentElement,r=t.getAttribute("data-background-iframe");if(n.hasAttribute("data-loaded")===!1){n.setAttribute("data-loaded","true");let o=t.getAttribute("data-background-image"),l=t.getAttribute("data-background-video"),c=t.hasAttribute("data-background-video-loop"),h=t.hasAttribute("data-background-video-muted");if(o)/^data:/.test(o.trim())?s.style.backgroundImage=`url(${o.trim()})`:s.style.backgroundImage=o.split(",").map(u=>`url(${((f="")=>encodeURI(f).replace(/%5B/g,"[").replace(/%5D/g,"]").replace(/[!'()*]/g,p=>`%${p.charCodeAt(0).toString(16).toUpperCase()}`))(decodeURI(u.trim()))})`).join(",");else if(l){let u=document.createElement("video");c&&u.setAttribute("loop",""),(h||this.Reveal.isSpeakerNotes())&&(u.muted=!0),Ua&&(u.muted=!0,u.setAttribute("playsinline","")),l.split(",").forEach(f=>{const p=document.createElement("source");p.setAttribute("src",f);let m=((g="")=>qC[g.split(".").pop()])(f);m&&p.setAttribute("type",m),u.appendChild(p)}),s.appendChild(u)}else if(r&&e.excludeIframes!==!0){let u=document.createElement("iframe");u.setAttribute("allowfullscreen",""),u.setAttribute("mozallowfullscreen",""),u.setAttribute("webkitallowfullscreen",""),u.setAttribute("allow","autoplay"),u.setAttribute("data-src",r),u.style.width="100%",u.style.height="100%",u.style.maxHeight="100%",u.style.maxWidth="100%",s.appendChild(u)}}let a=s.querySelector("iframe[data-src]");a&&this.shouldPreload(n)&&!/autoplay=(1|true|yes)/gi.test(r)&&a.getAttribute("src")!==r&&a.setAttribute("src",r)}this.layout(t)}layout(t){Array.from(t.querySelectorAll(".r-fit-text")).forEach(e=>{GC(e,{minSize:24,maxSize:.8*this.Reveal.getConfig().height,observeMutations:!1,observeWindow:!1})})}unload(t){t.style.display="none";let e=this.Reveal.getSlideBackground(t);e&&(e.style.display="none",at(e,"iframe[src]").forEach(n=>{n.removeAttribute("src")})),at(t,"video[data-lazy-loaded][src], audio[data-lazy-loaded][src], iframe[data-lazy-loaded][src]").forEach(n=>{n.setAttribute("data-src",n.getAttribute("src")),n.removeAttribute("src")}),at(t,"video[data-lazy-loaded] source[src], audio source[src]").forEach(n=>{n.setAttribute("data-src",n.getAttribute("src")),n.removeAttribute("src")})}formatEmbeddedContent(){let t=(e,n,s)=>{at(this.Reveal.getSlidesElement(),"iframe["+e+'*="'+n+'"]').forEach(r=>{let a=r.getAttribute(e);a&&a.indexOf(s)===-1&&r.setAttribute(e,a+(/\?/.test(a)?"&":"?")+s)})};t("src","youtube.com/embed/","enablejsapi=1"),t("data-src","youtube.com/embed/","enablejsapi=1"),t("src","player.vimeo.com/","api=1"),t("data-src","player.vimeo.com/","api=1")}startEmbeddedContent(t){if(t){const e=this.Reveal.isSpeakerNotes();at(t,'img[src$=".gif"]').forEach(n=>{n.setAttribute("src",n.getAttribute("src"))}),at(t,"video, audio").forEach(n=>{if(Ie(n,".fragment")&&!Ie(n,".fragment.visible"))return;let s=this.Reveal.getConfig().autoPlayMedia;if(typeof s!="boolean"&&(s=n.hasAttribute("data-autoplay")||!!Ie(n,".slide-background")),s&&typeof n.play=="function"){if(e&&!n.muted)return;if(n.readyState>1)this.startEmbeddedMedia({target:n});else if(Ua){let r=n.play();r&&typeof r.catch=="function"&&n.controls===!1&&r.catch(()=>{n.controls=!0,n.addEventListener("play",()=>{n.controls=!1})})}else n.removeEventListener("loadeddata",this.startEmbeddedMedia),n.addEventListener("loadeddata",this.startEmbeddedMedia)}}),e||(at(t,"iframe[src]").forEach(n=>{Ie(n,".fragment")&&!Ie(n,".fragment.visible")||this.startEmbeddedIframe({target:n})}),at(t,"iframe[data-src]").forEach(n=>{Ie(n,".fragment")&&!Ie(n,".fragment.visible")||n.getAttribute("src")!==n.getAttribute("data-src")&&(n.removeEventListener("load",this.startEmbeddedIframe),n.addEventListener("load",this.startEmbeddedIframe),n.setAttribute("src",n.getAttribute("data-src")))}))}}startEmbeddedMedia(t){let e=!!Ie(t.target,"html"),n=!!Ie(t.target,".present");e&&n&&(t.target.paused||t.target.ended)&&(t.target.currentTime=0,t.target.play()),t.target.removeEventListener("loadeddata",this.startEmbeddedMedia)}startEmbeddedIframe(t){let e=t.target;if(e&&e.contentWindow){let n=!!Ie(t.target,"html"),s=!!Ie(t.target,".present");if(n&&s){let r=this.Reveal.getConfig().autoPlayMedia;typeof r!="boolean"&&(r=e.hasAttribute("data-autoplay")||!!Ie(e,".slide-background")),/youtube\.com\/embed\//.test(e.getAttribute("src"))&&r?e.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*"):/player\.vimeo\.com\//.test(e.getAttribute("src"))&&r?e.contentWindow.postMessage('{"method":"play"}',"*"):e.contentWindow.postMessage("slide:start","*")}}}stopEmbeddedContent(t,e={}){e=Ha({unloadIframes:!0},e),t&&t.parentNode&&(at(t,"video, audio").forEach(n=>{n.hasAttribute("data-ignore")||typeof n.pause!="function"||(n.setAttribute("data-paused-by-reveal",""),n.pause())}),at(t,"iframe").forEach(n=>{n.contentWindow&&n.contentWindow.postMessage("slide:stop","*"),n.removeEventListener("load",this.startEmbeddedIframe)}),at(t,'iframe[src*="youtube.com/embed/"]').forEach(n=>{!n.hasAttribute("data-ignore")&&n.contentWindow&&typeof n.contentWindow.postMessage=="function"&&n.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}),at(t,'iframe[src*="player.vimeo.com/"]').forEach(n=>{!n.hasAttribute("data-ignore")&&n.contentWindow&&typeof n.contentWindow.postMessage=="function"&&n.contentWindow.postMessage('{"method":"pause"}',"*")}),e.unloadIframes===!0&&at(t,"iframe[data-src]").forEach(n=>{n.setAttribute("src","about:blank"),n.removeAttribute("src")}))}};const br=".slides section",bi=".slides>section",yv=".slides>section.present>section",YC=/registerPlugin|registerKeyboardShortcut|addKeyBinding|addEventListener|showPreview/;let KC=class{constructor(t){this.Reveal=t}render(){this.element=document.createElement("div"),this.element.className="slide-number",this.Reveal.getRevealElement().appendChild(this.element)}configure(t,e){let n="none";t.slideNumber&&!this.Reveal.isPrintView()&&(t.showSlideNumber==="all"||t.showSlideNumber==="speaker"&&this.Reveal.isSpeakerNotes())&&(n="block"),this.element.style.display=n}update(){this.Reveal.getConfig().slideNumber&&this.element&&(this.element.innerHTML=this.getSlideNumber())}getSlideNumber(t=this.Reveal.getCurrentSlide()){let e,n=this.Reveal.getConfig(),s="h.v";if(typeof n.slideNumber=="function")e=n.slideNumber(t);else{typeof n.slideNumber=="string"&&(s=n.slideNumber),/c/.test(s)||this.Reveal.getHorizontalSlides().length!==1||(s="c");let a=t&&t.dataset.visibility==="uncounted"?0:1;switch(e=[],s){case"c":e.push(this.Reveal.getSlidePastCount(t)+a);break;case"c/t":e.push(this.Reveal.getSlidePastCount(t)+a,"/",this.Reveal.getTotalSlides());break;default:let o=this.Reveal.getIndices(t);e.push(o.h+a);let l=s==="h/v"?"/":".";this.Reveal.isVerticalSlide(t)&&e.push(l,o.v+1)}}let r="#"+this.Reveal.location.getHash(t);return this.formatNumber(e[0],e[1],e[2],r)}formatNumber(t,e,n,s="#"+this.Reveal.location.getHash()){return typeof n!="number"||isNaN(n)?`<a href="${s}">
					<span class="slide-number-a">${t}</span>
					</a>`:`<a href="${s}">
					<span class="slide-number-a">${t}</span>
					<span class="slide-number-delimiter">${e}</span>
					<span class="slide-number-b">${n}</span>
					</a>`}destroy(){this.element.remove()}},JC=class{constructor(t){this.Reveal=t,this.onInput=this.onInput.bind(this),this.onBlur=this.onBlur.bind(this),this.onKeyDown=this.onKeyDown.bind(this)}render(){this.element=document.createElement("div"),this.element.className="jump-to-slide",this.jumpInput=document.createElement("input"),this.jumpInput.type="text",this.jumpInput.className="jump-to-slide-input",this.jumpInput.placeholder="Jump to slide",this.jumpInput.addEventListener("input",this.onInput),this.jumpInput.addEventListener("keydown",this.onKeyDown),this.jumpInput.addEventListener("blur",this.onBlur),this.element.appendChild(this.jumpInput)}show(){this.indicesOnShow=this.Reveal.getIndices(),this.Reveal.getRevealElement().appendChild(this.element),this.jumpInput.focus()}hide(){this.isVisible()&&(this.element.remove(),this.jumpInput.value="",clearTimeout(this.jumpTimeout),delete this.jumpTimeout)}isVisible(){return!!this.element.parentNode}jump(){clearTimeout(this.jumpTimeout),delete this.jumpTimeout;let t,e=this.jumpInput.value.trim("");if(/^\d+$/.test(e)){const n=this.Reveal.getConfig().slideNumber;if(n==="c"||n==="c/t"){const s=this.Reveal.getSlides()[parseInt(e,10)-1];s&&(t=this.Reveal.getIndices(s))}}return t||(/^\d+\.\d+$/.test(e)&&(e=e.replace(".","/")),t=this.Reveal.location.getIndicesFromHash(e,{oneBasedIndex:!0})),!t&&/\S+/i.test(e)&&e.length>1&&(t=this.search(e)),t&&e!==""?(this.Reveal.slide(t.h,t.v,t.f),!0):(this.Reveal.slide(this.indicesOnShow.h,this.indicesOnShow.v,this.indicesOnShow.f),!1)}jumpAfter(t){clearTimeout(this.jumpTimeout),this.jumpTimeout=setTimeout(()=>this.jump(),t)}search(t){const e=new RegExp("\\b"+t.trim()+"\\b","i"),n=this.Reveal.getSlides().find(s=>e.test(s.innerText));return n?this.Reveal.getIndices(n):null}cancel(){this.Reveal.slide(this.indicesOnShow.h,this.indicesOnShow.v,this.indicesOnShow.f),this.hide()}confirm(){this.jump(),this.hide()}destroy(){this.jumpInput.removeEventListener("input",this.onInput),this.jumpInput.removeEventListener("keydown",this.onKeyDown),this.jumpInput.removeEventListener("blur",this.onBlur),this.element.remove()}onKeyDown(t){t.keyCode===13?this.confirm():t.keyCode===27&&(this.cancel(),t.stopImmediatePropagation())}onInput(t){this.jumpAfter(200)}onBlur(){setTimeout(()=>this.hide(),1)}};const cf=i=>{let t=i.match(/^#([0-9a-f]{3})$/i);if(t&&t[1])return t=t[1],{r:17*parseInt(t.charAt(0),16),g:17*parseInt(t.charAt(1),16),b:17*parseInt(t.charAt(2),16)};let e=i.match(/^#([0-9a-f]{6})$/i);if(e&&e[1])return e=e[1],{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16)};let n=i.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i);if(n)return{r:parseInt(n[1],10),g:parseInt(n[2],10),b:parseInt(n[3],10)};let s=i.match(/^rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d]+|[\d]*.[\d]+)\s*\)$/i);return s?{r:parseInt(s[1],10),g:parseInt(s[2],10),b:parseInt(s[3],10),a:parseFloat(s[4])}:null};let QC=class{constructor(t){this.Reveal=t}render(){this.element=document.createElement("div"),this.element.className="backgrounds",this.Reveal.getRevealElement().appendChild(this.element)}create(){this.element.innerHTML="",this.element.classList.add("no-transition"),this.Reveal.getHorizontalSlides().forEach(t=>{let e=this.createBackground(t,this.element);at(t,"section").forEach(n=>{this.createBackground(n,e),e.classList.add("stack")})}),this.Reveal.getConfig().parallaxBackgroundImage?(this.element.style.backgroundImage='url("'+this.Reveal.getConfig().parallaxBackgroundImage+'")',this.element.style.backgroundSize=this.Reveal.getConfig().parallaxBackgroundSize,this.element.style.backgroundRepeat=this.Reveal.getConfig().parallaxBackgroundRepeat,this.element.style.backgroundPosition=this.Reveal.getConfig().parallaxBackgroundPosition,setTimeout(()=>{this.Reveal.getRevealElement().classList.add("has-parallax-background")},1)):(this.element.style.backgroundImage="",this.Reveal.getRevealElement().classList.remove("has-parallax-background"))}createBackground(t,e){let n=document.createElement("div");n.className="slide-background "+t.className.replace(/present|past|future/,"");let s=document.createElement("div");return s.className="slide-background-content",n.appendChild(s),e.appendChild(n),t.slideBackgroundElement=n,t.slideBackgroundContentElement=s,this.sync(t),n}sync(t){const e=t.slideBackgroundElement,n=t.slideBackgroundContentElement,s={background:t.getAttribute("data-background"),backgroundSize:t.getAttribute("data-background-size"),backgroundImage:t.getAttribute("data-background-image"),backgroundVideo:t.getAttribute("data-background-video"),backgroundIframe:t.getAttribute("data-background-iframe"),backgroundColor:t.getAttribute("data-background-color"),backgroundGradient:t.getAttribute("data-background-gradient"),backgroundRepeat:t.getAttribute("data-background-repeat"),backgroundPosition:t.getAttribute("data-background-position"),backgroundTransition:t.getAttribute("data-background-transition"),backgroundOpacity:t.getAttribute("data-background-opacity")},r=t.hasAttribute("data-preload");t.classList.remove("has-dark-background"),t.classList.remove("has-light-background"),e.removeAttribute("data-loaded"),e.removeAttribute("data-background-hash"),e.removeAttribute("data-background-size"),e.removeAttribute("data-background-transition"),e.style.backgroundColor="",n.style.backgroundSize="",n.style.backgroundRepeat="",n.style.backgroundPosition="",n.style.backgroundImage="",n.style.opacity="",n.innerHTML="",s.background&&(/^(http|file|\/\/)/gi.test(s.background)||/\.(svg|png|jpg|jpeg|gif|bmp|webp)([?#\s]|$)/gi.test(s.background)?t.setAttribute("data-background-image",s.background):e.style.background=s.background),(s.background||s.backgroundColor||s.backgroundGradient||s.backgroundImage||s.backgroundVideo||s.backgroundIframe)&&e.setAttribute("data-background-hash",s.background+s.backgroundSize+s.backgroundImage+s.backgroundVideo+s.backgroundIframe+s.backgroundColor+s.backgroundGradient+s.backgroundRepeat+s.backgroundPosition+s.backgroundTransition+s.backgroundOpacity),s.backgroundSize&&e.setAttribute("data-background-size",s.backgroundSize),s.backgroundColor&&(e.style.backgroundColor=s.backgroundColor),s.backgroundGradient&&(e.style.backgroundImage=s.backgroundGradient),s.backgroundTransition&&e.setAttribute("data-background-transition",s.backgroundTransition),r&&e.setAttribute("data-preload",""),s.backgroundSize&&(n.style.backgroundSize=s.backgroundSize),s.backgroundRepeat&&(n.style.backgroundRepeat=s.backgroundRepeat),s.backgroundPosition&&(n.style.backgroundPosition=s.backgroundPosition),s.backgroundOpacity&&(n.style.opacity=s.backgroundOpacity);const a=this.getContrastClass(t);typeof a=="string"&&t.classList.add(a)}getContrastClass(t){const e=t.slideBackgroundElement;let n=t.getAttribute("data-background-color");if(!n||!cf(n)){let r=window.getComputedStyle(e);r&&r.backgroundColor&&(n=r.backgroundColor)}if(n){const r=cf(n);if(r&&r.a!==0)return typeof(s=n)=="string"&&(s=cf(s)),(s?(299*s.r+587*s.g+114*s.b)/1e3:null)<128?"has-dark-background":"has-light-background"}var s;return null}bubbleSlideContrastClassToElement(t,e){["has-light-background","has-dark-background"].forEach(n=>{t.classList.contains(n)?e.classList.add(n):e.classList.remove(n)},this)}update(t=!1){let e=this.Reveal.getConfig(),n=this.Reveal.getCurrentSlide(),s=this.Reveal.getIndices(),r=null,a=e.rtl?"future":"past",o=e.rtl?"past":"future";if(Array.from(this.element.childNodes).forEach((c,h)=>{c.classList.remove("past","present","future"),h<s.h?c.classList.add(a):h>s.h?c.classList.add(o):(c.classList.add("present"),r=c),(t||h===s.h)&&at(c,".slide-background").forEach((u,f)=>{u.classList.remove("past","present","future");const p=typeof s.v=="number"?s.v:0;f<p?u.classList.add("past"):f>p?u.classList.add("future"):(u.classList.add("present"),h===s.h&&(r=u))})}),this.previousBackground&&!this.previousBackground.closest("body")&&(this.previousBackground=null),r&&this.previousBackground){let c=this.previousBackground.getAttribute("data-background-hash"),h=r.getAttribute("data-background-hash");if(h&&h===c&&r!==this.previousBackground){this.element.classList.add("no-transition");const u=r.querySelector("video"),f=this.previousBackground.querySelector("video");if(u&&f){const p=u.parentNode;f.parentNode.appendChild(u),p.appendChild(f)}}}const l=r!==this.previousBackground;if(l&&this.previousBackground&&this.Reveal.slideContent.stopEmbeddedContent(this.previousBackground,{unloadIframes:!this.Reveal.slideContent.shouldPreload(this.previousBackground)}),l&&r){this.Reveal.slideContent.startEmbeddedContent(r);let c=r.querySelector(".slide-background-content");if(c){let h=c.style.backgroundImage||"";/\.gif/i.test(h)&&(c.style.backgroundImage="",window.getComputedStyle(c).opacity,c.style.backgroundImage=h)}this.previousBackground=r}n&&this.bubbleSlideContrastClassToElement(n,this.Reveal.getRevealElement()),setTimeout(()=>{this.element.classList.remove("no-transition")},10)}updateParallax(){let t=this.Reveal.getIndices();if(this.Reveal.getConfig().parallaxBackgroundImage){let e,n,s=this.Reveal.getHorizontalSlides(),r=this.Reveal.getVerticalSlides(),a=this.element.style.backgroundSize.split(" ");a.length===1?e=n=parseInt(a[0],10):(e=parseInt(a[0],10),n=parseInt(a[1],10));let o,l,c=this.element.offsetWidth,h=s.length;o=typeof this.Reveal.getConfig().parallaxBackgroundHorizontal=="number"?this.Reveal.getConfig().parallaxBackgroundHorizontal:h>1?(e-c)/(h-1):0,l=o*t.h*-1;let u,f,p=this.element.offsetHeight,m=r.length;u=typeof this.Reveal.getConfig().parallaxBackgroundVertical=="number"?this.Reveal.getConfig().parallaxBackgroundVertical:(n-p)/(m-1),f=m>0?u*t.v:0,this.element.style.backgroundPosition=l+"px "+-f+"px"}}destroy(){this.element.remove()}},wv=0,ZC=class{constructor(t){this.Reveal=t}run(t,e){this.reset();let n=this.Reveal.getSlides(),s=n.indexOf(e),r=n.indexOf(t);if(t&&e&&t.hasAttribute("data-auto-animate")&&e.hasAttribute("data-auto-animate")&&t.getAttribute("data-auto-animate-id")===e.getAttribute("data-auto-animate-id")&&!(s>r?e:t).hasAttribute("data-auto-animate-restart")){this.autoAnimateStyleSheet=this.autoAnimateStyleSheet||Gf();let a=this.getAutoAnimateOptions(e);t.dataset.autoAnimate="pending",e.dataset.autoAnimate="pending",a.slideDirection=s>r?"forward":"backward";let o=t.style.display==="none";o&&(t.style.display=this.Reveal.getConfig().display);let l=this.getAutoAnimatableElements(t,e).map(c=>this.autoAnimateElements(c.from,c.to,c.options||{},a,wv++));if(o&&(t.style.display="none"),e.dataset.autoAnimateUnmatched!=="false"&&this.Reveal.getConfig().autoAnimateUnmatched===!0){let c=.8*a.duration,h=.2*a.duration;this.getUnmatchedAutoAnimateElements(e).forEach(u=>{let f=this.getAutoAnimateOptions(u,a),p="unmatched";f.duration===a.duration&&f.delay===a.delay||(p="unmatched-"+wv++,l.push(`[data-auto-animate="running"] [data-auto-animate-target="${p}"] { transition: opacity ${f.duration}s ease ${f.delay}s; }`)),u.dataset.autoAnimateTarget=p},this),l.push(`[data-auto-animate="running"] [data-auto-animate-target="unmatched"] { transition: opacity ${c}s ease ${h}s; }`)}this.autoAnimateStyleSheet.innerHTML=l.join(""),requestAnimationFrame(()=>{this.autoAnimateStyleSheet&&(getComputedStyle(this.autoAnimateStyleSheet).fontWeight,e.dataset.autoAnimate="running")}),this.Reveal.dispatchEvent({type:"autoanimate",data:{fromSlide:t,toSlide:e,sheet:this.autoAnimateStyleSheet}})}}reset(){at(this.Reveal.getRevealElement(),'[data-auto-animate]:not([data-auto-animate=""])').forEach(t=>{t.dataset.autoAnimate=""}),at(this.Reveal.getRevealElement(),"[data-auto-animate-target]").forEach(t=>{delete t.dataset.autoAnimateTarget}),this.autoAnimateStyleSheet&&this.autoAnimateStyleSheet.parentNode&&(this.autoAnimateStyleSheet.parentNode.removeChild(this.autoAnimateStyleSheet),this.autoAnimateStyleSheet=null)}autoAnimateElements(t,e,n,s,r){t.dataset.autoAnimateTarget="",e.dataset.autoAnimateTarget=r;let a=this.getAutoAnimateOptions(e,s);n.delay!==void 0&&(a.delay=n.delay),n.duration!==void 0&&(a.duration=n.duration),n.easing!==void 0&&(a.easing=n.easing);let o=this.getAutoAnimatableProperties("from",t,n),l=this.getAutoAnimatableProperties("to",e,n);if(e.classList.contains("fragment")&&delete l.styles.opacity,n.translate!==!1||n.scale!==!1){let u=this.Reveal.getScale(),f={x:(o.x-l.x)/u,y:(o.y-l.y)/u,scaleX:o.width/l.width,scaleY:o.height/l.height};f.x=Math.round(1e3*f.x)/1e3,f.y=Math.round(1e3*f.y)/1e3,f.scaleX=Math.round(1e3*f.scaleX)/1e3,f.scaleX=Math.round(1e3*f.scaleX)/1e3;let p=n.translate!==!1&&(f.x!==0||f.y!==0),m=n.scale!==!1&&(f.scaleX!==0||f.scaleY!==0);if(p||m){let g=[];p&&g.push(`translate(${f.x}px, ${f.y}px)`),m&&g.push(`scale(${f.scaleX}, ${f.scaleY})`),o.styles.transform=g.join(" "),o.styles["transform-origin"]="top left",l.styles.transform="none"}}for(let u in l.styles){const f=l.styles[u],p=o.styles[u];f===p?delete l.styles[u]:(f.explicitValue===!0&&(l.styles[u]=f.value),p.explicitValue===!0&&(o.styles[u]=p.value))}let c="",h=Object.keys(l.styles);return h.length>0&&(o.styles.transition="none",l.styles.transition=`all ${a.duration}s ${a.easing} ${a.delay}s`,l.styles["transition-property"]=h.join(", "),l.styles["will-change"]=h.join(", "),c='[data-auto-animate-target="'+r+'"] {'+Object.keys(o.styles).map(u=>u+": "+o.styles[u]+" !important;").join("")+'}[data-auto-animate="running"] [data-auto-animate-target="'+r+'"] {'+Object.keys(l.styles).map(u=>u+": "+l.styles[u]+" !important;").join("")+"}"),c}getAutoAnimateOptions(t,e){let n={easing:this.Reveal.getConfig().autoAnimateEasing,duration:this.Reveal.getConfig().autoAnimateDuration,delay:0};if(n=Ha(n,e),t.parentNode){let s=Ie(t.parentNode,"[data-auto-animate-target]");s&&(n=this.getAutoAnimateOptions(s,n))}return t.dataset.autoAnimateEasing&&(n.easing=t.dataset.autoAnimateEasing),t.dataset.autoAnimateDuration&&(n.duration=parseFloat(t.dataset.autoAnimateDuration)),t.dataset.autoAnimateDelay&&(n.delay=parseFloat(t.dataset.autoAnimateDelay)),n}getAutoAnimatableProperties(t,e,n){let s=this.Reveal.getConfig(),r={styles:[]};if(n.translate!==!1||n.scale!==!1){let o;if(typeof n.measure=="function")o=n.measure(e);else if(s.center)o=e.getBoundingClientRect();else{let l=this.Reveal.getScale();o={x:e.offsetLeft*l,y:e.offsetTop*l,width:e.offsetWidth*l,height:e.offsetHeight*l}}r.x=o.x,r.y=o.y,r.width=o.width,r.height=o.height}const a=getComputedStyle(e);return(n.styles||s.autoAnimateStyles).forEach(o=>{let l;typeof o=="string"&&(o={property:o}),o.from!==void 0&&t==="from"?l={value:o.from,explicitValue:!0}:o.to!==void 0&&t==="to"?l={value:o.to,explicitValue:!0}:(o.property==="line-height"&&(l=parseFloat(a["line-height"])/parseFloat(a["font-size"])),isNaN(l)&&(l=a[o.property])),l!==""&&(r.styles[o.property]=l)}),r}getAutoAnimatableElements(t,e){let n=(typeof this.Reveal.getConfig().autoAnimateMatcher=="function"?this.Reveal.getConfig().autoAnimateMatcher:this.getAutoAnimatePairs).call(this,t,e),s=[];return n.filter((r,a)=>{if(s.indexOf(r.to)===-1)return s.push(r.to),!0})}getAutoAnimatePairs(t,e){let n=[];const s="h1, h2, h3, h4, h5, h6, p, li";return this.findAutoAnimateMatches(n,t,e,"[data-id]",r=>r.nodeName+":::"+r.getAttribute("data-id")),this.findAutoAnimateMatches(n,t,e,s,r=>r.nodeName+":::"+r.textContent.trim()),this.findAutoAnimateMatches(n,t,e,"img, video, iframe",r=>r.nodeName+":::"+(r.getAttribute("src")||r.getAttribute("data-src"))),this.findAutoAnimateMatches(n,t,e,"pre",r=>r.nodeName+":::"+r.textContent.trim()),n.forEach(r=>{$h(r.from,s)?r.options={scale:!1}:$h(r.from,"pre")&&(r.options={scale:!1,styles:["width","height"]},this.findAutoAnimateMatches(n,r.from,r.to,".hljs .hljs-ln-code",a=>a.textContent,{scale:!1,styles:[],measure:this.getLocalBoundingBox.bind(this)}),this.findAutoAnimateMatches(n,r.from,r.to,".hljs .hljs-ln-numbers[data-line-number]",a=>a.getAttribute("data-line-number"),{scale:!1,styles:["width"],measure:this.getLocalBoundingBox.bind(this)}))},this),n}getLocalBoundingBox(t){const e=this.Reveal.getScale();return{x:Math.round(t.offsetLeft*e*100)/100,y:Math.round(t.offsetTop*e*100)/100,width:Math.round(t.offsetWidth*e*100)/100,height:Math.round(t.offsetHeight*e*100)/100}}findAutoAnimateMatches(t,e,n,s,r,a){let o={},l={};[].slice.call(e.querySelectorAll(s)).forEach((c,h)=>{const u=r(c);typeof u=="string"&&u.length&&(o[u]=o[u]||[],o[u].push(c))}),[].slice.call(n.querySelectorAll(s)).forEach((c,h)=>{const u=r(c);let f;if(l[u]=l[u]||[],l[u].push(c),o[u]){const p=l[u].length-1,m=o[u].length-1;o[u][p]?(f=o[u][p],o[u][p]=null):o[u][m]&&(f=o[u][m],o[u][m]=null)}f&&t.push({from:f,to:c,options:a})})}getUnmatchedAutoAnimateElements(t){return[].slice.call(t.children).reduce((e,n)=>{const s=n.querySelector("[data-auto-animate-target]");return n.hasAttribute("data-auto-animate-target")||s||e.push(n),n.querySelector("[data-auto-animate-target]")&&(e=e.concat(this.getUnmatchedAutoAnimateElements(n))),e},[])}},t1=class{constructor(t){this.Reveal=t,this.active=!1,this.activatedCallbacks=[],this.onScroll=this.onScroll.bind(this)}activate(){if(this.active)return;const t=this.Reveal.getState();this.active=!0,this.slideHTMLBeforeActivation=this.Reveal.getSlidesElement().innerHTML;const e=at(this.Reveal.getRevealElement(),bi),n=at(this.Reveal.getRevealElement(),".backgrounds>.slide-background");let s;this.viewportElement.classList.add("loading-scroll-mode","reveal-scroll");const r=window.getComputedStyle(this.viewportElement);r&&r.background&&(s=r.background);const a=[],o=e[0].parentNode;let l;const c=(h,u,f,p)=>{let m;if(l&&this.Reveal.shouldAutoAnimateBetween(l,h))m=document.createElement("div"),m.className="scroll-page-content scroll-auto-animate-page",m.style.display="none",l.closest(".scroll-page-content").parentNode.appendChild(m);else{const g=document.createElement("div");if(g.className="scroll-page",a.push(g),p&&n.length>u){const v=n[u],A=window.getComputedStyle(v);A&&A.background?g.style.background=A.background:s&&(g.style.background=s)}else s&&(g.style.background=s);const b=document.createElement("div");b.className="scroll-page-sticky",g.appendChild(b),m=document.createElement("div"),m.className="scroll-page-content",b.appendChild(m)}m.appendChild(h),h.classList.remove("past","future"),h.setAttribute("data-index-h",u),h.setAttribute("data-index-v",f),h.slideBackgroundElement&&(h.slideBackgroundElement.remove("past","future"),m.insertBefore(h.slideBackgroundElement,h)),l=h};e.forEach((h,u)=>{this.Reveal.isVerticalStack(h)?h.querySelectorAll("section").forEach((f,p)=>{c(f,u,p,!0)}):c(h,u,0)},this),this.createProgressBar(),at(this.Reveal.getRevealElement(),".stack").forEach(h=>h.remove()),a.forEach(h=>o.appendChild(h)),this.Reveal.slideContent.layout(this.Reveal.getSlidesElement()),this.Reveal.layout(),this.Reveal.setState(t),this.activatedCallbacks.forEach(h=>h()),this.activatedCallbacks=[],this.restoreScrollPosition(),this.viewportElement.classList.remove("loading-scroll-mode"),this.viewportElement.addEventListener("scroll",this.onScroll,{passive:!0})}deactivate(){if(!this.active)return;const t=this.Reveal.getState();this.active=!1,this.viewportElement.removeEventListener("scroll",this.onScroll),this.viewportElement.classList.remove("reveal-scroll"),this.removeProgressBar(),this.Reveal.getSlidesElement().innerHTML=this.slideHTMLBeforeActivation,this.Reveal.sync(),this.Reveal.setState(t),this.slideHTMLBeforeActivation=null}toggle(t){typeof t=="boolean"?t?this.activate():this.deactivate():this.isActive()?this.deactivate():this.activate()}isActive(){return this.active}createProgressBar(){this.progressBar=document.createElement("div"),this.progressBar.className="scrollbar",this.progressBarInner=document.createElement("div"),this.progressBarInner.className="scrollbar-inner",this.progressBar.appendChild(this.progressBarInner),this.progressBarPlayhead=document.createElement("div"),this.progressBarPlayhead.className="scrollbar-playhead",this.progressBarInner.appendChild(this.progressBarPlayhead),this.viewportElement.insertBefore(this.progressBar,this.viewportElement.firstChild);const t=n=>{let s=(n.clientY-this.progressBarInner.getBoundingClientRect().top)/this.progressBarHeight;s=Math.max(Math.min(s,1),0),this.viewportElement.scrollTop=s*(this.viewportElement.scrollHeight-this.viewportElement.offsetHeight)},e=n=>{this.draggingProgressBar=!1,this.showProgressBar(),document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",e)};this.progressBarInner.addEventListener("mousedown",n=>{n.preventDefault(),this.draggingProgressBar=!0,document.addEventListener("mousemove",t),document.addEventListener("mouseup",e),t(n)})}removeProgressBar(){this.progressBar&&(this.progressBar.remove(),this.progressBar=null)}layout(){this.isActive()&&(this.syncPages(),this.syncScrollPosition())}syncPages(){const t=this.Reveal.getConfig(),e=this.Reveal.getComputedSlideSize(window.innerWidth,window.innerHeight),n=this.Reveal.getScale(),s=t.scrollLayout==="compact",r=this.viewportElement.offsetHeight,a=e.height*n,o=s?a:r;this.scrollTriggerHeight=s?a:r,this.viewportElement.style.setProperty("--page-height",o+"px"),this.viewportElement.style.scrollSnapType=typeof t.scrollSnap=="string"?`y ${t.scrollSnap}`:"",this.slideTriggers=[];const l=Array.from(this.Reveal.getRevealElement().querySelectorAll(".scroll-page"));this.pages=l.map(c=>{const h=this.createPage({pageElement:c,slideElement:c.querySelector("section"),stickyElement:c.querySelector(".scroll-page-sticky"),contentElement:c.querySelector(".scroll-page-content"),backgroundElement:c.querySelector(".slide-background"),autoAnimateElements:c.querySelectorAll(".scroll-auto-animate-page"),autoAnimatePages:[]});h.pageElement.style.setProperty("--slide-height",t.center===!0?"auto":e.height+"px"),this.slideTriggers.push({page:h,activate:()=>this.activatePage(h),deactivate:()=>this.deactivatePage(h)}),this.createFragmentTriggersForPage(h),h.autoAnimateElements.length>0&&this.createAutoAnimateTriggersForPage(h);let u=Math.max(h.scrollTriggers.length-1,0);u+=h.autoAnimatePages.reduce((f,p)=>f+Math.max(p.scrollTriggers.length-1,0),h.autoAnimatePages.length),h.pageElement.querySelectorAll(".scroll-snap-point").forEach(f=>f.remove());for(let f=0;f<u+1;f++){const p=document.createElement("div");p.className="scroll-snap-point",p.style.height=this.scrollTriggerHeight+"px",p.style.scrollSnapAlign=s?"center":"start",h.pageElement.appendChild(p),f===0&&(p.style.marginTop=-this.scrollTriggerHeight+"px")}return s&&h.scrollTriggers.length>0?(h.pageHeight=r,h.pageElement.style.setProperty("--page-height",r+"px")):(h.pageHeight=o,h.pageElement.style.removeProperty("--page-height")),h.scrollPadding=this.scrollTriggerHeight*u,h.totalHeight=h.pageHeight+h.scrollPadding,h.pageElement.style.setProperty("--page-scroll-padding",h.scrollPadding+"px"),u>0?(h.stickyElement.style.position="sticky",h.stickyElement.style.top=Math.max((r-h.pageHeight)/2,0)+"px"):(h.stickyElement.style.position="relative",h.pageElement.style.scrollSnapAlign=h.pageHeight<r?"center":"start"),h}),this.setTriggerRanges(),this.viewportElement.setAttribute("data-scrollbar",t.scrollProgress),t.scrollProgress&&this.totalScrollTriggerCount>1?(this.progressBar||this.createProgressBar(),this.syncProgressBar()):this.removeProgressBar()}setTriggerRanges(){this.totalScrollTriggerCount=this.slideTriggers.reduce((e,n)=>e+Math.max(n.page.scrollTriggers.length,1),0);let t=0;this.slideTriggers.forEach((e,n)=>{e.range=[t,t+Math.max(e.page.scrollTriggers.length,1)/this.totalScrollTriggerCount];const s=(e.range[1]-e.range[0])/e.page.scrollTriggers.length;e.page.scrollTriggers.forEach((r,a)=>{r.range=[t+a*s,t+(a+1)*s]}),t=e.range[1]}),this.slideTriggers[this.slideTriggers.length-1].range[1]=1}createFragmentTriggersForPage(t,e){e=e||t.slideElement;const n=this.Reveal.fragments.sort(e.querySelectorAll(".fragment"),!0);return n.length&&(t.fragments=this.Reveal.fragments.sort(e.querySelectorAll(".fragment:not(.disabled)")),t.scrollTriggers.push({activate:()=>{this.Reveal.fragments.update(-1,t.fragments,e)}}),n.forEach((s,r)=>{t.scrollTriggers.push({activate:()=>{this.Reveal.fragments.update(r,t.fragments,e)}})})),t.scrollTriggers.length}createAutoAnimateTriggersForPage(t){t.autoAnimateElements.length>0&&this.slideTriggers.push(...Array.from(t.autoAnimateElements).map((e,n)=>{let s=this.createPage({slideElement:e.querySelector("section"),contentElement:e,backgroundElement:e.querySelector(".slide-background")});return this.createFragmentTriggersForPage(s,s.slideElement),t.autoAnimatePages.push(s),{page:s,activate:()=>this.activatePage(s),deactivate:()=>this.deactivatePage(s)}}))}createPage(t){return t.scrollTriggers=[],t.indexh=parseInt(t.slideElement.getAttribute("data-index-h"),10),t.indexv=parseInt(t.slideElement.getAttribute("data-index-v"),10),t}syncProgressBar(){this.progressBarInner.querySelectorAll(".scrollbar-slide").forEach(a=>a.remove());const t=this.viewportElement.scrollHeight,e=this.viewportElement.offsetHeight,n=e/t;this.progressBarHeight=this.progressBarInner.offsetHeight,this.playheadHeight=Math.max(n*this.progressBarHeight,8),this.progressBarScrollableHeight=this.progressBarHeight-this.playheadHeight;const s=e/t*this.progressBarHeight,r=Math.min(s/8,4);this.progressBarPlayhead.style.height=this.playheadHeight-r+"px",s>6?this.slideTriggers.forEach(a=>{const{page:o}=a;o.progressBarSlide=document.createElement("div"),o.progressBarSlide.className="scrollbar-slide",o.progressBarSlide.style.top=a.range[0]*this.progressBarHeight+"px",o.progressBarSlide.style.height=(a.range[1]-a.range[0])*this.progressBarHeight-r+"px",o.progressBarSlide.classList.toggle("has-triggers",o.scrollTriggers.length>0),this.progressBarInner.appendChild(o.progressBarSlide),o.scrollTriggerElements=o.scrollTriggers.map((l,c)=>{const h=document.createElement("div");return h.className="scrollbar-trigger",h.style.top=(l.range[0]-a.range[0])*this.progressBarHeight+"px",h.style.height=(l.range[1]-l.range[0])*this.progressBarHeight-r+"px",o.progressBarSlide.appendChild(h),c===0&&(h.style.display="none"),h})}):this.pages.forEach(a=>a.progressBarSlide=null)}syncScrollPosition(){const t=this.viewportElement.offsetHeight,e=t/this.viewportElement.scrollHeight,n=this.viewportElement.scrollTop,s=this.viewportElement.scrollHeight-t,r=Math.max(Math.min(n/s,1),0),a=Math.max(Math.min((n+t/2)/this.viewportElement.scrollHeight,1),0);let o;this.slideTriggers.forEach(l=>{const{page:c}=l;r>=l.range[0]-2*e&&r<=l.range[1]+2*e&&!c.loaded?(c.loaded=!0,this.Reveal.slideContent.load(c.slideElement)):c.loaded&&(c.loaded=!1,this.Reveal.slideContent.unload(c.slideElement)),r>=l.range[0]&&r<=l.range[1]?(this.activateTrigger(l),o=l.page):l.active&&this.deactivateTrigger(l)}),o&&o.scrollTriggers.forEach(l=>{a>=l.range[0]&&a<=l.range[1]?this.activateTrigger(l):l.active&&this.deactivateTrigger(l)}),this.setProgressBarValue(n/(this.viewportElement.scrollHeight-t))}setProgressBarValue(t){this.progressBar&&(this.progressBarPlayhead.style.transform=`translateY(${t*this.progressBarScrollableHeight}px)`,this.getAllPages().filter(e=>e.progressBarSlide).forEach(e=>{e.progressBarSlide.classList.toggle("active",e.active===!0),e.scrollTriggers.forEach((n,s)=>{e.scrollTriggerElements[s].classList.toggle("active",e.active===!0&&n.active===!0)})}),this.showProgressBar())}showProgressBar(){this.progressBar.classList.add("visible"),clearTimeout(this.hideProgressBarTimeout),this.Reveal.getConfig().scrollProgress!=="auto"||this.draggingProgressBar||(this.hideProgressBarTimeout=setTimeout(()=>{this.progressBar&&this.progressBar.classList.remove("visible")},500))}prev(){this.viewportElement.scrollTop-=this.scrollTriggerHeight}next(){this.viewportElement.scrollTop+=this.scrollTriggerHeight}scrollToSlide(t){if(this.active){const e=this.getScrollTriggerBySlide(t);e&&(this.viewportElement.scrollTop=e.range[0]*(this.viewportElement.scrollHeight-this.viewportElement.offsetHeight))}else this.activatedCallbacks.push(()=>this.scrollToSlide(t))}storeScrollPosition(){clearTimeout(this.storeScrollPositionTimeout),this.storeScrollPositionTimeout=setTimeout(()=>{sessionStorage.setItem("reveal-scroll-top",this.viewportElement.scrollTop),sessionStorage.setItem("reveal-scroll-origin",location.origin+location.pathname),this.storeScrollPositionTimeout=null},50)}restoreScrollPosition(){const t=sessionStorage.getItem("reveal-scroll-top"),e=sessionStorage.getItem("reveal-scroll-origin");t&&e===location.origin+location.pathname&&(this.viewportElement.scrollTop=parseInt(t,10))}activatePage(t){if(!t.active){t.active=!0;const{slideElement:e,backgroundElement:n,contentElement:s,indexh:r,indexv:a}=t;s.style.display="block",e.classList.add("present"),n&&n.classList.add("present"),this.Reveal.setCurrentScrollPage(e,r,a),this.Reveal.backgrounds.bubbleSlideContrastClassToElement(e,this.viewportElement),Array.from(s.parentNode.querySelectorAll(".scroll-page-content")).forEach(o=>{o!==s&&(o.style.display="none")})}}deactivatePage(t){t.active&&(t.active=!1,t.slideElement&&t.slideElement.classList.remove("present"),t.backgroundElement&&t.backgroundElement.classList.remove("present"))}activateTrigger(t){t.active||(t.active=!0,t.activate())}deactivateTrigger(t){t.active&&(t.active=!1,t.deactivate&&t.deactivate())}getSlideByIndices(t,e){const n=this.getAllPages().find(s=>s.indexh===t&&s.indexv===e);return n?n.slideElement:null}getScrollTriggerBySlide(t){return this.slideTriggers.find(e=>e.page.slideElement===t)}getAllPages(){return this.pages.flatMap(t=>[t,...t.autoAnimatePages||[]])}onScroll(){this.syncScrollPosition(),this.storeScrollPosition()}get viewportElement(){return this.Reveal.getViewportElement()}},e1=class{constructor(t){this.Reveal=t}async activate(){const t=this.Reveal.getConfig(),e=at(this.Reveal.getRevealElement(),br),n=t.slideNumber&&/all|print/i.test(t.showSlideNumber),s=this.Reveal.getComputedSlideSize(window.innerWidth,window.innerHeight),r=Math.floor(s.width*(1+t.margin)),a=Math.floor(s.height*(1+t.margin)),o=s.width,l=s.height;await new Promise(requestAnimationFrame),Gf("@page{size:"+r+"px "+a+"px; margin: 0px;}"),Gf(".reveal section>img, .reveal section>video, .reveal section>iframe{max-width: "+o+"px; max-height:"+l+"px}"),document.documentElement.classList.add("reveal-print","print-pdf"),document.body.style.width=r+"px",document.body.style.height=a+"px";const c=this.Reveal.getViewportElement();let h;if(c){const g=window.getComputedStyle(c);g&&g.background&&(h=g.background)}await new Promise(requestAnimationFrame),this.Reveal.layoutSlideContents(o,l),await new Promise(requestAnimationFrame);const u=e.map(g=>g.scrollHeight),f=[],p=e[0].parentNode;let m=1;e.forEach(function(g,b){if(g.classList.contains("stack")===!1){let v=(r-o)/2,A=(a-l)/2;const E=u[b];let k=Math.max(Math.ceil(E/a),1);k=Math.min(k,t.pdfMaxPagesPerSlide),(k===1&&t.center||g.classList.contains("center"))&&(A=Math.max((a-E)/2,0));const S=document.createElement("div");if(f.push(S),S.className="pdf-page",S.style.height=(a+t.pdfPageHeightOffset)*k+"px",h&&(S.style.background=h),S.appendChild(g),g.style.left=v+"px",g.style.top=A+"px",g.style.width=o+"px",this.Reveal.slideContent.layout(g),g.slideBackgroundElement&&S.insertBefore(g.slideBackgroundElement,g),t.showNotes){const _=this.Reveal.getSlideNotes(g);if(_){const P=typeof t.showNotes=="string"?t.showNotes:"inline",M=document.createElement("div");M.classList.add("speaker-notes"),M.classList.add("speaker-notes-pdf"),M.setAttribute("data-layout",P),M.innerHTML=_,P==="separate-page"?f.push(M):(M.style.left="8px",M.style.bottom="8px",M.style.width=r-2*8+"px",S.appendChild(M))}}if(n){const _=document.createElement("div");_.classList.add("slide-number"),_.classList.add("slide-number-pdf"),_.innerHTML=m++,S.appendChild(_)}if(t.pdfSeparateFragments){const _=this.Reveal.fragments.sort(S.querySelectorAll(".fragment"),!0);let L;_.forEach(function(P,M){L&&L.forEach(function(I){I.classList.remove("current-fragment")}),P.forEach(function(I){I.classList.add("visible","current-fragment")},this);const C=S.cloneNode(!0);if(n){const I=M+1;C.querySelector(".slide-number-pdf").innerHTML+="."+I}f.push(C),L=P},this),_.forEach(function(P){P.forEach(function(M){M.classList.remove("visible","current-fragment")})})}else at(S,".fragment:not(.fade-out)").forEach(function(_){_.classList.add("visible")})}},this),await new Promise(requestAnimationFrame),f.forEach(g=>p.appendChild(g)),this.Reveal.slideContent.layout(this.Reveal.getSlidesElement()),this.Reveal.dispatchEvent({type:"pdf-ready"}),c.classList.remove("loading-scroll-mode")}isActive(){return this.Reveal.getConfig().view==="print"}},n1=class{constructor(t){this.Reveal=t}configure(t,e){t.fragments===!1?this.disable():e.fragments===!1&&this.enable()}disable(){at(this.Reveal.getSlidesElement(),".fragment").forEach(t=>{t.classList.add("visible"),t.classList.remove("current-fragment")})}enable(){at(this.Reveal.getSlidesElement(),".fragment").forEach(t=>{t.classList.remove("visible"),t.classList.remove("current-fragment")})}availableRoutes(){let t=this.Reveal.getCurrentSlide();if(t&&this.Reveal.getConfig().fragments){let e=t.querySelectorAll(".fragment:not(.disabled)"),n=t.querySelectorAll(".fragment:not(.disabled):not(.visible)");return{prev:e.length-n.length>0,next:!!n.length}}return{prev:!1,next:!1}}sort(t,e=!1){t=Array.from(t);let n=[],s=[],r=[];t.forEach(o=>{if(o.hasAttribute("data-fragment-index")){let l=parseInt(o.getAttribute("data-fragment-index"),10);n[l]||(n[l]=[]),n[l].push(o)}else s.push([o])}),n=n.concat(s);let a=0;return n.forEach(o=>{o.forEach(l=>{r.push(l),l.setAttribute("data-fragment-index",a)}),a++}),e===!0?n:r}sortAll(){this.Reveal.getHorizontalSlides().forEach(t=>{let e=at(t,"section");e.forEach((n,s)=>{this.sort(n.querySelectorAll(".fragment"))},this),e.length===0&&this.sort(t.querySelectorAll(".fragment"))})}update(t,e,n=this.Reveal.getCurrentSlide()){let s={shown:[],hidden:[]};if(n&&this.Reveal.getConfig().fragments&&(e=e||this.sort(n.querySelectorAll(".fragment"))).length){let r=0;if(typeof t!="number"){let a=this.sort(n.querySelectorAll(".fragment.visible")).pop();a&&(t=parseInt(a.getAttribute("data-fragment-index")||0,10))}Array.from(e).forEach((a,o)=>{if(a.hasAttribute("data-fragment-index")&&(o=parseInt(a.getAttribute("data-fragment-index"),10)),r=Math.max(r,o),o<=t){let l=a.classList.contains("visible");a.classList.add("visible"),a.classList.remove("current-fragment"),o===t&&(this.Reveal.announceStatus(this.Reveal.getStatusText(a)),a.classList.add("current-fragment"),this.Reveal.slideContent.startEmbeddedContent(a)),l||(s.shown.push(a),this.Reveal.dispatchEvent({target:a,type:"visible",bubbles:!1}))}else{let l=a.classList.contains("visible");a.classList.remove("visible"),a.classList.remove("current-fragment"),l&&(this.Reveal.slideContent.stopEmbeddedContent(a),s.hidden.push(a),this.Reveal.dispatchEvent({target:a,type:"hidden",bubbles:!1}))}}),t=typeof t=="number"?t:-1,t=Math.max(Math.min(t,r),-1),n.setAttribute("data-fragment",t)}return s.hidden.length&&this.Reveal.dispatchEvent({type:"fragmenthidden",data:{fragment:s.hidden[0],fragments:s.hidden}}),s.shown.length&&this.Reveal.dispatchEvent({type:"fragmentshown",data:{fragment:s.shown[0],fragments:s.shown}}),s}sync(t=this.Reveal.getCurrentSlide()){return this.sort(t.querySelectorAll(".fragment"))}goto(t,e=0){let n=this.Reveal.getCurrentSlide();if(n&&this.Reveal.getConfig().fragments){let s=this.sort(n.querySelectorAll(".fragment:not(.disabled)"));if(s.length){if(typeof t!="number"){let a=this.sort(n.querySelectorAll(".fragment:not(.disabled).visible")).pop();t=a?parseInt(a.getAttribute("data-fragment-index")||0,10):-1}t+=e;let r=this.update(t,s);return this.Reveal.controls.update(),this.Reveal.progress.update(),this.Reveal.getConfig().fragmentInURL&&this.Reveal.location.writeURL(),!(!r.shown.length&&!r.hidden.length)}}return!1}next(){return this.goto(null,1)}prev(){return this.goto(null,-1)}},s1=class{constructor(t){this.Reveal=t,this.active=!1,this.onSlideClicked=this.onSlideClicked.bind(this)}activate(){if(this.Reveal.getConfig().overview&&!this.Reveal.isScrollView()&&!this.isActive()){this.active=!0,this.Reveal.getRevealElement().classList.add("overview"),this.Reveal.cancelAutoSlide(),this.Reveal.getSlidesElement().appendChild(this.Reveal.getBackgroundsElement()),at(this.Reveal.getRevealElement(),br).forEach(s=>{s.classList.contains("stack")||s.addEventListener("click",this.onSlideClicked,!0)});const t=70,e=this.Reveal.getComputedSlideSize();this.overviewSlideWidth=e.width+t,this.overviewSlideHeight=e.height+t,this.Reveal.getConfig().rtl&&(this.overviewSlideWidth=-this.overviewSlideWidth),this.Reveal.updateSlidesVisibility(),this.layout(),this.update(),this.Reveal.layout();const n=this.Reveal.getIndices();this.Reveal.dispatchEvent({type:"overviewshown",data:{indexh:n.h,indexv:n.v,currentSlide:this.Reveal.getCurrentSlide()}})}}layout(){this.Reveal.getHorizontalSlides().forEach((t,e)=>{t.setAttribute("data-index-h",e),Ei(t,"translate3d("+e*this.overviewSlideWidth+"px, 0, 0)"),t.classList.contains("stack")&&at(t,"section").forEach((n,s)=>{n.setAttribute("data-index-h",e),n.setAttribute("data-index-v",s),Ei(n,"translate3d(0, "+s*this.overviewSlideHeight+"px, 0)")})}),Array.from(this.Reveal.getBackgroundsElement().childNodes).forEach((t,e)=>{Ei(t,"translate3d("+e*this.overviewSlideWidth+"px, 0, 0)"),at(t,".slide-background").forEach((n,s)=>{Ei(n,"translate3d(0, "+s*this.overviewSlideHeight+"px, 0)")})})}update(){const t=Math.min(window.innerWidth,window.innerHeight),e=Math.max(t/5,150)/t,n=this.Reveal.getIndices();this.Reveal.transformSlides({overview:["scale("+e+")","translateX("+-n.h*this.overviewSlideWidth+"px)","translateY("+-n.v*this.overviewSlideHeight+"px)"].join(" ")})}deactivate(){if(this.Reveal.getConfig().overview){this.active=!1,this.Reveal.getRevealElement().classList.remove("overview"),this.Reveal.getRevealElement().classList.add("overview-deactivating"),setTimeout(()=>{this.Reveal.getRevealElement().classList.remove("overview-deactivating")},1),this.Reveal.getRevealElement().appendChild(this.Reveal.getBackgroundsElement()),at(this.Reveal.getRevealElement(),br).forEach(e=>{Ei(e,""),e.removeEventListener("click",this.onSlideClicked,!0)}),at(this.Reveal.getBackgroundsElement(),".slide-background").forEach(e=>{Ei(e,"")}),this.Reveal.transformSlides({overview:""});const t=this.Reveal.getIndices();this.Reveal.slide(t.h,t.v),this.Reveal.layout(),this.Reveal.cueAutoSlide(),this.Reveal.dispatchEvent({type:"overviewhidden",data:{indexh:t.h,indexv:t.v,currentSlide:this.Reveal.getCurrentSlide()}})}}toggle(t){typeof t=="boolean"?t?this.activate():this.deactivate():this.isActive()?this.deactivate():this.activate()}isActive(){return this.active}onSlideClicked(t){if(this.isActive()){t.preventDefault();let e=t.target;for(;e&&!e.nodeName.match(/section/gi);)e=e.parentNode;if(e&&!e.classList.contains("disabled")&&(this.deactivate(),e.nodeName.match(/section/gi))){let n=parseInt(e.getAttribute("data-index-h"),10),s=parseInt(e.getAttribute("data-index-v"),10);this.Reveal.slide(n,s)}}}},i1=class{constructor(t){this.Reveal=t,this.shortcuts={},this.bindings={},this.onDocumentKeyDown=this.onDocumentKeyDown.bind(this)}configure(t,e){t.navigationMode==="linear"?(this.shortcuts["&#8594;  ,  &#8595;  ,  SPACE  ,  N  ,  L  ,  J"]="Next slide",this.shortcuts["&#8592;  ,  &#8593;  ,  P  ,  H  ,  K"]="Previous slide"):(this.shortcuts["N  ,  SPACE"]="Next slide",this.shortcuts["P  ,  Shift SPACE"]="Previous slide",this.shortcuts["&#8592;  ,  H"]="Navigate left",this.shortcuts["&#8594;  ,  L"]="Navigate right",this.shortcuts["&#8593;  ,  K"]="Navigate up",this.shortcuts["&#8595;  ,  J"]="Navigate down"),this.shortcuts["Alt + &#8592;/&#8593/&#8594;/&#8595;"]="Navigate without fragments",this.shortcuts["Shift + &#8592;/&#8593/&#8594;/&#8595;"]="Jump to first/last slide",this.shortcuts["B  ,  ."]="Pause",this.shortcuts.F="Fullscreen",this.shortcuts.G="Jump to slide",this.shortcuts["ESC, O"]="Slide overview"}bind(){document.addEventListener("keydown",this.onDocumentKeyDown,!1)}unbind(){document.removeEventListener("keydown",this.onDocumentKeyDown,!1)}addKeyBinding(t,e){typeof t=="object"&&t.keyCode?this.bindings[t.keyCode]={callback:e,key:t.key,description:t.description}:this.bindings[t]={callback:e,key:null,description:null}}removeKeyBinding(t){delete this.bindings[t]}triggerKey(t){this.onDocumentKeyDown({keyCode:t})}registerKeyboardShortcut(t,e){this.shortcuts[t]=e}getShortcuts(){return this.shortcuts}getBindings(){return this.bindings}onDocumentKeyDown(t){let e=this.Reveal.getConfig();if(typeof e.keyboardCondition=="function"&&e.keyboardCondition(t)===!1||e.keyboardCondition==="focused"&&!this.Reveal.isFocused())return!0;let n=t.keyCode,s=!this.Reveal.isAutoSliding();this.Reveal.onUserInput(t);let r=document.activeElement&&document.activeElement.isContentEditable===!0,a=document.activeElement&&document.activeElement.tagName&&/input|textarea/i.test(document.activeElement.tagName),o=document.activeElement&&document.activeElement.className&&/speaker-notes/i.test(document.activeElement.className),l=!([32,37,38,39,40,63,78,80,191].indexOf(t.keyCode)!==-1&&t.shiftKey||t.altKey)&&(t.shiftKey||t.altKey||t.ctrlKey||t.metaKey);if(r||a||o||l)return;let c,h=[66,86,190,191,112];if(typeof e.keyboard=="object")for(c in e.keyboard)e.keyboard[c]==="togglePause"&&h.push(parseInt(c,10));if(this.Reveal.isOverlayOpen()&&!["Escape","f","c","b","."].includes(t.key)||this.Reveal.isPaused()&&h.indexOf(n)===-1)return!1;let u=e.navigationMode==="linear"||!this.Reveal.hasHorizontalSlides()||!this.Reveal.hasVerticalSlides(),f=!1;if(typeof e.keyboard=="object"){for(c in e.keyboard)if(parseInt(c,10)===n){let p=e.keyboard[c];typeof p=="function"?p.apply(null,[t]):typeof p=="string"&&typeof this.Reveal[p]=="function"&&this.Reveal[p].call(),f=!0}}if(f===!1){for(c in this.bindings)if(parseInt(c,10)===n){let p=this.bindings[c].callback;typeof p=="function"?p.apply(null,[t]):typeof p=="string"&&typeof this.Reveal[p]=="function"&&this.Reveal[p].call(),f=!0}}f===!1&&(f=!0,n===80||n===33?this.Reveal.prev({skipFragments:t.altKey}):n===78||n===34?this.Reveal.next({skipFragments:t.altKey}):n===72||n===37?t.shiftKey?this.Reveal.slide(0):!this.Reveal.overview.isActive()&&u?e.rtl?this.Reveal.next({skipFragments:t.altKey}):this.Reveal.prev({skipFragments:t.altKey}):this.Reveal.left({skipFragments:t.altKey}):n===76||n===39?t.shiftKey?this.Reveal.slide(this.Reveal.getHorizontalSlides().length-1):!this.Reveal.overview.isActive()&&u?e.rtl?this.Reveal.prev({skipFragments:t.altKey}):this.Reveal.next({skipFragments:t.altKey}):this.Reveal.right({skipFragments:t.altKey}):n===75||n===38?t.shiftKey?this.Reveal.slide(void 0,0):!this.Reveal.overview.isActive()&&u?this.Reveal.prev({skipFragments:t.altKey}):this.Reveal.up({skipFragments:t.altKey}):n===74||n===40?t.shiftKey?this.Reveal.slide(void 0,Number.MAX_VALUE):!this.Reveal.overview.isActive()&&u?this.Reveal.next({skipFragments:t.altKey}):this.Reveal.down({skipFragments:t.altKey}):n===36?this.Reveal.slide(0):n===35?this.Reveal.slide(this.Reveal.getHorizontalSlides().length-1):n===32?(this.Reveal.overview.isActive()&&this.Reveal.overview.deactivate(),t.shiftKey?this.Reveal.prev({skipFragments:t.altKey}):this.Reveal.next({skipFragments:t.altKey})):[58,59,66,86,190].includes(n)||n===191&&!t.shiftKey?this.Reveal.togglePause():n===70?Qy(e.embedded?this.Reveal.getViewportElement():document.documentElement):n===65?e.autoSlideStoppable&&this.Reveal.toggleAutoSlide(s):n===71?e.jumpToSlide&&this.Reveal.toggleJumpToSlide():n===67&&this.Reveal.isOverlayOpen()?this.Reveal.closeOverlay():n!==63&&n!==191||!t.shiftKey?n===112?this.Reveal.toggleHelp():f=!1:this.Reveal.toggleHelp()),f?t.preventDefault&&t.preventDefault():n!==27&&n!==79||(this.Reveal.closeOverlay()===!1&&this.Reveal.overview.toggle(),t.preventDefault&&t.preventDefault()),this.Reveal.cueAutoSlide()}},r1=class{constructor(t){pt(this,"MAX_REPLACE_STATE_FREQUENCY",1e3);this.Reveal=t,this.writeURLTimeout=0,this.replaceStateTimestamp=0,this.onWindowHashChange=this.onWindowHashChange.bind(this)}bind(){window.addEventListener("hashchange",this.onWindowHashChange,!1)}unbind(){window.removeEventListener("hashchange",this.onWindowHashChange,!1)}getIndicesFromHash(t=window.location.hash,e={}){let n=t.replace(/^#\/?/,""),s=n.split("/");if(/^[0-9]*$/.test(s[0])||!n.length){const r=this.Reveal.getConfig();let a,o=r.hashOneBasedIndex||e.oneBasedIndex?1:0,l=parseInt(s[0],10)-o||0,c=parseInt(s[1],10)-o||0;return r.fragmentInURL&&(a=parseInt(s[2],10),isNaN(a)&&(a=void 0)),{h:l,v:c,f:a}}{let r,a;/\/[-\d]+$/g.test(n)&&(a=parseInt(n.split("/").pop(),10),a=isNaN(a)?void 0:a,n=n.split("/").shift());try{r=document.getElementById(decodeURIComponent(n)).closest(".slides section")}catch{}if(r)return{...this.Reveal.getIndices(r),f:a}}return null}readURL(){const t=this.Reveal.getIndices(),e=this.getIndicesFromHash();e?e.h===t.h&&e.v===t.v&&e.f===void 0||this.Reveal.slide(e.h,e.v,e.f):this.Reveal.slide(t.h||0,t.v||0)}writeURL(t){let e=this.Reveal.getConfig(),n=this.Reveal.getCurrentSlide();if(clearTimeout(this.writeURLTimeout),typeof t=="number")this.writeURLTimeout=setTimeout(this.writeURL,t);else if(n){let s=this.getHash();e.history?window.location.hash=s:e.hash&&(s==="/"?this.debouncedReplaceState(window.location.pathname+window.location.search):this.debouncedReplaceState("#"+s))}}replaceState(t){window.history.replaceState(null,null,t),this.replaceStateTimestamp=Date.now()}debouncedReplaceState(t){clearTimeout(this.replaceStateTimeout),Date.now()-this.replaceStateTimestamp>this.MAX_REPLACE_STATE_FREQUENCY?this.replaceState(t):this.replaceStateTimeout=setTimeout(()=>this.replaceState(t),this.MAX_REPLACE_STATE_FREQUENCY)}getHash(t){let e="/",n=t||this.Reveal.getCurrentSlide(),s=n?n.getAttribute("id"):null;s&&(s=encodeURIComponent(s));let r=this.Reveal.getIndices(t);if(this.Reveal.getConfig().fragmentInURL||(r.f=void 0),typeof s=="string"&&s.length)e="/"+s,r.f>=0&&(e+="/"+r.f);else{let a=this.Reveal.getConfig().hashOneBasedIndex?1:0;(r.h>0||r.v>0||r.f>=0)&&(e+=r.h+a),(r.v>0||r.f>=0)&&(e+="/"+(r.v+a)),r.f>=0&&(e+="/"+r.f)}return e}onWindowHashChange(t){this.readURL()}},a1=class{constructor(t){this.Reveal=t,this.onNavigateLeftClicked=this.onNavigateLeftClicked.bind(this),this.onNavigateRightClicked=this.onNavigateRightClicked.bind(this),this.onNavigateUpClicked=this.onNavigateUpClicked.bind(this),this.onNavigateDownClicked=this.onNavigateDownClicked.bind(this),this.onNavigatePrevClicked=this.onNavigatePrevClicked.bind(this),this.onNavigateNextClicked=this.onNavigateNextClicked.bind(this),this.onEnterFullscreen=this.onEnterFullscreen.bind(this)}render(){const t=this.Reveal.getConfig().rtl,e=this.Reveal.getRevealElement();this.element=document.createElement("aside"),this.element.className="controls",this.element.innerHTML=`<button class="navigate-left" aria-label="${t?"next slide":"previous slide"}"><div class="controls-arrow"></div></button>
			<button class="navigate-right" aria-label="${t?"previous slide":"next slide"}"><div class="controls-arrow"></div></button>
			<button class="navigate-up" aria-label="above slide"><div class="controls-arrow"></div></button>
			<button class="navigate-down" aria-label="below slide"><div class="controls-arrow"></div></button>`,this.Reveal.getRevealElement().appendChild(this.element),this.controlsLeft=at(e,".navigate-left"),this.controlsRight=at(e,".navigate-right"),this.controlsUp=at(e,".navigate-up"),this.controlsDown=at(e,".navigate-down"),this.controlsPrev=at(e,".navigate-prev"),this.controlsNext=at(e,".navigate-next"),this.controlsFullscreen=at(e,".enter-fullscreen"),this.controlsRightArrow=this.element.querySelector(".navigate-right"),this.controlsLeftArrow=this.element.querySelector(".navigate-left"),this.controlsDownArrow=this.element.querySelector(".navigate-down")}configure(t,e){this.element.style.display=t.controls&&(t.controls!=="speaker-only"||this.Reveal.isSpeakerNotes())?"block":"none",this.element.setAttribute("data-controls-layout",t.controlsLayout),this.element.setAttribute("data-controls-back-arrows",t.controlsBackArrows)}bind(){let t=["touchstart","click"];tw&&(t=["touchstart"]),t.forEach(e=>{this.controlsLeft.forEach(n=>n.addEventListener(e,this.onNavigateLeftClicked,!1)),this.controlsRight.forEach(n=>n.addEventListener(e,this.onNavigateRightClicked,!1)),this.controlsUp.forEach(n=>n.addEventListener(e,this.onNavigateUpClicked,!1)),this.controlsDown.forEach(n=>n.addEventListener(e,this.onNavigateDownClicked,!1)),this.controlsPrev.forEach(n=>n.addEventListener(e,this.onNavigatePrevClicked,!1)),this.controlsNext.forEach(n=>n.addEventListener(e,this.onNavigateNextClicked,!1)),this.controlsFullscreen.forEach(n=>n.addEventListener(e,this.onEnterFullscreen,!1))})}unbind(){["touchstart","click"].forEach(t=>{this.controlsLeft.forEach(e=>e.removeEventListener(t,this.onNavigateLeftClicked,!1)),this.controlsRight.forEach(e=>e.removeEventListener(t,this.onNavigateRightClicked,!1)),this.controlsUp.forEach(e=>e.removeEventListener(t,this.onNavigateUpClicked,!1)),this.controlsDown.forEach(e=>e.removeEventListener(t,this.onNavigateDownClicked,!1)),this.controlsPrev.forEach(e=>e.removeEventListener(t,this.onNavigatePrevClicked,!1)),this.controlsNext.forEach(e=>e.removeEventListener(t,this.onNavigateNextClicked,!1)),this.controlsFullscreen.forEach(e=>e.removeEventListener(t,this.onEnterFullscreen,!1))})}update(){let t=this.Reveal.availableRoutes();[...this.controlsLeft,...this.controlsRight,...this.controlsUp,...this.controlsDown,...this.controlsPrev,...this.controlsNext].forEach(n=>{n.classList.remove("enabled","fragmented"),n.setAttribute("disabled","disabled")}),t.left&&this.controlsLeft.forEach(n=>{n.classList.add("enabled"),n.removeAttribute("disabled")}),t.right&&this.controlsRight.forEach(n=>{n.classList.add("enabled"),n.removeAttribute("disabled")}),t.up&&this.controlsUp.forEach(n=>{n.classList.add("enabled"),n.removeAttribute("disabled")}),t.down&&this.controlsDown.forEach(n=>{n.classList.add("enabled"),n.removeAttribute("disabled")}),(t.left||t.up)&&this.controlsPrev.forEach(n=>{n.classList.add("enabled"),n.removeAttribute("disabled")}),(t.right||t.down)&&this.controlsNext.forEach(n=>{n.classList.add("enabled"),n.removeAttribute("disabled")});let e=this.Reveal.getCurrentSlide();if(e){let n=this.Reveal.fragments.availableRoutes();n.prev&&this.controlsPrev.forEach(a=>{a.classList.add("fragmented","enabled"),a.removeAttribute("disabled")}),n.next&&this.controlsNext.forEach(a=>{a.classList.add("fragmented","enabled"),a.removeAttribute("disabled")});const s=this.Reveal.isVerticalSlide(e),r=s&&e.parentElement&&e.parentElement.querySelectorAll(":scope > section").length>1;s&&r?(n.prev&&this.controlsUp.forEach(a=>{a.classList.add("fragmented","enabled"),a.removeAttribute("disabled")}),n.next&&this.controlsDown.forEach(a=>{a.classList.add("fragmented","enabled"),a.removeAttribute("disabled")})):(n.prev&&this.controlsLeft.forEach(a=>{a.classList.add("fragmented","enabled"),a.removeAttribute("disabled")}),n.next&&this.controlsRight.forEach(a=>{a.classList.add("fragmented","enabled"),a.removeAttribute("disabled")}))}if(this.Reveal.getConfig().controlsTutorial){let n=this.Reveal.getIndices();!this.Reveal.hasNavigatedVertically()&&t.down?this.controlsDownArrow.classList.add("highlight"):(this.controlsDownArrow.classList.remove("highlight"),this.Reveal.getConfig().rtl?!this.Reveal.hasNavigatedHorizontally()&&t.left&&n.v===0?this.controlsLeftArrow.classList.add("highlight"):this.controlsLeftArrow.classList.remove("highlight"):!this.Reveal.hasNavigatedHorizontally()&&t.right&&n.v===0?this.controlsRightArrow.classList.add("highlight"):this.controlsRightArrow.classList.remove("highlight"))}}destroy(){this.unbind(),this.element.remove()}onNavigateLeftClicked(t){t.preventDefault(),this.Reveal.onUserInput(),this.Reveal.getConfig().navigationMode==="linear"?this.Reveal.prev():this.Reveal.left()}onNavigateRightClicked(t){t.preventDefault(),this.Reveal.onUserInput(),this.Reveal.getConfig().navigationMode==="linear"?this.Reveal.next():this.Reveal.right()}onNavigateUpClicked(t){t.preventDefault(),this.Reveal.onUserInput(),this.Reveal.up()}onNavigateDownClicked(t){t.preventDefault(),this.Reveal.onUserInput(),this.Reveal.down()}onNavigatePrevClicked(t){t.preventDefault(),this.Reveal.onUserInput(),this.Reveal.prev()}onNavigateNextClicked(t){t.preventDefault(),this.Reveal.onUserInput(),this.Reveal.next()}onEnterFullscreen(t){const e=this.Reveal.getConfig(),n=this.Reveal.getViewportElement();Qy(e.embedded?n:n.parentElement)}},o1=class{constructor(t){this.Reveal=t,this.onProgressClicked=this.onProgressClicked.bind(this)}render(){this.element=document.createElement("div"),this.element.className="progress",this.Reveal.getRevealElement().appendChild(this.element),this.bar=document.createElement("span"),this.element.appendChild(this.bar)}configure(t,e){this.element.style.display=t.progress?"block":"none"}bind(){this.Reveal.getConfig().progress&&this.element&&this.element.addEventListener("click",this.onProgressClicked,!1)}unbind(){this.Reveal.getConfig().progress&&this.element&&this.element.removeEventListener("click",this.onProgressClicked,!1)}update(){if(this.Reveal.getConfig().progress&&this.bar){let t=this.Reveal.getProgress();this.Reveal.getTotalSlides()<2&&(t=0),this.bar.style.transform="scaleX("+t+")"}}getMaxWidth(){return this.Reveal.getRevealElement().offsetWidth}onProgressClicked(t){this.Reveal.onUserInput(t),t.preventDefault();let e=this.Reveal.getSlides(),n=e.length,s=Math.floor(t.clientX/this.getMaxWidth()*n);this.Reveal.getConfig().rtl&&(s=n-s);let r=this.Reveal.getIndices(e[s]);this.Reveal.slide(r.h,r.v)}destroy(){this.element.remove()}};class l1{constructor(t){this.Reveal=t,this.lastMouseWheelStep=0,this.cursorHidden=!1,this.cursorInactiveTimeout=0,this.onDocumentCursorActive=this.onDocumentCursorActive.bind(this),this.onDocumentMouseScroll=this.onDocumentMouseScroll.bind(this)}configure(t,e){t.mouseWheel?document.addEventListener("wheel",this.onDocumentMouseScroll,!1):document.removeEventListener("wheel",this.onDocumentMouseScroll,!1),t.hideInactiveCursor?(document.addEventListener("mousemove",this.onDocumentCursorActive,!1),document.addEventListener("mousedown",this.onDocumentCursorActive,!1)):(this.showCursor(),document.removeEventListener("mousemove",this.onDocumentCursorActive,!1),document.removeEventListener("mousedown",this.onDocumentCursorActive,!1))}showCursor(){this.cursorHidden&&(this.cursorHidden=!1,this.Reveal.getRevealElement().style.cursor="")}hideCursor(){this.cursorHidden===!1&&(this.cursorHidden=!0,this.Reveal.getRevealElement().style.cursor="none")}destroy(){this.showCursor(),document.removeEventListener("wheel",this.onDocumentMouseScroll,!1),document.removeEventListener("mousemove",this.onDocumentCursorActive,!1),document.removeEventListener("mousedown",this.onDocumentCursorActive,!1)}onDocumentCursorActive(t){this.showCursor(),clearTimeout(this.cursorInactiveTimeout),this.cursorInactiveTimeout=setTimeout(this.hideCursor.bind(this),this.Reveal.getConfig().hideCursorTime)}onDocumentMouseScroll(t){if(Date.now()-this.lastMouseWheelStep>1e3){this.lastMouseWheelStep=Date.now();let e=t.detail||-t.wheelDelta;e>0?this.Reveal.next():e<0&&this.Reveal.prev()}}}const Av=(i,t)=>{const e=document.createElement("script");e.type="text/javascript",e.async=!1,e.defer=!1,e.src=i,typeof t=="function"&&(e.onload=e.onreadystatechange=s=>{(s.type==="load"||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=e.onerror=null,t())},e.onerror=s=>{e.onload=e.onreadystatechange=e.onerror=null,t(new Error("Failed loading script: "+e.src+`
`+s))});const n=document.querySelector("head");n.insertBefore(e,n.lastChild)};class c1{constructor(t){this.Reveal=t,this.state="idle",this.registeredPlugins={},this.asyncDependencies=[]}load(t,e){return this.state="loading",t.forEach(this.registerPlugin.bind(this)),new Promise(n=>{let s=[],r=0;if(e.forEach(a=>{a.condition&&!a.condition()||(a.async?this.asyncDependencies.push(a):s.push(a))}),s.length){r=s.length;const a=o=>{o&&typeof o.callback=="function"&&o.callback(),--r==0&&this.initPlugins().then(n)};s.forEach(o=>{typeof o.id=="string"?(this.registerPlugin(o),a(o)):typeof o.src=="string"?Av(o.src,()=>a(o)):(console.warn("Unrecognized plugin format",o),a())})}else this.initPlugins().then(n)})}initPlugins(){return new Promise(t=>{let e=Object.values(this.registeredPlugins),n=e.length;if(n===0)this.loadAsync().then(t);else{let s,r=()=>{--n==0?this.loadAsync().then(t):s()},a=0;s=()=>{let o=e[a++];if(typeof o.init=="function"){let l=o.init(this.Reveal);l&&typeof l.then=="function"?l.then(r):r()}else r()},s()}})}loadAsync(){return this.state="loaded",this.asyncDependencies.length&&this.asyncDependencies.forEach(t=>{Av(t.src,t.callback)}),Promise.resolve()}registerPlugin(t){arguments.length===2&&typeof arguments[0]=="string"?(t=arguments[1]).id=arguments[0]:typeof t=="function"&&(t=t());let e=t.id;typeof e!="string"?console.warn("Unrecognized plugin format; can't find plugin.id",t):this.registeredPlugins[e]===void 0?(this.registeredPlugins[e]=t,this.state==="loaded"&&typeof t.init=="function"&&t.init(this.Reveal)):console.warn('reveal.js: "'+e+'" plugin has already been registered')}hasPlugin(t){return!!this.registeredPlugins[t]}getPlugin(t){return this.registeredPlugins[t]}getRegisteredPlugins(){return this.registeredPlugins}destroy(){Object.values(this.registeredPlugins).forEach(t=>{typeof t.destroy=="function"&&t.destroy()}),this.registeredPlugins={},this.asyncDependencies=[]}}class d1{constructor(t){this.Reveal=t,this.onSlidesClicked=this.onSlidesClicked.bind(this),this.iframeTriggerSelector=null,this.mediaTriggerSelector="[data-preview-image], [data-preview-video]",this.stateProps=["previewIframe","previewImage","previewVideo","previewFit"],this.state={}}update(){this.Reveal.getConfig().previewLinks?this.iframeTriggerSelector="a[href]:not([data-preview-link=false]), [data-preview-link]:not(a):not([data-preview-link=false])":this.iframeTriggerSelector="[data-preview-link]:not([data-preview-link=false])";const t=this.Reveal.getSlidesElement().querySelectorAll(this.iframeTriggerSelector).length>0,e=this.Reveal.getSlidesElement().querySelectorAll(this.mediaTriggerSelector).length>0;t||e?this.Reveal.getSlidesElement().addEventListener("click",this.onSlidesClicked,!1):this.Reveal.getSlidesElement().removeEventListener("click",this.onSlidesClicked,!1)}createOverlay(t){this.dom=document.createElement("div"),this.dom.classList.add("r-overlay"),this.dom.classList.add(t),this.viewport=document.createElement("div"),this.viewport.classList.add("r-overlay-viewport"),this.dom.appendChild(this.viewport),this.Reveal.getRevealElement().appendChild(this.dom)}previewIframe(t){this.close(),this.state={previewIframe:t},this.createOverlay("r-overlay-preview"),this.dom.dataset.state="loading",this.viewport.innerHTML=`<header class="r-overlay-header">
				<a class="r-overlay-button r-overlay-external" href="${t}" target="_blank"><span class="icon"></span></a>
				<button class="r-overlay-button r-overlay-close"><span class="icon"></span></button>
			</header>
			<div class="r-overlay-spinner"></div>
			<div class="r-overlay-content">
				<iframe src="${t}"></iframe>
				<small class="r-overlay-content-inner">
					<span class="r-overlay-error x-frame-error">Unable to load iframe. This is likely due to the site's policy (x-frame-options).</span>
				</small>
			</div>`,this.dom.querySelector("iframe").addEventListener("load",e=>{this.dom.dataset.state="loaded"},!1),this.dom.querySelector(".r-overlay-close").addEventListener("click",e=>{this.close(),e.preventDefault()},!1),this.dom.querySelector(".r-overlay-external").addEventListener("click",e=>{this.close()},!1),this.Reveal.dispatchEvent({type:"previewiframe",data:{url:t}})}previewMedia(t,e,n){if(e!=="image"&&e!=="video")return void console.warn("Please specify a valid media type to preview (image|video)");this.close(),n=n||"scale-down",this.createOverlay("r-overlay-preview"),this.dom.dataset.state="loading",this.dom.dataset.previewFit=n,this.viewport.innerHTML=`<header class="r-overlay-header">
				<button class="r-overlay-button r-overlay-close">Esc <span class="icon"></span></button>
			</header>
			<div class="r-overlay-spinner"></div>
			<div class="r-overlay-content"></div>`;const s=this.dom.querySelector(".r-overlay-content");if(e==="image"){this.state={previewImage:t,previewFit:n};const r=document.createElement("img",{});r.src=t,s.appendChild(r),r.addEventListener("load",()=>{this.dom.dataset.state="loaded"},!1),r.addEventListener("error",()=>{this.dom.dataset.state="error",s.innerHTML='<span class="r-overlay-error">Unable to load image.</span>'},!1),this.dom.style.cursor="zoom-out",this.dom.addEventListener("click",a=>{this.close()},!1),this.Reveal.dispatchEvent({type:"previewimage",data:{url:t}})}else{if(e!=="video")throw new Error("Please specify a valid media type to preview");{this.state={previewVideo:t,previewFit:n};const r=document.createElement("video");r.autoplay=this.dom.dataset.previewAutoplay!=="false",r.controls=this.dom.dataset.previewControls!=="false",r.loop=this.dom.dataset.previewLoop==="true",r.muted=this.dom.dataset.previewMuted==="true",r.playsInline=!0,r.src=t,s.appendChild(r),r.addEventListener("loadeddata",()=>{this.dom.dataset.state="loaded"},!1),r.addEventListener("error",()=>{this.dom.dataset.state="error",s.innerHTML='<span class="r-overlay-error">Unable to load video.</span>'},!1),this.Reveal.dispatchEvent({type:"previewvideo",data:{url:t}})}}this.dom.querySelector(".r-overlay-close").addEventListener("click",r=>{this.close(),r.preventDefault()},!1)}previewImage(t,e){this.previewMedia(t,"image",e)}previewVideo(t,e){this.previewMedia(t,"video",e)}toggleHelp(t){typeof t=="boolean"?t?this.showHelp():this.close():this.dom?this.close():this.showHelp()}showHelp(){if(this.Reveal.getConfig().help){this.close(),this.createOverlay("r-overlay-help");let t='<p class="title">Keyboard Shortcuts</p>',e=this.Reveal.keyboard.getShortcuts(),n=this.Reveal.keyboard.getBindings();t+="<table><th>KEY</th><th>ACTION</th>";for(let s in e)t+=`<tr><td>${s}</td><td>${e[s]}</td></tr>`;for(let s in n)n[s].key&&n[s].description&&(t+=`<tr><td>${n[s].key}</td><td>${n[s].description}</td></tr>`);t+="</table>",this.viewport.innerHTML=`
				<header class="r-overlay-header">
					<button class="r-overlay-button r-overlay-close">Esc <span class="icon"></span></button>
				</header>
				<div class="r-overlay-content">
					<div class="r-overlay-help-content">${t}</div>
				</div>
			`,this.dom.querySelector(".r-overlay-close").addEventListener("click",s=>{this.close(),s.preventDefault()},!1),this.Reveal.dispatchEvent({type:"showhelp"})}}isOpen(){return!!this.dom}close(){return!!this.dom&&(this.dom.remove(),this.dom=null,this.state={},this.Reveal.dispatchEvent({type:"closeoverlay"}),!0)}getState(){return this.state}setState(t){this.stateProps.every(e=>this.state[e]===t[e])||(t.previewIframe?this.previewIframe(t.previewIframe):t.previewImage?this.previewImage(t.previewImage,t.previewFit):t.previewVideo?this.previewVideo(t.previewVideo,t.previewFit):this.close())}onSlidesClicked(t){const e=t.target,n=e.closest(this.iframeTriggerSelector),s=e.closest(this.mediaTriggerSelector);if(n){if(t.metaKey||t.shiftKey||t.altKey)return;let r=n.getAttribute("href")||n.getAttribute("data-preview-link");r&&(this.previewIframe(r),t.preventDefault())}else if(s){if(s.hasAttribute("data-preview-image")){let r=s.dataset.previewImage||s.getAttribute("src");r&&(this.previewImage(r,s.dataset.previewFit),t.preventDefault())}else if(s.hasAttribute("data-preview-video")){let r=s.dataset.previewVideo||s.getAttribute("src");if(!r){let a=s.querySelector("source");a&&(r=a.getAttribute("src"))}r&&(this.previewVideo(r,s.dataset.previewFit),t.preventDefault())}}}destroy(){this.close()}}let h1=class{constructor(t){this.Reveal=t,this.touchStartX=0,this.touchStartY=0,this.touchStartCount=0,this.touchCaptured=!1,this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this)}bind(){let t=this.Reveal.getRevealElement();"onpointerdown"in window?(t.addEventListener("pointerdown",this.onPointerDown,!1),t.addEventListener("pointermove",this.onPointerMove,!1),t.addEventListener("pointerup",this.onPointerUp,!1)):window.navigator.msPointerEnabled?(t.addEventListener("MSPointerDown",this.onPointerDown,!1),t.addEventListener("MSPointerMove",this.onPointerMove,!1),t.addEventListener("MSPointerUp",this.onPointerUp,!1)):(t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1))}unbind(){let t=this.Reveal.getRevealElement();t.removeEventListener("pointerdown",this.onPointerDown,!1),t.removeEventListener("pointermove",this.onPointerMove,!1),t.removeEventListener("pointerup",this.onPointerUp,!1),t.removeEventListener("MSPointerDown",this.onPointerDown,!1),t.removeEventListener("MSPointerMove",this.onPointerMove,!1),t.removeEventListener("MSPointerUp",this.onPointerUp,!1),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1)}isSwipePrevented(t){if($h(t,"video[controls], audio[controls]"))return!0;for(;t&&typeof t.hasAttribute=="function";){if(t.hasAttribute("data-prevent-swipe"))return!0;t=t.parentNode}return!1}onTouchStart(t){if(this.touchCaptured=!1,this.isSwipePrevented(t.target))return!0;this.touchStartX=t.touches[0].clientX,this.touchStartY=t.touches[0].clientY,this.touchStartCount=t.touches.length}onTouchMove(t){if(this.isSwipePrevented(t.target))return!0;let e=this.Reveal.getConfig();if(this.touchCaptured)tw&&t.preventDefault();else{this.Reveal.onUserInput(t);let n=t.touches[0].clientX,s=t.touches[0].clientY;if(t.touches.length===1&&this.touchStartCount!==2){let r=this.Reveal.availableRoutes({includeFragments:!0}),a=n-this.touchStartX,o=s-this.touchStartY;a>40&&Math.abs(a)>Math.abs(o)?(this.touchCaptured=!0,e.navigationMode==="linear"?e.rtl?this.Reveal.next():this.Reveal.prev():this.Reveal.left()):a<-40&&Math.abs(a)>Math.abs(o)?(this.touchCaptured=!0,e.navigationMode==="linear"?e.rtl?this.Reveal.prev():this.Reveal.next():this.Reveal.right()):o>40&&r.up?(this.touchCaptured=!0,e.navigationMode==="linear"?this.Reveal.prev():this.Reveal.up()):o<-40&&r.down&&(this.touchCaptured=!0,e.navigationMode==="linear"?this.Reveal.next():this.Reveal.down()),e.embedded?(this.touchCaptured||this.Reveal.isVerticalSlide())&&t.preventDefault():t.preventDefault()}}}onTouchEnd(t){this.touchCaptured=!1}onPointerDown(t){t.pointerType!==t.MSPOINTER_TYPE_TOUCH&&t.pointerType!=="touch"||(t.touches=[{clientX:t.clientX,clientY:t.clientY}],this.onTouchStart(t))}onPointerMove(t){t.pointerType!==t.MSPOINTER_TYPE_TOUCH&&t.pointerType!=="touch"||(t.touches=[{clientX:t.clientX,clientY:t.clientY}],this.onTouchMove(t))}onPointerUp(t){t.pointerType!==t.MSPOINTER_TYPE_TOUCH&&t.pointerType!=="touch"||(t.touches=[{clientX:t.clientX,clientY:t.clientY}],this.onTouchEnd(t))}};const df="focus",xv="blur";class u1{constructor(t){this.Reveal=t,this.onRevealPointerDown=this.onRevealPointerDown.bind(this),this.onDocumentPointerDown=this.onDocumentPointerDown.bind(this)}configure(t,e){t.embedded?this.blur():(this.focus(),this.unbind())}bind(){this.Reveal.getConfig().embedded&&this.Reveal.getRevealElement().addEventListener("pointerdown",this.onRevealPointerDown,!1)}unbind(){this.Reveal.getRevealElement().removeEventListener("pointerdown",this.onRevealPointerDown,!1),document.removeEventListener("pointerdown",this.onDocumentPointerDown,!1)}focus(){this.state!==df&&(this.Reveal.getRevealElement().classList.add("focused"),document.addEventListener("pointerdown",this.onDocumentPointerDown,!1)),this.state=df}blur(){this.state!==xv&&(this.Reveal.getRevealElement().classList.remove("focused"),document.removeEventListener("pointerdown",this.onDocumentPointerDown,!1)),this.state=xv}isFocused(){return this.state===df}destroy(){this.Reveal.getRevealElement().classList.remove("focused")}onRevealPointerDown(t){this.focus()}onDocumentPointerDown(t){let e=Ie(t.target,".reveal");e&&e===this.Reveal.getRevealElement()||this.blur()}}class f1{constructor(t){this.Reveal=t}render(){this.element=document.createElement("div"),this.element.className="speaker-notes",this.element.setAttribute("data-prevent-swipe",""),this.element.setAttribute("tabindex","0"),this.Reveal.getRevealElement().appendChild(this.element)}configure(t,e){t.showNotes&&this.element.setAttribute("data-layout",typeof t.showNotes=="string"?t.showNotes:"inline")}update(){this.Reveal.getConfig().showNotes&&this.element&&this.Reveal.getCurrentSlide()&&!this.Reveal.isScrollView()&&!this.Reveal.isPrintView()&&(this.element.innerHTML=this.getSlideNotes()||'<span class="notes-placeholder">No notes on this slide.</span>')}updateVisibility(){this.Reveal.getConfig().showNotes&&this.hasNotes()&&!this.Reveal.isScrollView()&&!this.Reveal.isPrintView()?this.Reveal.getRevealElement().classList.add("show-notes"):this.Reveal.getRevealElement().classList.remove("show-notes")}hasNotes(){return this.Reveal.getSlidesElement().querySelectorAll("[data-notes], aside.notes").length>0}isSpeakerNotesWindow(){return!!window.location.search.match(/receiver/gi)}getSlideNotes(t=this.Reveal.getCurrentSlide()){if(t.hasAttribute("data-notes"))return t.getAttribute("data-notes");let e=t.querySelectorAll("aside.notes");return e?Array.from(e).map(n=>n.innerHTML).join(`
`):null}destroy(){this.element.remove()}}class p1{constructor(t,e){this.diameter=100,this.diameter2=this.diameter/2,this.thickness=6,this.playing=!1,this.progress=0,this.progressOffset=1,this.container=t,this.progressCheck=e,this.canvas=document.createElement("canvas"),this.canvas.className="playback",this.canvas.width=this.diameter,this.canvas.height=this.diameter,this.canvas.style.width=this.diameter2+"px",this.canvas.style.height=this.diameter2+"px",this.context=this.canvas.getContext("2d"),this.container.appendChild(this.canvas),this.render()}setPlaying(t){const e=this.playing;this.playing=t,!e&&this.playing?this.animate():this.render()}animate(){const t=this.progress;this.progress=this.progressCheck(),t>.8&&this.progress<.2&&(this.progressOffset=this.progress),this.render(),this.playing&&requestAnimationFrame(this.animate.bind(this))}render(){let t=this.playing?this.progress:0,e=this.diameter2-this.thickness,n=this.diameter2,s=this.diameter2,r=28;this.progressOffset+=.1*(1-this.progressOffset);const a=-Math.PI/2+t*(2*Math.PI),o=-Math.PI/2+this.progressOffset*(2*Math.PI);this.context.save(),this.context.clearRect(0,0,this.diameter,this.diameter),this.context.beginPath(),this.context.arc(n,s,e+4,0,2*Math.PI,!1),this.context.fillStyle="rgba( 0, 0, 0, 0.4 )",this.context.fill(),this.context.beginPath(),this.context.arc(n,s,e,0,2*Math.PI,!1),this.context.lineWidth=this.thickness,this.context.strokeStyle="rgba( 255, 255, 255, 0.2 )",this.context.stroke(),this.playing&&(this.context.beginPath(),this.context.arc(n,s,e,o,a,!1),this.context.lineWidth=this.thickness,this.context.strokeStyle="#fff",this.context.stroke()),this.context.translate(n-14,s-14),this.playing?(this.context.fillStyle="#fff",this.context.fillRect(0,0,10,r),this.context.fillRect(18,0,10,r)):(this.context.beginPath(),this.context.translate(4,0),this.context.moveTo(0,0),this.context.lineTo(24,14),this.context.lineTo(0,r),this.context.fillStyle="#fff",this.context.fill()),this.context.restore()}on(t,e){this.canvas.addEventListener(t,e,!1)}off(t,e){this.canvas.removeEventListener(t,e,!1)}destroy(){this.playing=!1,this.canvas.parentNode&&this.container.removeChild(this.canvas)}}var g1={width:960,height:700,margin:.04,minScale:.2,maxScale:2,controls:!0,controlsTutorial:!0,controlsLayout:"bottom-right",controlsBackArrows:"faded",progress:!0,slideNumber:!1,showSlideNumber:"all",hashOneBasedIndex:!1,hash:!1,respondToHashChanges:!0,jumpToSlide:!0,history:!1,keyboard:!0,keyboardCondition:null,disableLayout:!1,overview:!0,center:!0,touch:!0,loop:!1,rtl:!1,navigationMode:"default",shuffle:!1,fragments:!0,fragmentInURL:!0,embedded:!1,help:!0,pause:!0,showNotes:!1,showHiddenSlides:!1,autoPlayMedia:null,preloadIframes:null,autoAnimate:!0,autoAnimateMatcher:null,autoAnimateEasing:"ease",autoAnimateDuration:1,autoAnimateUnmatched:!0,autoAnimateStyles:["opacity","color","background-color","padding","font-size","line-height","letter-spacing","border-width","border-color","border-radius","outline","outline-offset"],autoSlide:0,autoSlideStoppable:!0,autoSlideMethod:null,defaultTiming:null,mouseWheel:!1,previewLinks:!1,postMessage:!0,postMessageEvents:!1,focusBodyOnPageVisibilityChange:!0,transition:"slide",transitionSpeed:"default",backgroundTransition:"fade",parallaxBackgroundImage:"",parallaxBackgroundSize:"",parallaxBackgroundRepeat:"",parallaxBackgroundPosition:"",parallaxBackgroundHorizontal:null,parallaxBackgroundVertical:null,view:null,scrollLayout:"full",scrollSnap:"mandatory",scrollProgress:"auto",scrollActivationWidth:435,pdfMaxPagesPerSlide:Number.POSITIVE_INFINITY,pdfSeparateFragments:!0,pdfPageHeightOffset:-1,viewDistance:3,mobileViewDistance:2,display:"block",hideInactiveCursor:!0,hideCursorTime:5e3,sortFragmentsOnSync:!0,dependencies:[],plugins:[]};const ew="5.2.1";function nw(i,t){arguments.length<2&&(t=arguments[0],i=document.querySelector(".reveal"));const e={};let n,s,r,a,o,l={},c=!1,h=!1,u={hasNavigatedHorizontally:!1,hasNavigatedVertically:!1},f=[],p=1,m={layout:"",overview:""},g={},b="idle",v=0,A=0,E=-1,k=!1,S=new XC(e),_=new KC(e),L=new JC(e),P=new ZC(e),M=new QC(e),C=new t1(e),I=new e1(e),F=new n1(e),z=new s1(e),H=new i1(e),W=new r1(e),j=new a1(e),D=new o1(e),N=new l1(e),ot=new c1(e),lt=new d1(e),Rt=new u1(e),At=new h1(e),nt=new f1(e);function mt(){c!==!1&&(h=!0,l.showHiddenSlides||at(g.wrapper,'section[data-visibility="hidden"]').forEach(T=>{const O=T.parentNode;O.childElementCount===1&&/section/i.test(O.nodeName)?O.remove():T.remove()}),function(){g.slides.classList.add("no-transition"),Ua?g.wrapper.classList.add("no-hover"):g.wrapper.classList.remove("no-hover"),M.render(),_.render(),L.render(),j.render(),D.render(),nt.render(),g.pauseOverlay=((T,O,B,U="")=>{let V=T.querySelectorAll("."+B);for(let Ft=0;Ft<V.length;Ft++){let Xt=V[Ft];if(Xt.parentNode===T)return Xt}let Ct=document.createElement(O);return Ct.className=B,Ct.innerHTML=U,T.appendChild(Ct),Ct})(g.wrapper,"div","pause-overlay",l.controls?'<button class="resume-button">Resume presentation</button>':null),g.statusElement=function(){let T=g.wrapper.querySelector(".aria-status");return T||(T=document.createElement("div"),T.style.position="absolute",T.style.height="1px",T.style.width="1px",T.style.overflow="hidden",T.style.clip="rect( 1px, 1px, 1px, 1px )",T.classList.add("aria-status"),T.setAttribute("aria-live","polite"),T.setAttribute("aria-atomic","true"),g.wrapper.appendChild(T)),T}(),g.wrapper.setAttribute("role","application")}(),l.postMessage&&window.addEventListener("message",am,!1),setInterval(()=>{(!C.isActive()&&g.wrapper.scrollTop!==0||g.wrapper.scrollLeft!==0)&&(g.wrapper.scrollTop=0,g.wrapper.scrollLeft=0)},1e3),document.addEventListener("fullscreenchange",Hd),document.addEventListener("webkitfullscreenchange",Hd),Tn().forEach(T=>{at(T,"section").forEach((O,B)=>{B>0&&(O.classList.remove("present"),O.classList.remove("past"),O.classList.add("future"),O.setAttribute("aria-hidden","true"))})}),Q(),M.update(!0),function(){const T=l.view==="print",O=l.view==="scroll"||l.view==="reader";(T||O)&&(T?Lt():At.unbind(),g.viewport.classList.add("loading-scroll-mode"),T?document.readyState==="complete"?I.activate():window.addEventListener("load",()=>I.activate()):C.activate())}(),W.readURL(),setTimeout(()=>{g.slides.classList.remove("no-transition"),g.wrapper.classList.add("ready"),K({type:"ready",data:{indexh:n,indexv:s,currentSlide:a}})},1))}function Dt(T){g.statusElement.textContent=T}function Ot(T){let O="";if(T.nodeType===3)O+=T.textContent;else if(T.nodeType===1){let B=T.getAttribute("aria-hidden"),U=window.getComputedStyle(T).display==="none";B==="true"||U||Array.from(T.childNodes).forEach(V=>{O+=Ot(V)})}return O=O.trim(),O===""?"":O+" "}function Q(T){const O={...l};if(typeof T=="object"&&Ha(l,T),e.isReady()===!1)return;const B=g.wrapper.querySelectorAll(br).length;g.wrapper.classList.remove(O.transition),g.wrapper.classList.add(l.transition),g.wrapper.setAttribute("data-transition-speed",l.transitionSpeed),g.wrapper.setAttribute("data-background-transition",l.backgroundTransition),g.viewport.style.setProperty("--slide-width",typeof l.width=="string"?l.width:l.width+"px"),g.viewport.style.setProperty("--slide-height",typeof l.height=="string"?l.height:l.height+"px"),l.shuffle&&ar(),lf(g.wrapper,"embedded",l.embedded),lf(g.wrapper,"rtl",l.rtl),lf(g.wrapper,"center",l.center),l.pause===!1&&As(),P.reset(),o&&(o.destroy(),o=null),B>1&&l.autoSlide&&l.autoSlideStoppable&&(o=new p1(g.wrapper,()=>Math.min(Math.max((Date.now()-E)/v,0),1)),o.on("click",AA),k=!1),l.navigationMode!=="default"?g.wrapper.setAttribute("data-navigation-mode",l.navigationMode):g.wrapper.removeAttribute("data-navigation-mode"),nt.configure(l,O),Rt.configure(l,O),N.configure(l,O),j.configure(l,O),D.configure(l,O),H.configure(l,O),F.configure(l,O),_.configure(l,O),Ra()}function vt(){window.addEventListener("resize",cm,!1),l.touch&&At.bind(),l.keyboard&&H.bind(),l.progress&&D.bind(),l.respondToHashChanges&&W.bind(),j.bind(),Rt.bind(),g.slides.addEventListener("click",lm,!1),g.slides.addEventListener("transitionend",om,!1),g.pauseOverlay.addEventListener("click",As,!1),l.focusBodyOnPageVisibilityChange&&document.addEventListener("visibilitychange",dm,!1)}function Lt(){At.unbind(),Rt.unbind(),H.unbind(),j.unbind(),D.unbind(),W.unbind(),window.removeEventListener("resize",cm,!1),g.slides.removeEventListener("click",lm,!1),g.slides.removeEventListener("transitionend",om,!1),g.pauseOverlay.removeEventListener("click",As,!1)}function ft(T,O,B){i.addEventListener(T,O,B)}function bt(T,O,B){i.removeEventListener(T,O,B)}function G(T){typeof T.layout=="string"&&(m.layout=T.layout),typeof T.overview=="string"&&(m.overview=T.overview),m.layout?Ei(g.slides,m.layout+" "+m.overview):Ei(g.slides,m.overview)}function K({target:T=g.wrapper,type:O,data:B,bubbles:U=!0}){let V=document.createEvent("HTMLEvents",1,2);return V.initEvent(O,U,!0),Ha(V,B),T.dispatchEvent(V),T===g.wrapper&&St(O),V}function ht(T){K({type:"slidechanged",data:{indexh:n,indexv:s,previousSlide:r,currentSlide:a,origin:T}})}function St(T,O){if(l.postMessageEvents&&window.parent!==window.self){let B={namespace:"reveal",eventName:T,state:Id()};Ha(B,O),window.parent.postMessage(JSON.stringify(B),"*")}}function xt(){if(g.wrapper&&!I.isActive()){const T=g.viewport.offsetWidth,O=g.viewport.offsetHeight;if(!l.disableLayout){Ua&&!l.embedded&&document.documentElement.style.setProperty("--vh",.01*window.innerHeight+"px");const B=C.isActive()?ie(T,O):ie(),U=p;ee(l.width,l.height),g.slides.style.width=B.width+"px",g.slides.style.height=B.height+"px",p=Math.min(B.presentationWidth/B.width,B.presentationHeight/B.height),p=Math.max(p,l.minScale),p=Math.min(p,l.maxScale),p===1||C.isActive()?(g.slides.style.zoom="",g.slides.style.left="",g.slides.style.top="",g.slides.style.bottom="",g.slides.style.right="",G({layout:""})):(g.slides.style.zoom="",g.slides.style.left="50%",g.slides.style.top="50%",g.slides.style.bottom="auto",g.slides.style.right="auto",G({layout:"translate(-50%, -50%) scale("+p+")"}));const V=Array.from(g.wrapper.querySelectorAll(br));for(let Ct=0,Ft=V.length;Ct<Ft;Ct++){const Xt=V[Ct];Xt.style.display!=="none"&&(l.center||Xt.classList.contains("center")?Xt.classList.contains("stack")?Xt.style.top=0:Xt.style.top=Math.max((B.height-Xt.scrollHeight)/2,0)+"px":Xt.style.top="")}U!==p&&K({type:"resize",data:{oldScale:U,scale:p,size:B}})}(function(){if(g.wrapper&&!l.disableLayout&&!I.isActive()&&typeof l.scrollActivationWidth=="number"&&l.view!=="scroll"){const B=ie();B.presentationWidth>0&&B.presentationWidth<=l.scrollActivationWidth?C.isActive()||(M.create(),C.activate()):C.isActive()&&C.deactivate()}})(),g.viewport.style.setProperty("--slide-scale",p),g.viewport.style.setProperty("--viewport-width",T+"px"),g.viewport.style.setProperty("--viewport-height",O+"px"),C.layout(),D.update(),M.updateParallax(),z.isActive()&&z.update()}}function ee(T,O){at(g.slides,"section > .stretch, section > .r-stretch").forEach(B=>{let U=((V,Ct=0)=>{if(V){let Ft,Xt=V.style.height;return V.style.height="0px",V.parentNode.style.height="auto",Ft=Ct-V.parentNode.offsetHeight,V.style.height=Xt+"px",V.parentNode.style.removeProperty("height"),Ft}return Ct})(B,O);if(/(img|video)/gi.test(B.nodeName)){const V=B.naturalWidth||B.videoWidth,Ct=B.naturalHeight||B.videoHeight,Ft=Math.min(T/V,U/Ct);B.style.width=V*Ft+"px",B.style.height=Ct*Ft+"px"}else B.style.width=T+"px",B.style.height=U+"px"})}function ie(T,O){let B=l.width,U=l.height;l.disableLayout&&(B=g.slides.offsetWidth,U=g.slides.offsetHeight);const V={width:B,height:U,presentationWidth:T||g.wrapper.offsetWidth,presentationHeight:O||g.wrapper.offsetHeight};return V.presentationWidth-=V.presentationWidth*l.margin,V.presentationHeight-=V.presentationHeight*l.margin,typeof V.width=="string"&&/%$/.test(V.width)&&(V.width=parseInt(V.width,10)/100*V.presentationWidth),typeof V.height=="string"&&/%$/.test(V.height)&&(V.height=parseInt(V.height,10)/100*V.presentationHeight),V}function me(T,O){typeof T=="object"&&typeof T.setAttribute=="function"&&T.setAttribute("data-previous-indexv",O||0)}function vn(T){if(typeof T=="object"&&typeof T.setAttribute=="function"&&T.classList.contains("stack")){const O=T.hasAttribute("data-start-indexv")?"data-start-indexv":"data-previous-indexv";return parseInt(T.getAttribute(O)||0,10)}return 0}function Re(T=a){return T&&T.parentNode&&!!T.parentNode.nodeName.match(/section/i)}function fi(){return!(!a||!Re(a))&&!a.nextElementSibling}function pi(){return n===0&&s===0}function gi(){return!!a&&!a.nextElementSibling&&(!Re(a)||!a.parentNode.nextElementSibling)}function rr(){if(l.pause){const T=g.wrapper.classList.contains("paused");Od(),g.wrapper.classList.add("paused"),T===!1&&K({type:"paused"})}}function As(){const T=g.wrapper.classList.contains("paused");g.wrapper.classList.remove("paused"),Ta(),T&&K({type:"resumed"})}function bn(T){typeof T=="boolean"?T?rr():As():yn()?As():rr()}function yn(){return g.wrapper.classList.contains("paused")}function oe(T,O,B,U){if(K({type:"beforeslidechange",data:{indexh:T===void 0?n:T,indexv:O===void 0?s:O,origin:U}}).defaultPrevented)return;r=a;const V=g.wrapper.querySelectorAll(bi);if(C.isActive()){const Ze=C.getSlideByIndices(T,O);return void(Ze&&C.scrollToSlide(Ze))}if(V.length===0)return;O!==void 0||z.isActive()||(O=vn(V[T])),r&&r.parentNode&&r.parentNode.classList.contains("stack")&&me(r.parentNode,s);const Ct=f.concat();f.length=0;let Ft=n||0,Xt=s||0;n=or(bi,T===void 0?n:T),s=or(yv,O===void 0?s:O);let xs=n!==Ft||s!==Xt;xs||(r=null);let lr=V[n],ze=lr.querySelectorAll("section");i.classList.toggle("is-vertical-slide",ze.length>1),a=ze[s]||lr;let Zt=!1;xs&&r&&a&&!z.isActive()&&(b="running",Zt=Ve(r,a,Ft,Xt),Zt&&g.slides.classList.add("disable-slide-transitions")),tl(),xt(),z.isActive()&&z.update(),B!==void 0&&F.goto(B),r&&r!==a&&(r.classList.remove("present"),r.setAttribute("aria-hidden","true"),pi()&&setTimeout(()=>{at(g.wrapper,bi+".stack").forEach(Ze=>{me(Ze,0)})},0));t:for(let Ze=0,xA=f.length;Ze<xA;Ze++){for(let Bd=0;Bd<Ct.length;Bd++)if(Ct[Bd]===f[Ze]){Ct.splice(Bd,1);continue t}g.viewport.classList.add(f[Ze]),K({type:f[Ze]})}for(;Ct.length;)g.viewport.classList.remove(Ct.pop());xs&&ht(U),!xs&&r||(S.stopEmbeddedContent(r),S.startEmbeddedContent(a)),requestAnimationFrame(()=>{Dt(Ot(a))}),D.update(),j.update(),nt.update(),M.update(),M.updateParallax(),_.update(),F.update(),W.writeURL(),Ta(),Zt&&(setTimeout(()=>{g.slides.classList.remove("disable-slide-transitions")},0),l.autoAnimate&&P.run(r,a))}function Ve(T,O,B,U){return T.hasAttribute("data-auto-animate")&&O.hasAttribute("data-auto-animate")&&T.getAttribute("data-auto-animate-id")===O.getAttribute("data-auto-animate-id")&&!(n>B||s>U?O:T).hasAttribute("data-auto-animate-restart")}function Ra(){Lt(),vt(),xt(),v=l.autoSlide,Ta(),M.create(),W.writeURL(),l.sortFragmentsOnSync===!0&&F.sortAll(),j.update(),D.update(),tl(),nt.update(),nt.updateVisibility(),lt.update(),M.update(!0),_.update(),S.formatEmbeddedContent(),l.autoPlayMedia===!1?S.stopEmbeddedContent(a,{unloadIframes:!1}):S.startEmbeddedContent(a),z.isActive()&&z.layout()}function ar(T=Tn()){T.forEach((O,B)=>{let U=T[Math.floor(Math.random()*T.length)];U.parentNode===O.parentNode&&O.parentNode.insertBefore(O,U);let V=O.querySelectorAll("section");V.length&&ar(V)})}function or(T,O){let B=at(g.wrapper,T),U=B.length,V=C.isActive()||I.isActive(),Ct=!1,Ft=!1;if(U){l.loop&&(O>=U&&(Ct=!0),(O%=U)<0&&(O=U+O,Ft=!0)),O=Math.max(Math.min(O,U-1),0);for(let ze=0;ze<U;ze++){let Zt=B[ze],Ze=l.rtl&&!Re(Zt);Zt.classList.remove("past"),Zt.classList.remove("present"),Zt.classList.remove("future"),Zt.setAttribute("hidden",""),Zt.setAttribute("aria-hidden","true"),Zt.querySelector("section")&&Zt.classList.add("stack"),V?Zt.classList.add("present"):ze<O?(Zt.classList.add(Ze?"future":"past"),l.fragments&&Td(Zt)):ze>O?(Zt.classList.add(Ze?"past":"future"),l.fragments&&Pd(Zt)):ze===O&&l.fragments&&(Ct?Pd(Zt):Ft&&Td(Zt))}let Xt=B[O],xs=Xt.classList.contains("present");Xt.classList.add("present"),Xt.removeAttribute("hidden"),Xt.removeAttribute("aria-hidden"),xs||K({target:Xt,type:"visible",bubbles:!1});let lr=Xt.getAttribute("data-state");lr&&(f=f.concat(lr.split(" ")))}else O=0;return O}function Td(T){at(T,".fragment").forEach(O=>{O.classList.add("visible"),O.classList.remove("current-fragment")})}function Pd(T){at(T,".fragment.visible").forEach(O=>{O.classList.remove("visible","current-fragment")})}function tl(){let T,O,B=Tn(),U=B.length;if(U&&n!==void 0){let V=z.isActive()?10:l.viewDistance;Ua&&(V=z.isActive()?6:l.mobileViewDistance),I.isActive()&&(V=Number.MAX_VALUE);for(let Ct=0;Ct<U;Ct++){let Ft=B[Ct],Xt=at(Ft,"section"),xs=Xt.length;if(T=Math.abs((n||0)-Ct)||0,l.loop&&(T=Math.abs(((n||0)-Ct)%(U-V))||0),T<V?S.load(Ft):S.unload(Ft),xs){let lr=vn(Ft);for(let ze=0;ze<xs;ze++){let Zt=Xt[ze];O=Math.abs(Ct===(n||0)?(s||0)-ze:ze-lr),T+O<V?S.load(Zt):S.unload(Zt)}}}Md()?g.wrapper.classList.add("has-vertical-slides"):g.wrapper.classList.remove("has-vertical-slides"),il()?g.wrapper.classList.add("has-horizontal-slides"):g.wrapper.classList.remove("has-horizontal-slides")}}function Rn({includeFragments:T=!1}={}){let O=g.wrapper.querySelectorAll(bi),B=g.wrapper.querySelectorAll(yv),U={left:n>0,right:n<O.length-1,up:s>0,down:s<B.length-1};if(l.loop&&(O.length>1&&(U.left=!0,U.right=!0),B.length>1&&(U.up=!0,U.down=!0)),O.length>1&&l.navigationMode==="linear"&&(U.right=U.right||U.down,U.left=U.left||U.up),T===!0){let V=F.availableRoutes();U.left=U.left||V.prev,U.up=U.up||V.prev,U.down=U.down||V.next,U.right=U.right||V.next}if(l.rtl){let V=U.left;U.left=U.right,U.right=V}return U}function Ld(T=a){let O=Tn(),B=0;t:for(let U=0;U<O.length;U++){let V=O[U],Ct=V.querySelectorAll("section");for(let Ft=0;Ft<Ct.length;Ft++){if(Ct[Ft]===T)break t;Ct[Ft].dataset.visibility!=="uncounted"&&B++}if(V===T)break;V.classList.contains("stack")===!1&&V.dataset.visibility!=="uncounted"&&B++}return B}function el(T){let O,B=n,U=s;if(T)if(C.isActive())B=parseInt(T.getAttribute("data-index-h"),10),T.getAttribute("data-index-v")&&(U=parseInt(T.getAttribute("data-index-v"),10));else{let V=Re(T),Ct=V?T.parentNode:T,Ft=Tn();B=Math.max(Ft.indexOf(Ct),0),U=void 0,V&&(U=Math.max(at(T.parentNode,"section").indexOf(T),0))}if(!T&&a&&a.querySelectorAll(".fragment").length>0){let V=a.querySelector(".current-fragment");O=V&&V.hasAttribute("data-fragment-index")?parseInt(V.getAttribute("data-fragment-index"),10):a.querySelectorAll(".fragment.visible").length-1}return{h:B,v:U,f:O}}function nl(){return at(g.wrapper,br+':not(.stack):not([data-visibility="uncounted"])')}function Tn(){return at(g.wrapper,bi)}function sl(){return at(g.wrapper,".slides>section>section")}function il(){return Tn().length>1}function Md(){return sl().length>1}function rl(){return nl().length}function al(T,O){let B=Tn()[T],U=B&&B.querySelectorAll("section");return U&&U.length&&typeof O=="number"?U?U[O]:void 0:B}function Id(){let T=el();return{indexh:T.h,indexv:T.v,indexf:T.f,paused:yn(),overview:z.isActive(),...lt.getState()}}function Ta(){if(Od(),a&&l.autoSlide!==!1){let T=a.querySelector(".current-fragment[data-autoslide]"),O=T?T.getAttribute("data-autoslide"):null,B=a.parentNode?a.parentNode.getAttribute("data-autoslide"):null,U=a.getAttribute("data-autoslide");O?v=parseInt(O,10):U?v=parseInt(U,10):B?v=parseInt(B,10):(v=l.autoSlide,a.querySelectorAll(".fragment").length===0&&at(a,"video, audio").forEach(V=>{V.hasAttribute("data-autoplay")&&v&&1e3*V.duration/V.playbackRate>v&&(v=1e3*V.duration/V.playbackRate+1e3)})),!v||k||yn()||z.isActive()||gi()&&!F.availableRoutes().next&&l.loop!==!0||(A=setTimeout(()=>{typeof l.autoSlideMethod=="function"?l.autoSlideMethod():Wu(),Ta()},v),E=Date.now()),o&&o.setPlaying(A!==-1)}}function Od(){clearTimeout(A),A=-1}function Nd(){v&&!k&&(k=!0,K({type:"autoslidepaused"}),clearTimeout(A),o&&o.setPlaying(!1))}function Dd(){v&&k&&(k=!1,K({type:"autoslideresumed"}),Ta())}function Fd({skipFragments:T=!1}={}){if(u.hasNavigatedHorizontally=!0,C.isActive())return C.prev();l.rtl?(z.isActive()||T||F.next()===!1)&&Rn().left&&oe(n+1,l.navigationMode==="grid"?s:void 0):(z.isActive()||T||F.prev()===!1)&&Rn().left&&oe(n-1,l.navigationMode==="grid"?s:void 0)}function zd({skipFragments:T=!1}={}){if(u.hasNavigatedHorizontally=!0,C.isActive())return C.next();l.rtl?(z.isActive()||T||F.prev()===!1)&&Rn().right&&oe(n-1,l.navigationMode==="grid"?s:void 0):(z.isActive()||T||F.next()===!1)&&Rn().right&&oe(n+1,l.navigationMode==="grid"?s:void 0)}function ju({skipFragments:T=!1}={}){if(C.isActive())return C.prev();(z.isActive()||T||F.prev()===!1)&&Rn().up&&oe(n,s-1)}function Uu({skipFragments:T=!1}={}){if(u.hasNavigatedVertically=!0,C.isActive())return C.next();(z.isActive()||T||F.next()===!1)&&Rn().down&&oe(n,s+1)}function rm({skipFragments:T=!1}={}){if(C.isActive())return C.prev();if(T||F.prev()===!1)if(Rn().up)ju({skipFragments:T});else{let O;if(O=l.rtl?at(g.wrapper,bi+".future").pop():at(g.wrapper,bi+".past").pop(),O&&O.classList.contains("stack")){let B=O.querySelectorAll("section").length-1||void 0;oe(n-1,B)}else l.rtl?zd({skipFragments:T}):Fd({skipFragments:T})}}function Wu({skipFragments:T=!1}={}){if(u.hasNavigatedHorizontally=!0,u.hasNavigatedVertically=!0,C.isActive())return C.next();if(T||F.next()===!1){let O=Rn();O.down&&O.right&&l.loop&&fi()&&(O.down=!1),O.down?Uu({skipFragments:T}):l.rtl?Fd({skipFragments:T}):zd({skipFragments:T})}}function am(T){let O=T.data;if(typeof O=="string"&&O.charAt(0)==="{"&&O.charAt(O.length-1)==="}"&&(O=JSON.parse(O),O.method&&typeof e[O.method]=="function"))if(YC.test(O.method)===!1){const B=e[O.method].apply(e,O.args);St("callback",{method:O.method,result:B})}else console.warn('reveal.js: "'+O.method+'" is is blacklisted from the postMessage API')}function om(T){b==="running"&&/section/gi.test(T.target.nodeName)&&(b="idle",K({type:"slidetransitionend",data:{indexh:n,indexv:s,previousSlide:r,currentSlide:a}}))}function lm(T){const O=Ie(T.target,'a[href^="#"]');if(O){const B=O.getAttribute("href"),U=W.getIndicesFromHash(B);U&&(e.slide(U.h,U.v,U.f),T.preventDefault())}}function cm(T){xt()}function dm(T){document.hidden===!1&&document.activeElement!==document.body&&(typeof document.activeElement.blur=="function"&&document.activeElement.blur(),document.body.focus())}function Hd(T){(document.fullscreenElement||document.webkitFullscreenElement)===g.wrapper&&(T.stopImmediatePropagation(),setTimeout(()=>{e.layout(),e.focus.focus()},1))}function AA(T){gi()&&l.loop===!1?(oe(0,0),Dd()):k?Dd():Nd()}const hm={VERSION:ew,initialize:function(T){if(!i)throw'Unable to find presentation root (<div class="reveal">).';if(c)throw"Reveal.js has already been initialized.";if(c=!0,g.wrapper=i,g.slides=i.querySelector(".slides"),!g.slides)throw'Unable to find slides container (<div class="slides">).';return l={...g1,...l,...t,...T,...bv()},/print-pdf/gi.test(window.location.search)&&(l.view="print"),function(){l.embedded===!0?g.viewport=Ie(i,".reveal-viewport")||i:(g.viewport=document.body,document.documentElement.classList.add("reveal-full-page")),g.viewport.classList.add("reveal-viewport")}(),window.addEventListener("load",xt,!1),ot.load(l.plugins,l.dependencies).then(mt),new Promise(O=>e.on("ready",O))},configure:Q,destroy:function(){c=!1,h!==!1&&(Lt(),Od(),nt.destroy(),Rt.destroy(),lt.destroy(),ot.destroy(),N.destroy(),j.destroy(),D.destroy(),M.destroy(),_.destroy(),L.destroy(),document.removeEventListener("fullscreenchange",Hd),document.removeEventListener("webkitfullscreenchange",Hd),document.removeEventListener("visibilitychange",dm,!1),window.removeEventListener("message",am,!1),window.removeEventListener("load",xt,!1),g.pauseOverlay&&g.pauseOverlay.remove(),g.statusElement&&g.statusElement.remove(),document.documentElement.classList.remove("reveal-full-page"),g.wrapper.classList.remove("ready","center","has-horizontal-slides","has-vertical-slides"),g.wrapper.removeAttribute("data-transition-speed"),g.wrapper.removeAttribute("data-background-transition"),g.viewport.classList.remove("reveal-viewport"),g.viewport.style.removeProperty("--slide-width"),g.viewport.style.removeProperty("--slide-height"),g.slides.style.removeProperty("width"),g.slides.style.removeProperty("height"),g.slides.style.removeProperty("zoom"),g.slides.style.removeProperty("left"),g.slides.style.removeProperty("top"),g.slides.style.removeProperty("bottom"),g.slides.style.removeProperty("right"),g.slides.style.removeProperty("transform"),Array.from(g.wrapper.querySelectorAll(br)).forEach(T=>{T.style.removeProperty("display"),T.style.removeProperty("top"),T.removeAttribute("hidden"),T.removeAttribute("aria-hidden")}))},sync:Ra,syncSlide:function(T=a){M.sync(T),F.sync(T),S.load(T),M.update(),nt.update()},syncFragments:F.sync.bind(F),slide:oe,left:Fd,right:zd,up:ju,down:Uu,prev:rm,next:Wu,navigateLeft:Fd,navigateRight:zd,navigateUp:ju,navigateDown:Uu,navigatePrev:rm,navigateNext:Wu,navigateFragment:F.goto.bind(F),prevFragment:F.prev.bind(F),nextFragment:F.next.bind(F),on:ft,off:bt,addEventListener:ft,removeEventListener:bt,layout:xt,shuffle:ar,availableRoutes:Rn,availableFragments:F.availableRoutes.bind(F),toggleHelp:lt.toggleHelp.bind(lt),toggleOverview:z.toggle.bind(z),toggleScrollView:C.toggle.bind(C),togglePause:bn,toggleAutoSlide:function(T){typeof T=="boolean"?T?Dd():Nd():k?Dd():Nd()},toggleJumpToSlide:function(T){typeof T=="boolean"?T?L.show():L.hide():L.isVisible()?L.hide():L.show()},isFirstSlide:pi,isLastSlide:gi,isLastVerticalSlide:fi,isVerticalSlide:Re,isVerticalStack:function(T=a){return T.classList.contains(".stack")||T.querySelector("section")!==null},isPaused:yn,isAutoSliding:function(){return!(!v||k)},isSpeakerNotes:nt.isSpeakerNotesWindow.bind(nt),isOverview:z.isActive.bind(z),isFocused:Rt.isFocused.bind(Rt),isOverlayOpen:lt.isOpen.bind(lt),isScrollView:C.isActive.bind(C),isPrintView:I.isActive.bind(I),isReady:()=>h,loadSlide:S.load.bind(S),unloadSlide:S.unload.bind(S),startEmbeddedContent:()=>S.startEmbeddedContent(a),stopEmbeddedContent:()=>S.stopEmbeddedContent(a,{unloadIframes:!1}),previewIframe:lt.previewIframe.bind(lt),previewImage:lt.previewImage.bind(lt),previewVideo:lt.previewVideo.bind(lt),showPreview:lt.previewIframe.bind(lt),hidePreview:lt.close.bind(lt),addEventListeners:vt,removeEventListeners:Lt,dispatchEvent:K,getState:Id,setState:function(T){if(typeof T=="object"){oe(La(T.indexh),La(T.indexv),La(T.indexf));let O=La(T.paused),B=La(T.overview);typeof O=="boolean"&&O!==yn()&&bn(O),typeof B=="boolean"&&B!==z.isActive()&&z.toggle(B),lt.setState(T)}},getProgress:function(){let T=rl(),O=Ld();if(a){let B=a.querySelectorAll(".fragment");B.length>0&&(O+=a.querySelectorAll(".fragment.visible").length/B.length*.9)}return Math.min(O/(T-1),1)},getIndices:el,getSlidesAttributes:function(){return nl().map(T=>{let O={};for(let B=0;B<T.attributes.length;B++){let U=T.attributes[B];O[U.name]=U.value}return O})},getSlidePastCount:Ld,getTotalSlides:rl,getSlide:al,getPreviousSlide:()=>r,getCurrentSlide:()=>a,getSlideBackground:function(T,O){let B=typeof T=="number"?al(T,O):T;if(B)return B.slideBackgroundElement},getSlideNotes:nt.getSlideNotes.bind(nt),getSlides:nl,getHorizontalSlides:Tn,getVerticalSlides:sl,hasHorizontalSlides:il,hasVerticalSlides:Md,hasNavigatedHorizontally:()=>u.hasNavigatedHorizontally,hasNavigatedVertically:()=>u.hasNavigatedVertically,shouldAutoAnimateBetween:Ve,addKeyBinding:H.addKeyBinding.bind(H),removeKeyBinding:H.removeKeyBinding.bind(H),triggerKey:H.triggerKey.bind(H),registerKeyboardShortcut:H.registerKeyboardShortcut.bind(H),getComputedSlideSize:ie,setCurrentScrollPage:function(T,O,B){let U=n||0;n=O,s=B;const V=a!==T;r=a,a=T,a&&r&&l.autoAnimate&&Ve(r,a,U,s)&&P.run(r,a),V&&(r&&(S.stopEmbeddedContent(r),S.stopEmbeddedContent(r.slideBackgroundElement)),S.startEmbeddedContent(a),S.startEmbeddedContent(a.slideBackgroundElement)),requestAnimationFrame(()=>{Dt(Ot(a))}),ht()},getScale:()=>p,getConfig:()=>l,getQueryHash:bv,getSlidePath:W.getHash.bind(W),getRevealElement:()=>i,getSlidesElement:()=>g.slides,getViewportElement:()=>g.viewport,getBackgroundsElement:()=>M.element,registerPlugin:ot.registerPlugin.bind(ot),hasPlugin:ot.hasPlugin.bind(ot),getPlugin:ot.getPlugin.bind(ot),getPlugins:ot.getRegisteredPlugins.bind(ot)};return Ha(e,{...hm,announceStatus:Dt,getStatusText:Ot,focus:Rt,scroll:C,progress:D,controls:j,location:W,overview:z,keyboard:H,fragments:F,backgrounds:M,slideContent:S,slideNumber:_,onUserInput:function(T){l.autoSlideStoppable&&Nd()},closeOverlay:lt.close.bind(lt),updateSlidesVisibility:tl,layoutSlideContents:ee,transformSlides:G,cueAutoSlide:Ta,cancelAutoSlide:Od}),hm}let dr=nw,Ev=[];dr.initialize=i=>(Object.assign(dr,new nw(document.querySelector(".reveal"),i)),Ev.map(t=>t(dr)),dr.initialize()),["configure","on","off","addEventListener","removeEventListener","registerPlugin"].forEach(i=>{dr[i]=(...t)=>{Ev.push(e=>e[i].call(null,...t))}}),dr.isReady=()=>!1,dr.VERSION=ew;function m1(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let ba={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const sw=/[&<>"']/,v1=new RegExp(sw.source,"g"),iw=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,b1=new RegExp(iw.source,"g"),y1={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Sv=i=>y1[i];function Oe(i,t){if(t){if(sw.test(i))return i.replace(v1,Sv)}else if(iw.test(i))return i.replace(b1,Sv);return i}const w1=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function rw(i){return i.replace(w1,(t,e)=>(e=e.toLowerCase())==="colon"?":":e.charAt(0)==="#"?e.charAt(1)==="x"?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):"")}const A1=/(^|[^\[])\^/g;function Wt(i,t){i=typeof i=="string"?i:i.source,t=t||"";const e={replace:(n,s)=>(s=(s=s.source||s).replace(A1,"$1"),i=i.replace(n,s),e),getRegex:()=>new RegExp(i,t)};return e}const x1=/[^\w:]/g,E1=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function kv(i,t,e){if(i){let n;try{n=decodeURIComponent(rw(e)).replace(x1,"").toLowerCase()}catch{return null}if(n.indexOf("javascript:")===0||n.indexOf("vbscript:")===0||n.indexOf("data:")===0)return null}t&&!E1.test(e)&&(e=function(n,s){Gd[" "+n]||(S1.test(n)?Gd[" "+n]=n+"/":Gd[" "+n]=sh(n,"/",!0)),n=Gd[" "+n];const r=n.indexOf(":")===-1;return s.substring(0,2)==="//"?r?s:n.replace(k1,"$1")+s:s.charAt(0)==="/"?r?s:n.replace(_1,"$1")+s:n+s}(t,e));try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const Gd={},S1=/^[^:]+:\/*[^/]*$/,k1=/^([^:]+:)[\s\S]*$/,_1=/^([^:]+:\/*[^/]*)[\s\S]*$/,jh={exec:function(){}};function _v(i,t){const e=i.replace(/\|/g,(s,r,a)=>{let o=!1,l=r;for(;--l>=0&&a[l]==="\\";)o=!o;return o?"|":" |"}).split(/ \|/);let n=0;if(e[0].trim()||e.shift(),e.length>0&&!e[e.length-1].trim()&&e.pop(),e.length>t)e.splice(t);else for(;e.length<t;)e.push("");for(;n<e.length;n++)e[n]=e[n].trim().replace(/\\\|/g,"|");return e}function sh(i,t,e){const n=i.length;if(n===0)return"";let s=0;for(;s<n;){const r=i.charAt(n-s-1);if(r!==t||e){if(r===t||!e)break;s++}else s++}return i.slice(0,n-s)}function Cv(i,t){if(t<1)return"";let e="";for(;t>1;)1&t&&(e+=i),t>>=1,i+=i;return e+i}function Rv(i,t,e,n){const s=t.href,r=t.title?Oe(t.title):null,a=i[1].replace(/\\([\[\]])/g,"$1");if(i[0].charAt(0)!=="!"){n.state.inLink=!0;const o={type:"link",raw:e,href:s,title:r,text:a,tokens:n.inlineTokens(a)};return n.state.inLink=!1,o}return{type:"image",raw:e,href:s,title:r,text:Oe(a)}}class Xf{constructor(t){this.options=t||ba}space(t){const e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){const e=this.rules.block.code.exec(t);if(e){const n=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?n:sh(n,`
`)}}}fences(t){const e=this.rules.block.fences.exec(t);if(e){const n=e[0],s=function(r,a){const o=r.match(/^(\s+)(?:```)/);if(o===null)return a;const l=o[1];return a.split(`
`).map(c=>{const h=c.match(/^\s+/);if(h===null)return c;const[u]=h;return u.length>=l.length?c.slice(l.length):c}).join(`
`)}(n,e[3]||"");return{type:"code",raw:n,lang:e[2]?e[2].trim().replace(this.rules.inline._escapes,"$1"):e[2],text:s}}}heading(t){const e=this.rules.block.heading.exec(t);if(e){let n=e[2].trim();if(/#$/.test(n)){const s=sh(n,"#");this.options.pedantic?n=s.trim():s&&!/ $/.test(s)||(n=s.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){const e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:e[0]}}blockquote(t){const e=this.rules.block.blockquote.exec(t);if(e){const n=e[0].replace(/^ *>[ \t]?/gm,""),s=this.lexer.state.top;this.lexer.state.top=!0;const r=this.lexer.blockTokens(n);return this.lexer.state.top=s,{type:"blockquote",raw:e[0],tokens:r,text:n}}}list(t){let e=this.rules.block.list.exec(t);if(e){let n,s,r,a,o,l,c,h,u,f,p,m,g=e[1].trim();const b=g.length>1,v={type:"list",raw:"",ordered:b,start:b?+g.slice(0,-1):"",loose:!1,items:[]};g=b?`\\d{1,9}\\${g.slice(-1)}`:`\\${g}`,this.options.pedantic&&(g=b?g:"[*+-]");const A=new RegExp(`^( {0,3}${g})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;t&&(m=!1,e=A.exec(t))&&!this.rules.block.hr.test(t);){if(n=e[0],t=t.substring(n.length),h=e[2].split(`
`,1)[0].replace(/^\t+/,k=>" ".repeat(3*k.length)),u=t.split(`
`,1)[0],this.options.pedantic?(a=2,p=h.trimLeft()):(a=e[2].search(/[^ ]/),a=a>4?1:a,p=h.slice(a),a+=e[1].length),l=!1,!h&&/^ *$/.test(u)&&(n+=u+`
`,t=t.substring(u.length+1),m=!0),!m){const k=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),S=new RegExp(`^ {0,${Math.min(3,a-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),_=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:\`\`\`|~~~)`),L=new RegExp(`^ {0,${Math.min(3,a-1)}}#`);for(;t&&(f=t.split(`
`,1)[0],u=f,this.options.pedantic&&(u=u.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!_.test(u))&&!L.test(u)&&!k.test(u)&&!S.test(t);){if(u.search(/[^ ]/)>=a||!u.trim())p+=`
`+u.slice(a);else{if(l||h.search(/[^ ]/)>=4||_.test(h)||L.test(h)||S.test(h))break;p+=`
`+u}l||u.trim()||(l=!0),n+=f+`
`,t=t.substring(f.length+1),h=u.slice(a)}}v.loose||(c?v.loose=!0:/\n *\n *$/.test(n)&&(c=!0)),this.options.gfm&&(s=/^\[[ xX]\] /.exec(p),s&&(r=s[0]!=="[ ] ",p=p.replace(/^\[[ xX]\] +/,""))),v.items.push({type:"list_item",raw:n,task:!!s,checked:r,loose:!1,text:p}),v.raw+=n}v.items[v.items.length-1].raw=n.trimRight(),v.items[v.items.length-1].text=p.trimRight(),v.raw=v.raw.trimRight();const E=v.items.length;for(o=0;o<E;o++)if(this.lexer.state.top=!1,v.items[o].tokens=this.lexer.blockTokens(v.items[o].text,[]),!v.loose){const k=v.items[o].tokens.filter(_=>_.type==="space"),S=k.length>0&&k.some(_=>/\n.*\n/.test(_.raw));v.loose=S}if(v.loose)for(o=0;o<E;o++)v.items[o].loose=!0;return v}}html(t){const e=this.rules.block.html.exec(t);if(e){const n={type:"html",raw:e[0],pre:!this.options.sanitizer&&(e[1]==="pre"||e[1]==="script"||e[1]==="style"),text:e[0]};if(this.options.sanitize){const s=this.options.sanitizer?this.options.sanitizer(e[0]):Oe(e[0]);n.type="paragraph",n.text=s,n.tokens=this.lexer.inline(s)}return n}}def(t){const e=this.rules.block.def.exec(t);if(e){const n=e[1].toLowerCase().replace(/\s+/g," "),s=e[2]?e[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",r=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline._escapes,"$1"):e[3];return{type:"def",tag:n,raw:e[0],href:s,title:r}}}table(t){const e=this.rules.block.table.exec(t);if(e){const n={type:"table",header:_v(e[1]).map(s=>({text:s})),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(n.header.length===n.align.length){n.raw=e[0];let s,r,a,o,l=n.align.length;for(s=0;s<l;s++)/^ *-+: *$/.test(n.align[s])?n.align[s]="right":/^ *:-+: *$/.test(n.align[s])?n.align[s]="center":/^ *:-+ *$/.test(n.align[s])?n.align[s]="left":n.align[s]=null;for(l=n.rows.length,s=0;s<l;s++)n.rows[s]=_v(n.rows[s],n.header.length).map(c=>({text:c}));for(l=n.header.length,r=0;r<l;r++)n.header[r].tokens=this.lexer.inline(n.header[r].text);for(l=n.rows.length,r=0;r<l;r++)for(o=n.rows[r],a=0;a<o.length;a++)o[a].tokens=this.lexer.inline(o[a].text);return n}}}lheading(t){const e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){const e=this.rules.block.paragraph.exec(t);if(e){const n=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:n,tokens:this.lexer.inline(n)}}}text(t){const e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){const e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:Oe(e[1])}}tag(t){const e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):Oe(e[0]):e[0]}}link(t){const e=this.rules.inline.link.exec(t);if(e){const n=e[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const a=sh(n.slice(0,-1),"\\");if((n.length-a.length)%2==0)return}else{const a=function(o,l){if(o.indexOf(l[1])===-1)return-1;const c=o.length;let h=0,u=0;for(;u<c;u++)if(o[u]==="\\")u++;else if(o[u]===l[0])h++;else if(o[u]===l[1]&&(h--,h<0))return u;return-1}(e[2],"()");if(a>-1){const o=(e[0].indexOf("!")===0?5:4)+e[1].length+a;e[2]=e[2].substring(0,a),e[0]=e[0].substring(0,o).trim(),e[3]=""}}let s=e[2],r="";if(this.options.pedantic){const a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);a&&(s=a[1],r=a[3])}else r=e[3]?e[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(s=this.options.pedantic&&!/>$/.test(n)?s.slice(1):s.slice(1,-1)),Rv(e,{href:s&&s.replace(this.rules.inline._escapes,"$1"),title:r&&r.replace(this.rules.inline._escapes,"$1")},e[0],this.lexer)}}reflink(t,e){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let s=(n[2]||n[1]).replace(/\s+/g," ");if(s=e[s.toLowerCase()],!s){const r=n[0].charAt(0);return{type:"text",raw:r,text:r}}return Rv(n,s,n[0],this.lexer)}}emStrong(t,e,n=""){let s=this.rules.inline.emStrong.lDelim.exec(t);if(!s||s[3]&&n.match(/[\p{L}\p{N}]/u))return;const r=s[1]||s[2]||"";if(!r||r&&(n===""||this.rules.inline.punctuation.exec(n))){const a=s[0].length-1;let o,l,c=a,h=0;const u=s[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(u.lastIndex=0,e=e.slice(-1*t.length+a);(s=u.exec(e))!=null;){if(o=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!o)continue;if(l=o.length,s[3]||s[4]){c+=l;continue}if((s[5]||s[6])&&a%3&&!((a+l)%3)){h+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+h);const f=t.slice(0,a+s.index+(s[0].length-o.length)+l);if(Math.min(a,l)%2){const m=f.slice(1,-1);return{type:"em",raw:f,text:m,tokens:this.lexer.inlineTokens(m)}}const p=f.slice(2,-2);return{type:"strong",raw:f,text:p,tokens:this.lexer.inlineTokens(p)}}}}codespan(t){const e=this.rules.inline.code.exec(t);if(e){let n=e[2].replace(/\n/g," ");const s=/[^ ]/.test(n),r=/^ /.test(n)&&/ $/.test(n);return s&&r&&(n=n.substring(1,n.length-1)),n=Oe(n,!0),{type:"codespan",raw:e[0],text:n}}}br(t){const e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t,e){const n=this.rules.inline.autolink.exec(t);if(n){let s,r;return n[2]==="@"?(s=Oe(this.options.mangle?e(n[1]):n[1]),r="mailto:"+s):(s=Oe(n[1]),r=s),{type:"link",raw:n[0],text:s,href:r,tokens:[{type:"text",raw:s,text:s}]}}}url(t,e){let n;if(n=this.rules.inline.url.exec(t)){let s,r;if(n[2]==="@")s=Oe(this.options.mangle?e(n[0]):n[0]),r="mailto:"+s;else{let a;do a=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0];while(a!==n[0]);s=Oe(n[0]),r=n[1]==="www."?"http://"+n[0]:n[0]}return{type:"link",raw:n[0],text:s,href:r,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(t,e){const n=this.rules.inline.text.exec(t);if(n){let s;return s=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Oe(n[0]):n[0]:Oe(this.options.smartypants?e(n[0]):n[0]),{type:"text",raw:n[0],text:s}}}}const dt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:jh,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};dt.def=Wt(dt.def).replace("label",dt._label).replace("title",dt._title).getRegex(),dt.bullet=/(?:[*+-]|\d{1,9}[.)])/,dt.listItemStart=Wt(/^( *)(bull) */).replace("bull",dt.bullet).getRegex(),dt.list=Wt(dt.list).replace(/bull/g,dt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+dt.def.source+")").getRegex(),dt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",dt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,dt.html=Wt(dt.html,"i").replace("comment",dt._comment).replace("tag",dt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),dt.paragraph=Wt(dt._paragraph).replace("hr",dt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",dt._tag).getRegex(),dt.blockquote=Wt(dt.blockquote).replace("paragraph",dt.paragraph).getRegex(),dt.normal={...dt},dt.gfm={...dt.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},dt.gfm.table=Wt(dt.gfm.table).replace("hr",dt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",dt._tag).getRegex(),dt.gfm.paragraph=Wt(dt._paragraph).replace("hr",dt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",dt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",dt._tag).getRegex(),dt.pedantic={...dt.normal,html:Wt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",dt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:jh,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Wt(dt.normal._paragraph).replace("hr",dt.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",dt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const J={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:jh,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:jh,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function C1(i){return i.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function Tv(i){let t,e,n="";const s=i.length;for(t=0;t<s;t++)e=i.charCodeAt(t),Math.random()>.5&&(e="x"+e.toString(16)),n+="&#"+e+";";return n}J._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",J.punctuation=Wt(J.punctuation).replace(/punctuation/g,J._punctuation).getRegex(),J.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,J.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,J._comment=Wt(dt._comment).replace("(?:-->|$)","-->").getRegex(),J.emStrong.lDelim=Wt(J.emStrong.lDelim).replace(/punct/g,J._punctuation).getRegex(),J.emStrong.rDelimAst=Wt(J.emStrong.rDelimAst,"g").replace(/punct/g,J._punctuation).getRegex(),J.emStrong.rDelimUnd=Wt(J.emStrong.rDelimUnd,"g").replace(/punct/g,J._punctuation).getRegex(),J._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,J._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,J._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,J.autolink=Wt(J.autolink).replace("scheme",J._scheme).replace("email",J._email).getRegex(),J._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,J.tag=Wt(J.tag).replace("comment",J._comment).replace("attribute",J._attribute).getRegex(),J._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,J._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,J._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,J.link=Wt(J.link).replace("label",J._label).replace("href",J._href).replace("title",J._title).getRegex(),J.reflink=Wt(J.reflink).replace("label",J._label).replace("ref",dt._label).getRegex(),J.nolink=Wt(J.nolink).replace("ref",dt._label).getRegex(),J.reflinkSearch=Wt(J.reflinkSearch,"g").replace("reflink",J.reflink).replace("nolink",J.nolink).getRegex(),J.normal={...J},J.pedantic={...J.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Wt(/^!?\[(label)\]\((.*?)\)/).replace("label",J._label).getRegex(),reflink:Wt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",J._label).getRegex()},J.gfm={...J.normal,escape:Wt(J.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},J.gfm.url=Wt(J.gfm.url,"i").replace("email",J.gfm._extended_email).getRegex(),J.breaks={...J.gfm,br:Wt(J.br).replace("{2,}","*").getRegex(),text:Wt(J.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class qi{constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||ba,this.options.tokenizer=this.options.tokenizer||new Xf,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={block:dt.normal,inline:J.normal};this.options.pedantic?(e.block=dt.pedantic,e.inline=J.pedantic):this.options.gfm&&(e.block=dt.gfm,this.options.breaks?e.inline=J.breaks:e.inline=J.gfm),this.tokenizer.rules=e}static get rules(){return{block:dt,inline:J}}static lex(t,e){return new qi(e).lex(t)}static lexInline(t,e){return new qi(e).inlineTokens(t)}lex(t){let e;for(t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);e=this.inlineQueue.shift();)this.inlineTokens(e.src,e.tokens);return this.tokens}blockTokens(t,e=[]){let n,s,r,a;for(t=this.options.pedantic?t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t.replace(/^( *)(\t+)/gm,(o,l,c)=>l+"    ".repeat(c.length));t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(o=>!!(n=o.call({lexer:this},t,e))&&(t=t.substring(n.raw.length),e.push(n),!0))))if(n=this.tokenizer.space(t))t=t.substring(n.raw.length),n.raw.length===1&&e.length>0?e[e.length-1].raw+=`
`:e.push(n);else if(n=this.tokenizer.code(t))t=t.substring(n.raw.length),s=e[e.length-1],!s||s.type!=="paragraph"&&s.type!=="text"?e.push(n):(s.raw+=`
`+n.raw,s.text+=`
`+n.text,this.inlineQueue[this.inlineQueue.length-1].src=s.text);else if(n=this.tokenizer.fences(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.heading(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.hr(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.blockquote(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.list(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.html(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.def(t))t=t.substring(n.raw.length),s=e[e.length-1],!s||s.type!=="paragraph"&&s.type!=="text"?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(s.raw+=`
`+n.raw,s.text+=`
`+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=s.text);else if(n=this.tokenizer.table(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.lheading(t))t=t.substring(n.raw.length),e.push(n);else{if(r=t,this.options.extensions&&this.options.extensions.startBlock){let o=1/0;const l=t.slice(1);let c;this.options.extensions.startBlock.forEach(function(h){c=h.call({lexer:this},l),typeof c=="number"&&c>=0&&(o=Math.min(o,c))}),o<1/0&&o>=0&&(r=t.substring(0,o+1))}if(this.state.top&&(n=this.tokenizer.paragraph(r)))s=e[e.length-1],a&&s.type==="paragraph"?(s.raw+=`
`+n.raw,s.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):e.push(n),a=r.length!==t.length,t=t.substring(n.raw.length);else if(n=this.tokenizer.text(t))t=t.substring(n.raw.length),s=e[e.length-1],s&&s.type==="text"?(s.raw+=`
`+n.raw,s.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):e.push(n);else if(t){const o="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(o);break}throw new Error(o)}}return this.state.top=!0,e}inline(t,e=[]){return this.inlineQueue.push({src:t,tokens:e}),e}inlineTokens(t,e=[]){let n,s,r,a,o,l,c=t;if(this.tokens.links){const h=Object.keys(this.tokens.links);if(h.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(c))!=null;)h.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,a.index)+"["+Cv("a",a[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(c))!=null;)c=c.slice(0,a.index)+"["+Cv("a",a[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.escapedEmSt.exec(c))!=null;)c=c.slice(0,a.index+a[0].length-2)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;t;)if(o||(l=""),o=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(h=>!!(n=h.call({lexer:this},t,e))&&(t=t.substring(n.raw.length),e.push(n),!0))))if(n=this.tokenizer.escape(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.tag(t))t=t.substring(n.raw.length),s=e[e.length-1],s&&n.type==="text"&&s.type==="text"?(s.raw+=n.raw,s.text+=n.text):e.push(n);else if(n=this.tokenizer.link(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.reflink(t,this.tokens.links))t=t.substring(n.raw.length),s=e[e.length-1],s&&n.type==="text"&&s.type==="text"?(s.raw+=n.raw,s.text+=n.text):e.push(n);else if(n=this.tokenizer.emStrong(t,c,l))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.codespan(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.br(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.del(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.autolink(t,Tv))t=t.substring(n.raw.length),e.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(t,Tv))){if(r=t,this.options.extensions&&this.options.extensions.startInline){let h=1/0;const u=t.slice(1);let f;this.options.extensions.startInline.forEach(function(p){f=p.call({lexer:this},u),typeof f=="number"&&f>=0&&(h=Math.min(h,f))}),h<1/0&&h>=0&&(r=t.substring(0,h+1))}if(n=this.tokenizer.inlineText(r,C1))t=t.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(l=n.raw.slice(-1)),o=!0,s=e[e.length-1],s&&s.type==="text"?(s.raw+=n.raw,s.text+=n.text):e.push(n);else if(t){const h="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(h);break}throw new Error(h)}}else t=t.substring(n.raw.length),e.push(n);return e}}class Yf{constructor(t){this.options=t||ba}code(t,e,n){const s=(e||"").match(/\S*/)[0];if(this.options.highlight){const r=this.options.highlight(t,s);r!=null&&r!==t&&(n=!0,t=r)}return t=t.replace(/\n$/,"")+`
`,s?'<pre><code class="'+this.options.langPrefix+Oe(s)+'">'+(n?t:Oe(t,!0))+`</code></pre>
`:"<pre><code>"+(n?t:Oe(t,!0))+`</code></pre>
`}blockquote(t){return`<blockquote>
${t}</blockquote>
`}html(t){return t}heading(t,e,n,s){return this.options.headerIds?`<h${e} id="${this.options.headerPrefix+s.slug(n)}">${t}</h${e}>
`:`<h${e}>${t}</h${e}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(t,e,n){const s=e?"ol":"ul";return"<"+s+(e&&n!==1?' start="'+n+'"':"")+`>
`+t+"</"+s+`>
`}listitem(t){return`<li>${t}</li>
`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(t){return`<p>${t}</p>
`}table(t,e){return e&&(e=`<tbody>${e}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+e+`</table>
`}tablerow(t){return`<tr>
${t}</tr>
`}tablecell(t,e){const n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>
`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(t){return`<del>${t}</del>`}link(t,e,n){if((t=kv(this.options.sanitize,this.options.baseUrl,t))===null)return n;let s='<a href="'+t+'"';return e&&(s+=' title="'+e+'"'),s+=">"+n+"</a>",s}image(t,e,n){if((t=kv(this.options.sanitize,this.options.baseUrl,t))===null)return n;let s=`<img src="${t}" alt="${n}"`;return e&&(s+=` title="${e}"`),s+=this.options.xhtml?"/>":">",s}text(t){return t}}class aw{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,e,n){return""+n}image(t,e,n){return""+n}br(){return""}}class ow{constructor(){this.seen={}}serialize(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(t,e){let n=t,s=0;if(this.seen.hasOwnProperty(n)){s=this.seen[t];do s++,n=t+"-"+s;while(this.seen.hasOwnProperty(n))}return e||(this.seen[t]=s,this.seen[n]=0),n}slug(t,e={}){const n=this.serialize(t);return this.getNextSafeSlug(n,e.dryrun)}}class Gi{constructor(t){this.options=t||ba,this.options.renderer=this.options.renderer||new Yf,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new aw,this.slugger=new ow}static parse(t,e){return new Gi(e).parse(t)}static parseInline(t,e){return new Gi(e).parseInline(t)}parse(t,e=!0){let n,s,r,a,o,l,c,h,u,f,p,m,g,b,v,A,E,k,S,_="";const L=t.length;for(n=0;n<L;n++)if(f=t[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[f.type]&&(S=this.options.extensions.renderers[f.type].call({parser:this},f),S!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(f.type)))_+=S||"";else switch(f.type){case"space":continue;case"hr":_+=this.renderer.hr();continue;case"heading":_+=this.renderer.heading(this.parseInline(f.tokens),f.depth,rw(this.parseInline(f.tokens,this.textRenderer)),this.slugger);continue;case"code":_+=this.renderer.code(f.text,f.lang,f.escaped);continue;case"table":for(h="",c="",a=f.header.length,s=0;s<a;s++)c+=this.renderer.tablecell(this.parseInline(f.header[s].tokens),{header:!0,align:f.align[s]});for(h+=this.renderer.tablerow(c),u="",a=f.rows.length,s=0;s<a;s++){for(l=f.rows[s],c="",o=l.length,r=0;r<o;r++)c+=this.renderer.tablecell(this.parseInline(l[r].tokens),{header:!1,align:f.align[r]});u+=this.renderer.tablerow(c)}_+=this.renderer.table(h,u);continue;case"blockquote":u=this.parse(f.tokens),_+=this.renderer.blockquote(u);continue;case"list":for(p=f.ordered,m=f.start,g=f.loose,a=f.items.length,u="",s=0;s<a;s++)v=f.items[s],A=v.checked,E=v.task,b="",v.task&&(k=this.renderer.checkbox(A),g?v.tokens.length>0&&v.tokens[0].type==="paragraph"?(v.tokens[0].text=k+" "+v.tokens[0].text,v.tokens[0].tokens&&v.tokens[0].tokens.length>0&&v.tokens[0].tokens[0].type==="text"&&(v.tokens[0].tokens[0].text=k+" "+v.tokens[0].tokens[0].text)):v.tokens.unshift({type:"text",text:k}):b+=k),b+=this.parse(v.tokens,g),u+=this.renderer.listitem(b,E,A);_+=this.renderer.list(u,p,m);continue;case"html":_+=this.renderer.html(f.text);continue;case"paragraph":_+=this.renderer.paragraph(this.parseInline(f.tokens));continue;case"text":for(u=f.tokens?this.parseInline(f.tokens):f.text;n+1<L&&t[n+1].type==="text";)f=t[++n],u+=`
`+(f.tokens?this.parseInline(f.tokens):f.text);_+=e?this.renderer.paragraph(u):u;continue;default:{const P='Token with "'+f.type+'" type was not found.';if(this.options.silent)return void console.error(P);throw new Error(P)}}return _}parseInline(t,e){e=e||this.renderer;let n,s,r,a="";const o=t.length;for(n=0;n<o;n++)if(s=t[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]&&(r=this.options.extensions.renderers[s.type].call({parser:this},s),r!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)))a+=r||"";else switch(s.type){case"escape":case"text":a+=e.text(s.text);break;case"html":a+=e.html(s.text);break;case"link":a+=e.link(s.href,s.title,this.parseInline(s.tokens,e));break;case"image":a+=e.image(s.href,s.title,s.text);break;case"strong":a+=e.strong(this.parseInline(s.tokens,e));break;case"em":a+=e.em(this.parseInline(s.tokens,e));break;case"codespan":a+=e.codespan(s.text);break;case"br":a+=e.br();break;case"del":a+=e.del(this.parseInline(s.tokens,e));break;default:{const l='Token with "'+s.type+'" type was not found.';if(this.options.silent)return void console.error(l);throw new Error(l)}}return a}}class ih{constructor(t){this.options=t||ba}preprocess(t){return t}postprocess(t){return t}}pt(ih,"passThroughHooks",new Set(["preprocess","postprocess"]));function lw(i,t){return(e,n,s)=>{typeof n=="function"&&(s=n,n=null);const r={...n},a=function(o,l,c){return h=>{if(h.message+=`
Please report this to https://github.com/markedjs/marked.`,o){const u="<p>An error occurred:</p><pre>"+Oe(h.message+"",!0)+"</pre>";return l?Promise.resolve(u):c?void c(null,u):u}if(l)return Promise.reject(h);if(!c)throw h;c(h)}}((n={...ct.defaults,...r}).silent,n.async,s);if(e==null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));if(function(o){o&&o.sanitize&&!o.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}(n),n.hooks&&(n.hooks.options=n),s){const o=n.highlight;let l;try{n.hooks&&(e=n.hooks.preprocess(e)),l=i(e,n)}catch(u){return a(u)}const c=function(u){let f;if(!u)try{n.walkTokens&&ct.walkTokens(l,n.walkTokens),f=t(l,n),n.hooks&&(f=n.hooks.postprocess(f))}catch(p){u=p}return n.highlight=o,u?a(u):s(null,f)};if(!o||o.length<3||(delete n.highlight,!l.length))return c();let h=0;return ct.walkTokens(l,function(u){u.type==="code"&&(h++,setTimeout(()=>{o(u.text,u.lang,function(f,p){if(f)return c(f);p!=null&&p!==u.text&&(u.text=p,u.escaped=!0),h--,h===0&&c()})},0))}),void(h===0&&c())}if(n.async)return Promise.resolve(n.hooks?n.hooks.preprocess(e):e).then(o=>i(o,n)).then(o=>n.walkTokens?Promise.all(ct.walkTokens(o,n.walkTokens)).then(()=>o):o).then(o=>t(o,n)).then(o=>n.hooks?n.hooks.postprocess(o):o).catch(a);try{n.hooks&&(e=n.hooks.preprocess(e));const o=i(e,n);n.walkTokens&&ct.walkTokens(o,n.walkTokens);let l=t(o,n);return n.hooks&&(l=n.hooks.postprocess(l)),l}catch(o){return a(o)}}}function ct(i,t,e){return lw(qi.lex,Gi.parse)(i,t,e)}ct.options=ct.setOptions=function(i){var t;return ct.defaults={...ct.defaults,...i},t=ct.defaults,ba=t,ct},ct.getDefaults=m1,ct.defaults=ba,ct.use=function(...i){const t=ct.defaults.extensions||{renderers:{},childTokens:{}};i.forEach(e=>{const n={...e};if(n.async=ct.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if(s.renderer){const r=t.renderers[s.name];t.renderers[s.name]=r?function(...a){let o=s.renderer.apply(this,a);return o===!1&&(o=r.apply(this,a)),o}:s.renderer}if(s.tokenizer){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");t[s.level]?t[s.level].unshift(s.tokenizer):t[s.level]=[s.tokenizer],s.start&&(s.level==="block"?t.startBlock?t.startBlock.push(s.start):t.startBlock=[s.start]:s.level==="inline"&&(t.startInline?t.startInline.push(s.start):t.startInline=[s.start]))}s.childTokens&&(t.childTokens[s.name]=s.childTokens)}),n.extensions=t),e.renderer){const s=ct.defaults.renderer||new Yf;for(const r in e.renderer){const a=s[r];s[r]=(...o)=>{let l=e.renderer[r].apply(s,o);return l===!1&&(l=a.apply(s,o)),l}}n.renderer=s}if(e.tokenizer){const s=ct.defaults.tokenizer||new Xf;for(const r in e.tokenizer){const a=s[r];s[r]=(...o)=>{let l=e.tokenizer[r].apply(s,o);return l===!1&&(l=a.apply(s,o)),l}}n.tokenizer=s}if(e.hooks){const s=ct.defaults.hooks||new ih;for(const r in e.hooks){const a=s[r];ih.passThroughHooks.has(r)?s[r]=o=>{if(ct.defaults.async)return Promise.resolve(e.hooks[r].call(s,o)).then(c=>a.call(s,c));const l=e.hooks[r].call(s,o);return a.call(s,l)}:s[r]=(...o)=>{let l=e.hooks[r].apply(s,o);return l===!1&&(l=a.apply(s,o)),l}}n.hooks=s}if(e.walkTokens){const s=ct.defaults.walkTokens;n.walkTokens=function(r){let a=[];return a.push(e.walkTokens.call(this,r)),s&&(a=a.concat(s.call(this,r))),a}}ct.setOptions(n)})},ct.walkTokens=function(i,t){let e=[];for(const n of i)switch(e=e.concat(t.call(ct,n)),n.type){case"table":for(const s of n.header)e=e.concat(ct.walkTokens(s.tokens,t));for(const s of n.rows)for(const r of s)e=e.concat(ct.walkTokens(r.tokens,t));break;case"list":e=e.concat(ct.walkTokens(n.items,t));break;default:ct.defaults.extensions&&ct.defaults.extensions.childTokens&&ct.defaults.extensions.childTokens[n.type]?ct.defaults.extensions.childTokens[n.type].forEach(function(s){e=e.concat(ct.walkTokens(n[s],t))}):n.tokens&&(e=e.concat(ct.walkTokens(n.tokens,t)))}return e},ct.parseInline=lw(qi.lexInline,Gi.parseInline),ct.Parser=Gi,ct.parser=Gi.parse,ct.Renderer=Yf,ct.TextRenderer=aw,ct.Lexer=qi,ct.lexer=qi.lex,ct.Tokenizer=Xf,ct.Slugger=ow,ct.Hooks=ih,ct.parse=ct,ct.options,ct.setOptions,ct.use,ct.walkTokens,ct.parseInline,Gi.parse,qi.lex;const DL=()=>{let i,t,e=null;function n(){if(e&&!e.closed)e.focus();else{if(e=window.open("about:blank","reveal.js - Notes","width=1100,height=700"),e.marked=ct,e.document.write(`<!--
	NOTE: You need to build the notes plugin after making changes to this file.
-->
<html lang="en">
	<head>
		<meta charset="utf-8">

		<title>reveal.js - Speaker View</title>

		<style>
			body {
				font-family: Helvetica;
				font-size: 18px;
			}

			#current-slide,
			#upcoming-slide,
			#speaker-controls {
				padding: 6px;
				box-sizing: border-box;
				-moz-box-sizing: border-box;
			}

			#current-slide iframe,
			#upcoming-slide iframe {
				width: 100%;
				height: 100%;
				border: 1px solid #ddd;
			}

			#current-slide .label,
			#upcoming-slide .label {
				position: absolute;
				top: 10px;
				left: 10px;
				z-index: 2;
			}

			#connection-status {
				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				z-index: 20;
				padding: 30% 20% 20% 20%;
				font-size: 18px;
				color: #222;
				background: #fff;
				text-align: center;
				box-sizing: border-box;
				line-height: 1.4;
			}

			.overlay-element {
				height: 34px;
				line-height: 34px;
				padding: 0 10px;
				text-shadow: none;
				background: rgba( 220, 220, 220, 0.8 );
				color: #222;
				font-size: 14px;
			}

			.overlay-element.interactive:hover {
				background: rgba( 220, 220, 220, 1 );
			}

			#current-slide {
				position: absolute;
				width: 60%;
				height: 100%;
				top: 0;
				left: 0;
				padding-right: 0;
			}

			#upcoming-slide {
				position: absolute;
				width: 40%;
				height: 40%;
				right: 0;
				top: 0;
			}

			/* Speaker controls */
			#speaker-controls {
				position: absolute;
				top: 40%;
				right: 0;
				width: 40%;
				height: 60%;
				overflow: auto;
				font-size: 18px;
			}

				.speaker-controls-time.hidden,
				.speaker-controls-notes.hidden {
					display: none;
				}

				.speaker-controls-time .label,
				.speaker-controls-pace .label,
				.speaker-controls-notes .label {
					text-transform: uppercase;
					font-weight: normal;
					font-size: 0.66em;
					color: #666;
					margin: 0;
				}

				.speaker-controls-time, .speaker-controls-pace {
					border-bottom: 1px solid rgba( 200, 200, 200, 0.5 );
					margin-bottom: 10px;
					padding: 10px 16px;
					padding-bottom: 20px;
					cursor: pointer;
				}

				.speaker-controls-time .reset-button {
					opacity: 0;
					float: right;
					color: #666;
					text-decoration: none;
				}
				.speaker-controls-time:hover .reset-button {
					opacity: 1;
				}

				.speaker-controls-time .timer,
				.speaker-controls-time .clock {
					width: 50%;
				}

				.speaker-controls-time .timer,
				.speaker-controls-time .clock,
				.speaker-controls-time .pacing .hours-value,
				.speaker-controls-time .pacing .minutes-value,
				.speaker-controls-time .pacing .seconds-value {
					font-size: 1.9em;
				}

				.speaker-controls-time .timer {
					float: left;
				}

				.speaker-controls-time .clock {
					float: right;
					text-align: right;
				}

				.speaker-controls-time span.mute {
					opacity: 0.3;
				}

				.speaker-controls-time .pacing-title {
					margin-top: 5px;
				}

				.speaker-controls-time .pacing.ahead {
					color: blue;
				}

				.speaker-controls-time .pacing.on-track {
					color: green;
				}

				.speaker-controls-time .pacing.behind {
					color: red;
				}

				.speaker-controls-notes {
					padding: 10px 16px;
				}

				.speaker-controls-notes .value {
					margin-top: 5px;
					line-height: 1.4;
					font-size: 1.2em;
				}

			/* Layout selector*/
			#speaker-layout {
				position: absolute;
				top: 10px;
				right: 10px;
				color: #222;
				z-index: 10;
			}
				#speaker-layout select {
					position: absolute;
					width: 100%;
					height: 100%;
					top: 0;
					left: 0;
					border: 0;
					box-shadow: 0;
					cursor: pointer;
					opacity: 0;

					font-size: 1em;
					background-color: transparent;

					-moz-appearance: none;
					-webkit-appearance: none;
					-webkit-tap-highlight-color: rgba(0, 0, 0, 0);
				}

				#speaker-layout select:focus {
					outline: none;
					box-shadow: none;
				}

			.clear {
				clear: both;
			}

			/* Speaker layout: Wide */
			body[data-speaker-layout="wide"] #current-slide,
			body[data-speaker-layout="wide"] #upcoming-slide {
				width: 50%;
				height: 45%;
				padding: 6px;
			}

			body[data-speaker-layout="wide"] #current-slide {
				top: 0;
				left: 0;
			}

			body[data-speaker-layout="wide"] #upcoming-slide {
				top: 0;
				left: 50%;
			}

			body[data-speaker-layout="wide"] #speaker-controls {
				top: 45%;
				left: 0;
				width: 100%;
				height: 50%;
				font-size: 1.25em;
			}

			/* Speaker layout: Tall */
			body[data-speaker-layout="tall"] #current-slide,
			body[data-speaker-layout="tall"] #upcoming-slide {
				width: 45%;
				height: 50%;
				padding: 6px;
			}

			body[data-speaker-layout="tall"] #current-slide {
				top: 0;
				left: 0;
			}

			body[data-speaker-layout="tall"] #upcoming-slide {
				top: 50%;
				left: 0;
			}

			body[data-speaker-layout="tall"] #speaker-controls {
				padding-top: 40px;
				top: 0;
				left: 45%;
				width: 55%;
				height: 100%;
				font-size: 1.25em;
			}

			/* Speaker layout: Notes only */
			body[data-speaker-layout="notes-only"] #current-slide,
			body[data-speaker-layout="notes-only"] #upcoming-slide {
				display: none;
			}

			body[data-speaker-layout="notes-only"] #speaker-controls {
				padding-top: 40px;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				font-size: 1.25em;
			}

			@media screen and (max-width: 1080px) {
				body[data-speaker-layout="default"] #speaker-controls {
					font-size: 16px;
				}
			}

			@media screen and (max-width: 900px) {
				body[data-speaker-layout="default"] #speaker-controls {
					font-size: 14px;
				}
			}

			@media screen and (max-width: 800px) {
				body[data-speaker-layout="default"] #speaker-controls {
					font-size: 12px;
				}
			}

		</style>
	</head>

	<body>

		<div id="connection-status">Loading speaker view...</div>

		<div id="current-slide"></div>
		<div id="upcoming-slide"><span class="overlay-element label">Upcoming</span></div>
		<div id="speaker-controls">
			<div class="speaker-controls-time">
				<h4 class="label">Time <span class="reset-button">Click to Reset</span></h4>
				<div class="clock">
					<span class="clock-value">0:00 AM</span>
				</div>
				<div class="timer">
					<span class="hours-value">00</span><span class="minutes-value">:00</span><span class="seconds-value">:00</span>
				</div>
				<div class="clear"></div>

				<h4 class="label pacing-title" style="display: none">Pacing  Time to finish current slide</h4>
				<div class="pacing" style="display: none">
					<span class="hours-value">00</span><span class="minutes-value">:00</span><span class="seconds-value">:00</span>
				</div>
			</div>

			<div class="speaker-controls-notes hidden">
				<h4 class="label">Notes</h4>
				<div class="value"></div>
			</div>
		</div>
		<div id="speaker-layout" class="overlay-element interactive">
			<span class="speaker-layout-label"></span>
			<select class="speaker-layout-dropdown"></select>
		</div>

		<script>

			(function() {

				var notes,
					notesValue,
					currentState,
					currentSlide,
					upcomingSlide,
					layoutLabel,
					layoutDropdown,
					pendingCalls = {},
					lastRevealApiCallId = 0,
					connected = false

				var connectionStatus = document.querySelector( '#connection-status' );

				var SPEAKER_LAYOUTS = {
					'default': 'Default',
					'wide': 'Wide',
					'tall': 'Tall',
					'notes-only': 'Notes only'
				};

				setupLayout();

				let openerOrigin;

				try {
					openerOrigin = window.opener.location.origin;
				}
				catch ( error ) { console.warn( error ) }

				// In order to prevent XSS, the speaker view will only run if its
				// opener has the same origin as itself
				if( window.location.origin !== openerOrigin ) {
					connectionStatus.innerHTML = 'Cross origin error.<br>The speaker window can only be opened from the same origin.';
					return;
				}

				var connectionTimeout = setTimeout( function() {
					connectionStatus.innerHTML = 'Error connecting to main window.<br>Please try closing and reopening the speaker view.';
				}, 5000 );

				window.addEventListener( 'message', function( event ) {

					// Validate the origin of all messages to avoid parsing messages
					// that aren't meant for us. Ignore when running off file:// so
					// that the speaker view continues to work without a web server.
					if( window.location.origin !== event.origin && window.location.origin !== 'file://' ) {
						return
					}

					clearTimeout( connectionTimeout );
					connectionStatus.style.display = 'none';

					var data = JSON.parse( event.data );

					// The overview mode is only useful to the reveal.js instance
					// where navigation occurs so we don't sync it
					if( data.state ) delete data.state.overview;

					// Messages sent by the notes plugin inside of the main window
					if( data && data.namespace === 'reveal-notes' ) {
						if( data.type === 'connect' ) {
							handleConnectMessage( data );
						}
						else if( data.type === 'state' ) {
							handleStateMessage( data );
						}
						else if( data.type === 'return' ) {
							pendingCalls[data.callId](data.result);
							delete pendingCalls[data.callId];
						}
					}
					// Messages sent by the reveal.js inside of the current slide preview
					else if( data && data.namespace === 'reveal' ) {
						const supportedEvents = [
							'slidechanged',
							'fragmentshown',
							'fragmenthidden',
							'paused',
							'resumed',
							'previewiframe',
							'previewimage',
							'previewvideo',
							'closeoverlay'
						];

						if( /ready/.test( data.eventName ) ) {
							// Send a message back to notify that the handshake is complete
							window.opener.postMessage( JSON.stringify({ namespace: 'reveal-notes', type: 'connected'} ), '*' );
						}
						else if( supportedEvents.includes( data.eventName ) && currentState !== JSON.stringify( data.state ) ) {
							dispatchStateToMainWindow( data.state );
						}
					}

				} );

				/**
				 * Updates the presentation in the main window to match the state
				 * of the presentation in the notes window.
				 */
				const dispatchStateToMainWindow = debounce(( state ) => {
					window.opener.postMessage( JSON.stringify({ method: 'setState', args: [ state ]} ), '*' );
				}, 500);

				/**
				 * Asynchronously calls the Reveal.js API of the main frame.
				 */
				function callRevealApi( methodName, methodArguments, callback ) {

					var callId = ++lastRevealApiCallId;
					pendingCalls[callId] = callback;
					window.opener.postMessage( JSON.stringify( {
						namespace: 'reveal-notes',
						type: 'call',
						callId: callId,
						methodName: methodName,
						arguments: methodArguments
					} ), '*' );

				}

				/**
				 * Called when the main window is trying to establish a
				 * connection.
				 */
				function handleConnectMessage( data ) {

					if( connected === false ) {
						connected = true;

						setupIframes( data );
						setupKeyboard();
						setupNotes();
						setupTimer();
						setupHeartbeat();
					}

				}

				/**
				 * Called when the main window sends an updated state.
				 */
				function handleStateMessage( data ) {

					// Store the most recently set state to avoid circular loops
					// applying the same state
					currentState = JSON.stringify( data.state );

					// No need for updating the notes in case of fragment changes
					if ( data.notes ) {
						notes.classList.remove( 'hidden' );
						notesValue.style.whiteSpace = data.whitespace;
						if( data.markdown ) {
							notesValue.innerHTML = marked( data.notes );
						}
						else {
							notesValue.innerHTML = data.notes;
						}
					}
					else {
						notes.classList.add( 'hidden' );
					}

					// Don't show lightboxes in the upcoming slide
					const { previewVideo, previewImage, previewIframe, ...upcomingState } = data.state;

					// Update the note slides
					currentSlide.contentWindow.postMessage( JSON.stringify({ method: 'setState', args: [ data.state ] }), '*' );
					upcomingSlide.contentWindow.postMessage( JSON.stringify({ method: 'setState', args: [ upcomingState ] }), '*' );
					upcomingSlide.contentWindow.postMessage( JSON.stringify({ method: 'next' }), '*' );

				}

				// Limit to max one state update per X ms
				handleStateMessage = debounce( handleStateMessage, 200 );

				/**
				 * Forward keyboard events to the current slide window.
				 * This enables keyboard events to work even if focus
				 * isn't set on the current slide iframe.
				 *
				 * Block F5 default handling, it reloads and disconnects
				 * the speaker notes window.
				 */
				function setupKeyboard() {

					document.addEventListener( 'keydown', function( event ) {
						if( event.keyCode === 116 || ( event.metaKey && event.keyCode === 82 ) ) {
							event.preventDefault();
							return false;
						}
						currentSlide.contentWindow.postMessage( JSON.stringify({ method: 'triggerKey', args: [ event.keyCode ] }), '*' );
					} );

				}

				/**
				 * Creates the preview iframes.
				 */
				function setupIframes( data ) {

					var params = [
						'receiver',
						'progress=false',
						'history=false',
						'transition=none',
						'autoSlide=0',
						'backgroundTransition=none'
					].join( '&' );

					var urlSeparator = /\\?/.test(data.url) ? '&' : '?';
					var hash = '#/' + data.state.indexh + '/' + data.state.indexv;
					var currentURL = data.url + urlSeparator + params + '&scrollActivationWidth=false&postMessageEvents=true' + hash;
					var upcomingURL = data.url + urlSeparator + params + '&scrollActivationWidth=false&controls=false' + hash;

					currentSlide = document.createElement( 'iframe' );
					currentSlide.setAttribute( 'width', 1280 );
					currentSlide.setAttribute( 'height', 1024 );
					currentSlide.setAttribute( 'src', currentURL );
					document.querySelector( '#current-slide' ).appendChild( currentSlide );

					upcomingSlide = document.createElement( 'iframe' );
					upcomingSlide.setAttribute( 'width', 640 );
					upcomingSlide.setAttribute( 'height', 512 );
					upcomingSlide.setAttribute( 'src', upcomingURL );
					document.querySelector( '#upcoming-slide' ).appendChild( upcomingSlide );

				}

				/**
				 * Setup the notes UI.
				 */
				function setupNotes() {

					notes = document.querySelector( '.speaker-controls-notes' );
					notesValue = document.querySelector( '.speaker-controls-notes .value' );

				}

				/**
				 * We send out a heartbeat at all times to ensure we can
				 * reconnect with the main presentation window after reloads.
				 */
				function setupHeartbeat() {

					setInterval( () => {
						window.opener.postMessage( JSON.stringify({ namespace: 'reveal-notes', type: 'heartbeat'} ), '*' );
					}, 1000 );

				}

				function getTimings( callback ) {

					callRevealApi( 'getSlidesAttributes', [], function ( slideAttributes ) {
						callRevealApi( 'getConfig', [], function ( config ) {
							var totalTime = config.totalTime;
							var minTimePerSlide = config.minimumTimePerSlide || 0;
							var defaultTiming = config.defaultTiming;
							if ((defaultTiming == null) && (totalTime == null)) {
								callback(null);
								return;
							}
							// Setting totalTime overrides defaultTiming
							if (totalTime) {
								defaultTiming = 0;
							}
							var timings = [];
							for ( var i in slideAttributes ) {
								var slide = slideAttributes[ i ];
								var timing = defaultTiming;
								if( slide.hasOwnProperty( 'data-timing' )) {
									var t = slide[ 'data-timing' ];
									timing = parseInt(t);
									if( isNaN(timing) ) {
										console.warn("Could not parse timing '" + t + "' of slide " + i + "; using default of " + defaultTiming);
										timing = defaultTiming;
									}
								}
								timings.push(timing);
							}
							if ( totalTime ) {
								// After we've allocated time to individual slides, we summarize it and
								// subtract it from the total time
								var remainingTime = totalTime - timings.reduce( function(a, b) { return a + b; }, 0 );
								// The remaining time is divided by the number of slides that have 0 seconds
								// allocated at the moment, giving the average time-per-slide on the remaining slides
								var remainingSlides = (timings.filter( function(x) { return x == 0 }) ).length
								var timePerSlide = Math.round( remainingTime / remainingSlides, 0 )
								// And now we replace every zero-value timing with that average
								timings = timings.map( function(x) { return (x==0 ? timePerSlide : x) } );
							}
							var slidesUnderMinimum = timings.filter( function(x) { return (x < minTimePerSlide) } ).length
							if ( slidesUnderMinimum ) {
								message = "The pacing time for " + slidesUnderMinimum + " slide(s) is under the configured minimum of " + minTimePerSlide + " seconds. Check the data-timing attribute on individual slides, or consider increasing the totalTime or minimumTimePerSlide configuration options (or removing some slides).";
								alert(message);
							}
							callback( timings );
						} );
					} );

				}

				/**
				 * Return the number of seconds allocated for presenting
				 * all slides up to and including this one.
				 */
				function getTimeAllocated( timings, callback ) {

					callRevealApi( 'getSlidePastCount', [], function ( currentSlide ) {
						var allocated = 0;
						for (var i in timings.slice(0, currentSlide + 1)) {
							allocated += timings[i];
						}
						callback( allocated );
					} );

				}

				/**
				 * Create the timer and clock and start updating them
				 * at an interval.
				 */
				function setupTimer() {

					var start = new Date(),
					timeEl = document.querySelector( '.speaker-controls-time' ),
					clockEl = timeEl.querySelector( '.clock-value' ),
					hoursEl = timeEl.querySelector( '.hours-value' ),
					minutesEl = timeEl.querySelector( '.minutes-value' ),
					secondsEl = timeEl.querySelector( '.seconds-value' ),
					pacingTitleEl = timeEl.querySelector( '.pacing-title' ),
					pacingEl = timeEl.querySelector( '.pacing' ),
					pacingHoursEl = pacingEl.querySelector( '.hours-value' ),
					pacingMinutesEl = pacingEl.querySelector( '.minutes-value' ),
					pacingSecondsEl = pacingEl.querySelector( '.seconds-value' );

					var timings = null;
					getTimings( function ( _timings ) {

						timings = _timings;
						if (_timings !== null) {
							pacingTitleEl.style.removeProperty('display');
							pacingEl.style.removeProperty('display');
						}

						// Update once directly
						_updateTimer();

						// Then update every second
						setInterval( _updateTimer, 1000 );

					} );


					function _resetTimer() {

						if (timings == null) {
							start = new Date();
							_updateTimer();
						}
						else {
							// Reset timer to beginning of current slide
							getTimeAllocated( timings, function ( slideEndTimingSeconds ) {
								var slideEndTiming = slideEndTimingSeconds * 1000;
								callRevealApi( 'getSlidePastCount', [], function ( currentSlide ) {
									var currentSlideTiming = timings[currentSlide] * 1000;
									var previousSlidesTiming = slideEndTiming - currentSlideTiming;
									var now = new Date();
									start = new Date(now.getTime() - previousSlidesTiming);
									_updateTimer();
								} );
							} );
						}

					}

					timeEl.addEventListener( 'click', function() {
						_resetTimer();
						return false;
					} );

					function _displayTime( hrEl, minEl, secEl, time) {

						var sign = Math.sign(time) == -1 ? "-" : "";
						time = Math.abs(Math.round(time / 1000));
						var seconds = time % 60;
						var minutes = Math.floor( time / 60 ) % 60 ;
						var hours = Math.floor( time / ( 60 * 60 )) ;
						hrEl.innerHTML = sign + zeroPadInteger( hours );
						if (hours == 0) {
							hrEl.classList.add( 'mute' );
						}
						else {
							hrEl.classList.remove( 'mute' );
						}
						minEl.innerHTML = ':' + zeroPadInteger( minutes );
						if (hours == 0 && minutes == 0) {
							minEl.classList.add( 'mute' );
						}
						else {
							minEl.classList.remove( 'mute' );
						}
						secEl.innerHTML = ':' + zeroPadInteger( seconds );
					}

					function _updateTimer() {

						var diff, hours, minutes, seconds,
						now = new Date();

						diff = now.getTime() - start.getTime();

						clockEl.innerHTML = now.toLocaleTimeString( 'en-US', { hour12: true, hour: '2-digit', minute:'2-digit' } );
						_displayTime( hoursEl, minutesEl, secondsEl, diff );
						if (timings !== null) {
							_updatePacing(diff);
						}

					}

					function _updatePacing(diff) {

						getTimeAllocated( timings, function ( slideEndTimingSeconds ) {
							var slideEndTiming = slideEndTimingSeconds * 1000;

							callRevealApi( 'getSlidePastCount', [], function ( currentSlide ) {
								var currentSlideTiming = timings[currentSlide] * 1000;
								var timeLeftCurrentSlide = slideEndTiming - diff;
								if (timeLeftCurrentSlide < 0) {
									pacingEl.className = 'pacing behind';
								}
								else if (timeLeftCurrentSlide < currentSlideTiming) {
									pacingEl.className = 'pacing on-track';
								}
								else {
									pacingEl.className = 'pacing ahead';
								}
								_displayTime( pacingHoursEl, pacingMinutesEl, pacingSecondsEl, timeLeftCurrentSlide );
							} );
						} );
					}

				}

				/**
				 * Sets up the speaker view layout and layout selector.
				 */
				function setupLayout() {

					layoutDropdown = document.querySelector( '.speaker-layout-dropdown' );
					layoutLabel = document.querySelector( '.speaker-layout-label' );

					// Render the list of available layouts
					for( var id in SPEAKER_LAYOUTS ) {
						var option = document.createElement( 'option' );
						option.setAttribute( 'value', id );
						option.textContent = SPEAKER_LAYOUTS[ id ];
						layoutDropdown.appendChild( option );
					}

					// Monitor the dropdown for changes
					layoutDropdown.addEventListener( 'change', function( event ) {

						setLayout( layoutDropdown.value );

					}, false );

					// Restore any currently persisted layout
					setLayout( getLayout() );

				}

				/**
				 * Sets a new speaker view layout. The layout is persisted
				 * in local storage.
				 */
				function setLayout( value ) {

					var title = SPEAKER_LAYOUTS[ value ];

					layoutLabel.innerHTML = 'Layout' + ( title ? ( ': ' + title ) : '' );
					layoutDropdown.value = value;

					document.body.setAttribute( 'data-speaker-layout', value );

					// Persist locally
					if( supportsLocalStorage() ) {
						window.localStorage.setItem( 'reveal-speaker-layout', value );
					}

				}

				/**
				 * Returns the ID of the most recently set speaker layout
				 * or our default layout if none has been set.
				 */
				function getLayout() {

					if( supportsLocalStorage() ) {
						var layout = window.localStorage.getItem( 'reveal-speaker-layout' );
						if( layout ) {
							return layout;
						}
					}

					// Default to the first record in the layouts hash
					for( var id in SPEAKER_LAYOUTS ) {
						return id;
					}

				}

				function supportsLocalStorage() {

					try {
						localStorage.setItem('test', 'test');
						localStorage.removeItem('test');
						return true;
					}
					catch( e ) {
						return false;
					}

				}

				function zeroPadInteger( num ) {

					var str = '00' + parseInt( num );
					return str.substring( str.length - 2 );

				}

				/**
				 * Limits the frequency at which a function can be called.
				 */
				function debounce( fn, ms ) {

					var lastTime = 0,
						timeout;

					return function() {

						var args = arguments;
						var context = this;

						clearTimeout( timeout );

						var timeSinceLastCall = Date.now() - lastTime;
						if( timeSinceLastCall > ms ) {
							fn.apply( context, args );
							lastTime = Date.now();
						}
						else {
							timeout = setTimeout( function() {
								fn.apply( context, args );
								lastTime = Date.now();
							}, ms - timeSinceLastCall );
						}

					}

				}

			})();

		<\/script>
	</body>
</html>`),!e)return void alert("Speaker view popup failed to open. Please make sure popups are allowed and reopen the speaker view.");(function(){const o=t.getConfig().url,l=typeof o=="string"?o:window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search;i=setInterval(function(){e.postMessage(JSON.stringify({namespace:"reveal-notes",type:"connect",state:t.getState(),url:l}),"*")},500),window.addEventListener("message",r)})()}}function s(o){let l=t.getCurrentSlide(),c=l.querySelectorAll("aside.notes"),h=l.querySelector(".current-fragment"),u={namespace:"reveal-notes",type:"state",notes:"",markdown:!1,whitespace:"normal",state:t.getState()};if(l.hasAttribute("data-notes")&&(u.notes=l.getAttribute("data-notes"),u.whitespace="pre-wrap"),h){let f=h.querySelector("aside.notes");f?(u.notes=f.innerHTML,u.markdown=typeof f.getAttribute("data-markdown")=="string",c=null):h.hasAttribute("data-notes")&&(u.notes=h.getAttribute("data-notes"),u.whitespace="pre-wrap",c=null)}c&&c.length&&(c=Array.from(c).filter(f=>f.closest(".fragment")===null),u.notes=c.map(f=>f.innerHTML).join(`
`),u.markdown=c[0]&&typeof c[0].getAttribute("data-markdown")=="string"),e.postMessage(JSON.stringify(u),"*")}function r(o){if(function(l){try{return window.location.origin===l.source.location.origin}catch{return!1}}(o))try{let l=JSON.parse(o.data);l&&l.namespace==="reveal-notes"&&l.type==="connected"?(clearInterval(i),a()):l&&l.namespace==="reveal-notes"&&l.type==="call"&&function(c,h,u){let f=t[c].apply(t,h);e.postMessage(JSON.stringify({namespace:"reveal-notes",type:"return",result:f,callId:u}),"*")}(l.methodName,l.arguments,l.callId)}catch{}}function a(){t.on("slidechanged",s),t.on("fragmentshown",s),t.on("fragmenthidden",s),t.on("overviewhidden",s),t.on("overviewshown",s),t.on("paused",s),t.on("resumed",s),t.on("previewiframe",s),t.on("previewimage",s),t.on("previewvideo",s),t.on("closeoverlay",s),s()}return{id:"notes",init:function(o){t=o,/receiver/i.test(window.location.search)||(window.location.search.match(/(\?|\&)notes/gi)!==null?n():window.addEventListener("message",l=>{if(!e&&typeof l.data=="string"){let h;try{h=JSON.parse(l.data)}catch{}h&&h.namespace==="reveal-notes"&&h.type==="heartbeat"&&(c=l.source,e&&!e.closed?e.focus():(e=c,window.addEventListener("message",r),a()))}var c}),t.addKeyBinding({keyCode:83,key:"S",description:"Speaker notes view"},function(){n()}))},open:n}},R1="modulepreload",T1=function(i){return"/"+i},Pv={},Xd=function(t,e,n){let s=Promise.resolve();if(e&&e.length>0){let a=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=a(e.map(c=>{if(c=T1(c),c in Pv)return;Pv[c]=!0;const h=c.endsWith(".css"),u=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=h?"stylesheet":R1,h||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),h)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function r(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&r(o.reason);return t().catch(r)})};var Ll={};Ll.d=(i,t)=>{for(var e in t)Ll.o(t,e)&&!Ll.o(i,e)&&Object.defineProperty(i,e,{enumerable:!0,get:t[e]})};Ll.o=(i,t)=>Object.prototype.hasOwnProperty.call(i,t);var ut=globalThis.pdfjsLib={};Ll.d(ut,{AbortException:()=>_a,AnnotationEditorLayer:()=>rg,AnnotationEditorParamsType:()=>gt,AnnotationEditorType:()=>Pt,AnnotationEditorUIManager:()=>wa,AnnotationLayer:()=>CT,AnnotationMode:()=>Si,CMapCompressionType:()=>Jf,ColorPicker:()=>Yh,DOMSVGFactory:()=>qg,DrawLayer:()=>cg,FeatureTest:()=>Ke,GlobalWorkerOptions:()=>ei,ImageKind:()=>rh,InvalidPDFException:()=>dw,MissingPDFException:()=>ka,OPS:()=>Ln,Outliner:()=>Bp,PDFDataRangeTransport:()=>r0,PDFDateString:()=>vw,PDFWorker:()=>Va,PasswordResponses:()=>I1,PermissionFlag:()=>M1,PixelsPerInch:()=>Zi,RenderingCancelledException:()=>Gg,TextLayer:()=>Gh,UnexpectedResponseException:()=>Mu,Util:()=>st,VerbosityLevel:()=>Tu,XfaLayer:()=>o0,build:()=>oT,createValidAbsoluteUrl:()=>F1,fetchData:()=>Fu,getDocument:()=>QR,getFilenameFromUrl:()=>G1,getPdfFilenameFromUrl:()=>X1,getXfaPageViewport:()=>Y1,isDataScheme:()=>Xg,isPdfFile:()=>Yg,noContextMenu:()=>Qe,normalizeUnicode:()=>U1,renderTextLayer:()=>UR,setLayerDimensions:()=>ya,shadow:()=>Mt,updateTextLayer:()=>WR,version:()=>aT});const De=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),cw=[1,0,0,1,0,0],Kf=[.001,0,0,.001,0,0],P1=1e7,hf=1.35,kn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},Si={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},L1="pdfjs_internal_editor_",Pt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},gt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},M1={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Te={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},rh={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ce={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},ll={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Tu={ERRORS:0,WARNINGS:1,INFOS:5},Jf={NONE:0,BINARY:1},Ln={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},I1={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Pu=Tu.WARNINGS;function O1(i){Number.isInteger(i)&&(Pu=i)}function N1(){return Pu}function Lu(i){Pu>=Tu.INFOS&&console.log(`Info: ${i}`)}function Et(i){Pu>=Tu.WARNINGS&&console.log(`Warning: ${i}`)}function $t(i){throw new Error(i)}function ge(i,t){i||$t(t)}function D1(i){switch(i==null?void 0:i.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function F1(i,t=null,e=null){if(!i)return null;try{if(e&&typeof i=="string"){if(e.addDefaultProtocol&&i.startsWith("www.")){const s=i.match(/\./g);(s==null?void 0:s.length)>=2&&(i=`http://${i}`)}if(e.tryConvertEncoding)try{i=j1(i)}catch{}}const n=t?new URL(i,t):new URL(i);if(D1(n))return n}catch{}return null}function Mt(i,t,e,n=!1){return Object.defineProperty(i,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const ir=function(){function t(e,n){this.constructor===t&&$t("Cannot initialize BaseException."),this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t}();class Qf extends ir{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Zf extends ir{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class dw extends ir{constructor(t){super(t,"InvalidPDFException")}}class ka extends ir{constructor(t){super(t,"MissingPDFException")}}class Mu extends ir{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class z1 extends ir{constructor(t){super(t,"FormatError")}}class _a extends ir{constructor(t){super(t,"AbortException")}}function hw(i){(typeof i!="object"||(i==null?void 0:i.length)===void 0)&&$t("Invalid argument for bytesToString");const t=i.length,e=8192;if(t<e)return String.fromCharCode.apply(null,i);const n=[];for(let s=0;s<t;s+=e){const r=Math.min(s+e,t),a=i.subarray(s,r);n.push(String.fromCharCode.apply(null,a))}return n.join("")}function Iu(i){typeof i!="string"&&$t("Invalid argument for stringToBytes");const t=i.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=i.charCodeAt(n)&255;return e}function H1(i){return String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,i&255)}function Wg(i){const t=Object.create(null);for(const[e,n]of i)t[e]=n;return t}function B1(){const i=new Uint8Array(4);return i[0]=1,new Uint32Array(i.buffer,0,1)[0]===1}function $1(){try{return new Function(""),!0}catch{return!1}}class Ke{static get isLittleEndian(){return Mt(this,"isLittleEndian",B1())}static get isEvalSupported(){return Mt(this,"isEvalSupported",$1())}static get isOffscreenCanvasSupported(){return Mt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Mt(this,"platform",{isMac:navigator.platform.includes("Mac")}):Mt(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var t,e;return Mt(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const uf=Array.from(Array(256).keys(),i=>i.toString(16).padStart(2,"0"));var si,ah,tp;class st{static makeHexColor(t,e,n){return`#${uf[t]}${uf[e]}${uf[n]}`}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const n=t[0]*e[0]+t[1]*e[2]+e[4],s=t[0]*e[1]+t[1]*e[3]+e[5];return[n,s]}static applyInverseTransform(t,e){const n=e[0]*e[3]-e[1]*e[2],s=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,r=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n;return[s,r]}static getAxialAlignedBoundingBox(t,e){const n=this.applyTransform(t,e),s=this.applyTransform(t.slice(2,4),e),r=this.applyTransform([t[0],t[3]],e),a=this.applyTransform([t[2],t[1]],e);return[Math.min(n[0],s[0],r[0],a[0]),Math.min(n[1],s[1],r[1],a[1]),Math.max(n[0],s[0],r[0],a[0]),Math.max(n[1],s[1],r[1],a[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],s=t[0]*e[1]+t[1]*e[3],r=t[2]*e[0]+t[3]*e[2],a=t[2]*e[1]+t[3]*e[3],o=(n+a)/2,l=Math.sqrt((n+a)**2-4*(n*a-r*s))/2,c=o+l||1,h=o-l||1;return[Math.sqrt(c),Math.sqrt(h)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),s=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>s)return null;const r=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),a=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return r>a?null:[n,r,s,a]}static bezierBoundingBox(t,e,n,s,r,a,o,l,c){return c?(c[0]=Math.min(c[0],t,o),c[1]=Math.min(c[1],e,l),c[2]=Math.max(c[2],t,o),c[3]=Math.max(c[3],e,l)):c=[Math.min(t,o),Math.min(e,l),Math.max(t,o),Math.max(e,l)],w(this,si,tp).call(this,t,n,r,o,e,s,a,l,3*(-t+3*(n-r)+o),6*(t-2*n+r),3*(n-t),c),w(this,si,tp).call(this,t,n,r,o,e,s,a,l,3*(-e+3*(s-a)+l),6*(e-2*s+a),3*(s-e),c),c}}si=new WeakSet,ah=function(t,e,n,s,r,a,o,l,c,h){if(c<=0||c>=1)return;const u=1-c,f=c*c,p=f*c,m=u*(u*(u*t+3*c*e)+3*f*n)+p*s,g=u*(u*(u*r+3*c*a)+3*f*o)+p*l;h[0]=Math.min(h[0],m),h[1]=Math.min(h[1],g),h[2]=Math.max(h[2],m),h[3]=Math.max(h[3],g)},tp=function(t,e,n,s,r,a,o,l,c,h,u,f){if(Math.abs(c)<1e-12){Math.abs(h)>=1e-12&&w(this,si,ah).call(this,t,e,n,s,r,a,o,l,-u/h,f);return}const p=h**2-4*u*c;if(p<0)return;const m=Math.sqrt(p),g=2*c;w(this,si,ah).call(this,t,e,n,s,r,a,o,l,(-h+m)/g,f),w(this,si,ah).call(this,t,e,n,s,r,a,o,l,(-h-m)/g,f)},x(st,si);function j1(i){return decodeURIComponent(escape(i))}let ff=null,Lv=null;function U1(i){return ff||(ff=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Lv=new Map([["","t"]])),i.replaceAll(ff,(t,e,n)=>e?e.normalize("NFKC"):Lv.get(n))}function W1(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const i=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(i);else for(let t=0;t<32;t++)i[t]=Math.floor(Math.random()*255);return hw(i)}const uw="pdfjs_internal_id_",Ss={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class Ou{constructor(){this.constructor===Ou&&$t("Cannot initialize BaseFilterFactory.")}addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,s,r){return"none"}destroy(t=!1){}}var jl;const em=class em{constructor({enableHWA:t=!1}={}){x(this,jl,!1);this.constructor===em&&$t("Cannot initialize BaseCanvasFactory."),y(this,jl,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!d(this,jl)})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){$t("Abstract method `_createCanvas` called.")}};jl=new WeakMap;let Uh=em;class Nu{constructor({baseUrl:t=null,isCompressed:e=!0}){this.constructor===Nu&&$t("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":""),n=this.isCompressed?Jf.BINARY:Jf.NONE;return this._fetchData(e,n).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}_fetchData(t,e){$t("Abstract method `_fetchData` called.")}}class Du{constructor({baseUrl:t=null}){this.constructor===Du&&$t("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetchData(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}_fetchData(t){$t("Abstract method `_fetchData` called.")}}class Vg{constructor(){this.constructor===Vg&&$t("Cannot initialize BaseSVGFactory.")}create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),n||(s.setAttribute("width",`${t}px`),s.setAttribute("height",`${e}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${t} ${e}`),s}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){$t("Abstract method `_createSVG` called.")}}const _s="http://www.w3.org/2000/svg",gr=class gr{};pt(gr,"CSS",96),pt(gr,"PDF",72),pt(gr,"PDF_TO_CSS_UNITS",gr.CSS/gr.PDF);let Zi=gr;var yr,Yn,Ls,Ge,Jh,wr,et,Pe,Ma,Ia,oh,fw,ep,Oa,fl,pl,np,gl;class V1 extends Ou{constructor({docId:e,ownerDocument:n=globalThis.document}={}){super();x(this,et);x(this,yr);x(this,Yn);x(this,Ls);x(this,Ge);x(this,Jh);x(this,wr,0);y(this,Ls,e),y(this,Ge,n)}addFilter(e){if(!e)return"none";let n=d(this,et,Pe).get(e);if(n)return n;const[s,r,a]=w(this,et,oh).call(this,e),o=e.length===1?s:`${s}${r}${a}`;if(n=d(this,et,Pe).get(o),n)return d(this,et,Pe).set(e,n),n;const l=`g_${d(this,Ls)}_transfer_map_${tn(this,wr)._++}`,c=`url(#${l})`;d(this,et,Pe).set(e,c),d(this,et,Pe).set(o,c);const h=w(this,et,Oa).call(this,l);return w(this,et,pl).call(this,s,r,a,h),c}addHCMFilter(e,n){var m;const s=`${e}-${n}`,r="base";let a=d(this,et,Ma).get(r);if((a==null?void 0:a.key)===s||(a?((m=a.filter)==null||m.remove(),a.key=s,a.url="none",a.filter=null):(a={key:s,url:"none",filter:null},d(this,et,Ma).set(r,a)),!e||!n))return a.url;const o=w(this,et,gl).call(this,e);e=st.makeHexColor(...o);const l=w(this,et,gl).call(this,n);if(n=st.makeHexColor(...l),d(this,et,Ia).style.color="",e==="#000000"&&n==="#ffffff"||e===n)return a.url;const c=new Array(256);for(let g=0;g<=255;g++){const b=g/255;c[g]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const h=c.join(","),u=`g_${d(this,Ls)}_hcm_filter`,f=a.filter=w(this,et,Oa).call(this,u);w(this,et,pl).call(this,h,h,h,f),w(this,et,ep).call(this,f);const p=(g,b)=>{const v=o[g]/255,A=l[g]/255,E=new Array(b+1);for(let k=0;k<=b;k++)E[k]=v+k/b*(A-v);return E.join(",")};return w(this,et,pl).call(this,p(0,5),p(1,5),p(2,5),f),a.url=`url(#${u})`,a.url}addAlphaFilter(e){let n=d(this,et,Pe).get(e);if(n)return n;const[s]=w(this,et,oh).call(this,[e]),r=`alpha_${s}`;if(n=d(this,et,Pe).get(r),n)return d(this,et,Pe).set(e,n),n;const a=`g_${d(this,Ls)}_alpha_map_${tn(this,wr)._++}`,o=`url(#${a})`;d(this,et,Pe).set(e,o),d(this,et,Pe).set(r,o);const l=w(this,et,Oa).call(this,a);return w(this,et,np).call(this,s,l),o}addLuminosityFilter(e){let n=d(this,et,Pe).get(e||"luminosity");if(n)return n;let s,r;if(e?([s]=w(this,et,oh).call(this,[e]),r=`luminosity_${s}`):r="luminosity",n=d(this,et,Pe).get(r),n)return d(this,et,Pe).set(e,n),n;const a=`g_${d(this,Ls)}_luminosity_map_${tn(this,wr)._++}`,o=`url(#${a})`;d(this,et,Pe).set(e,o),d(this,et,Pe).set(r,o);const l=w(this,et,Oa).call(this,a);return w(this,et,fw).call(this,l),e&&w(this,et,np).call(this,s,l),o}addHighlightHCMFilter(e,n,s,r,a){var A;const o=`${n}-${s}-${r}-${a}`;let l=d(this,et,Ma).get(e);if((l==null?void 0:l.key)===o||(l?((A=l.filter)==null||A.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},d(this,et,Ma).set(e,l)),!n||!s))return l.url;const[c,h]=[n,s].map(w(this,et,gl).bind(this));let u=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),f=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[p,m]=[r,a].map(w(this,et,gl).bind(this));f<u&&([u,f,p,m]=[f,u,m,p]),d(this,et,Ia).style.color="";const g=(E,k,S)=>{const _=new Array(256),L=(f-u)/S,P=E/255,M=(k-E)/(255*S);let C=0;for(let I=0;I<=S;I++){const F=Math.round(u+I*L),z=P+I*M;for(let H=C;H<=F;H++)_[H]=z;C=F+1}for(let I=C;I<256;I++)_[I]=_[C-1];return _.join(",")},b=`g_${d(this,Ls)}_hcm_${e}_filter`,v=l.filter=w(this,et,Oa).call(this,b);return w(this,et,ep).call(this,v),w(this,et,pl).call(this,g(p[0],m[0],5),g(p[1],m[1],5),g(p[2],m[2],5),v),l.url=`url(#${b})`,l.url}destroy(e=!1){e&&d(this,et,Ma).size!==0||(d(this,Yn)&&(d(this,Yn).parentNode.parentNode.remove(),y(this,Yn,null)),d(this,yr)&&(d(this,yr).clear(),y(this,yr,null)),y(this,wr,0))}}yr=new WeakMap,Yn=new WeakMap,Ls=new WeakMap,Ge=new WeakMap,Jh=new WeakMap,wr=new WeakMap,et=new WeakSet,Pe=function(){return d(this,yr)||y(this,yr,new Map)},Ma=function(){return d(this,Jh)||y(this,Jh,new Map)},Ia=function(){if(!d(this,Yn)){const e=d(this,Ge).createElement("div"),{style:n}=e;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const s=d(this,Ge).createElementNS(_s,"svg");s.setAttribute("width",0),s.setAttribute("height",0),y(this,Yn,d(this,Ge).createElementNS(_s,"defs")),e.append(s),s.append(d(this,Yn)),d(this,Ge).body.append(e)}return d(this,Yn)},oh=function(e){if(e.length===1){const c=e[0],h=new Array(256);for(let f=0;f<256;f++)h[f]=c[f]/255;const u=h.join(",");return[u,u,u]}const[n,s,r]=e,a=new Array(256),o=new Array(256),l=new Array(256);for(let c=0;c<256;c++)a[c]=n[c]/255,o[c]=s[c]/255,l[c]=r[c]/255;return[a.join(","),o.join(","),l.join(",")]},fw=function(e){const n=d(this,Ge).createElementNS(_s,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(n)},ep=function(e){const n=d(this,Ge).createElementNS(_s,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(n)},Oa=function(e){const n=d(this,Ge).createElementNS(_s,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",e),d(this,et,Ia).append(n),n},fl=function(e,n,s){const r=d(this,Ge).createElementNS(_s,n);r.setAttribute("type","discrete"),r.setAttribute("tableValues",s),e.append(r)},pl=function(e,n,s,r){const a=d(this,Ge).createElementNS(_s,"feComponentTransfer");r.append(a),w(this,et,fl).call(this,a,"feFuncR",e),w(this,et,fl).call(this,a,"feFuncG",n),w(this,et,fl).call(this,a,"feFuncB",s)},np=function(e,n){const s=d(this,Ge).createElementNS(_s,"feComponentTransfer");n.append(s),w(this,et,fl).call(this,s,"feFuncA",e)},gl=function(e){return d(this,et,Ia).style.color=e,Kg(getComputedStyle(d(this,et,Ia)).getPropertyValue("color"))};class q1 extends Uh{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}={}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}async function Fu(i,t="text"){if(ml(i,document.baseURI)){const e=await fetch(i);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const s=new XMLHttpRequest;s.open("GET",i,!0),s.responseType=t,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(s.response);return}e(s.responseText);return}n(new Error(s.statusText))}},s.send(null)})}class pw extends Nu{_fetchData(t,e){return Fu(t,this.isCompressed?"arraybuffer":"text").then(n=>({cMapData:n instanceof ArrayBuffer?new Uint8Array(n):Iu(n),compressionType:e}))}}class gw extends Du{_fetchData(t){return Fu(t,"arraybuffer").then(e=>new Uint8Array(e))}}class qg extends Vg{_createSVG(t){return document.createElementNS(_s,t)}}class Sd{constructor({viewBox:t,scale:e,rotation:n,offsetX:s=0,offsetY:r=0,dontFlip:a=!1}){this.viewBox=t,this.scale=e,this.rotation=n,this.offsetX=s,this.offsetY=r;const o=(t[2]+t[0])/2,l=(t[3]+t[1])/2;let c,h,u,f;switch(n%=360,n<0&&(n+=360),n){case 180:c=-1,h=0,u=0,f=1;break;case 90:c=0,h=1,u=1,f=0;break;case 270:c=0,h=-1,u=-1,f=0;break;case 0:c=1,h=0,u=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(u=-u,f=-f);let p,m,g,b;c===0?(p=Math.abs(l-t[1])*e+s,m=Math.abs(o-t[0])*e+r,g=(t[3]-t[1])*e,b=(t[2]-t[0])*e):(p=Math.abs(o-t[0])*e+s,m=Math.abs(l-t[1])*e+r,g=(t[2]-t[0])*e,b=(t[3]-t[1])*e),this.transform=[c*e,h*e,u*e,f*e,p-c*e*o-u*e*l,m-h*e*o-f*e*l],this.width=g,this.height=b}get rawDims(){const{viewBox:t}=this;return Mt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:s=this.offsetY,dontFlip:r=!1}={}){return new Sd({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:n,offsetY:s,dontFlip:r})}convertToViewportPoint(t,e){return st.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=st.applyTransform([t[0],t[1]],this.transform),n=st.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){return st.applyInverseTransform([t,e],this.transform)}}class Gg extends ir{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Xg(i){const t=i.length;let e=0;for(;e<t&&i[e].trim()==="";)e++;return i.substring(e,e+5).toLowerCase()==="data:"}function Yg(i){return typeof i=="string"&&/\.pdf$/i.test(i)}function G1(i){return[i]=i.split(/[#?]/,1),i.substring(i.lastIndexOf("/")+1)}function X1(i,t="document.pdf"){if(typeof i!="string")return t;if(Xg(i))return Et('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=e.exec(i);let r=n.exec(s[1])||n.exec(s[2])||n.exec(s[3]);if(r&&(r=r[0],r.includes("%")))try{r=n.exec(decodeURIComponent(r))[0]}catch{}return r||t}class Mv{constructor(){pt(this,"started",Object.create(null));pt(this,"times",[])}time(t){t in this.started&&Et(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Et(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:s,end:r}of this.times)t.push(`${n.padEnd(e)} ${r-s}ms
`);return t.join("")}}function ml(i,t){try{const{protocol:e}=t?new URL(i,t):new URL(i);return e==="http:"||e==="https:"}catch{return!1}}function Qe(i){i.preventDefault()}function mw(i){console.log("Deprecated API usage: "+i)}let Iv;class vw{static toDateObject(t){if(!t||typeof t!="string")return null;Iv||(Iv=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=Iv.exec(t);if(!e)return null;const n=parseInt(e[1],10);let s=parseInt(e[2],10);s=s>=1&&s<=12?s-1:0;let r=parseInt(e[3],10);r=r>=1&&r<=31?r:1;let a=parseInt(e[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(e[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(e[6],10);l=l>=0&&l<=59?l:0;const c=e[7]||"Z";let h=parseInt(e[8],10);h=h>=0&&h<=23?h:0;let u=parseInt(e[9],10)||0;return u=u>=0&&u<=59?u:0,c==="-"?(a+=h,o+=u):c==="+"&&(a-=h,o-=u),new Date(Date.UTC(n,s,r,a,o,l))}}function Y1(i,{scale:t=1,rotation:e=0}){const{width:n,height:s}=i.attributes.style,r=[0,0,parseInt(n),parseInt(s)];return new Sd({viewBox:r,scale:t,rotation:e})}function Kg(i){if(i.startsWith("#")){const t=parseInt(i.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return i.startsWith("rgb(")?i.slice(4,-1).split(",").map(t=>parseInt(t)):i.startsWith("rgba(")?i.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Et(`Not a valid color format: "${i}"`),[0,0,0])}function K1(i){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of i.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;i.set(e,Kg(n))}t.remove()}function Jt(i){const{a:t,b:e,c:n,d:s,e:r,f:a}=i.getTransform();return[t,e,n,s,r,a]}function ks(i){const{a:t,b:e,c:n,d:s,e:r,f:a}=i.getTransform().invertSelf();return[t,e,n,s,r,a]}function ya(i,t,e=!1,n=!0){if(t instanceof Sd){const{pageWidth:s,pageHeight:r}=t.rawDims,{style:a}=i,o=Ke.isCSSRoundSupported,l=`var(--scale-factor) * ${s}px`,c=`var(--scale-factor) * ${r}px`,h=o?`round(${l}, 1px)`:`calc(${l})`,u=o?`round(${c}, 1px)`:`calc(${c})`;!e||t.rotation%180===0?(a.width=h,a.height=u):(a.width=u,a.height=h)}n&&i.setAttribute("data-main-rotation",t.rotation)}var Ar,xr,sn,Er,Qh,bw,Ue,yw,ww,lh,Aw,ip;const Zh=class Zh{constructor(t){x(this,Ue);x(this,Ar,null);x(this,xr,null);x(this,sn);x(this,Er,null);y(this,sn,t)}render(){const t=y(this,Ar,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar");const e=d(this,sn)._uiManager._signal;t.addEventListener("contextmenu",Qe,{signal:e}),t.addEventListener("pointerdown",w(Zh,Qh,bw),{signal:e});const n=y(this,Er,document.createElement("div"));n.className="buttons",t.append(n);const s=d(this,sn).toolbarPosition;if(s){const{style:r}=t,a=d(this,sn)._uiManager.direction==="ltr"?1-s[0]:s[0];r.insetInlineEnd=`${100*a}%`,r.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return w(this,Ue,Aw).call(this),t}hide(){var t;d(this,Ar).classList.add("hidden"),(t=d(this,xr))==null||t.hideDropdown()}show(){d(this,Ar).classList.remove("hidden")}addAltTextButton(t){w(this,Ue,lh).call(this,t),d(this,Er).prepend(t,d(this,Ue,ip))}addColorPicker(t){y(this,xr,t);const e=t.renderButton();w(this,Ue,lh).call(this,e),d(this,Er).prepend(e,d(this,Ue,ip))}remove(){var t;d(this,Ar).remove(),(t=d(this,xr))==null||t.destroy(),y(this,xr,null)}};Ar=new WeakMap,xr=new WeakMap,sn=new WeakMap,Er=new WeakMap,Qh=new WeakSet,bw=function(t){t.stopPropagation()},Ue=new WeakSet,yw=function(t){d(this,sn)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},ww=function(t){d(this,sn)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},lh=function(t){const e=d(this,sn)._uiManager._signal;t.addEventListener("focusin",w(this,Ue,yw).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",w(this,Ue,ww).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Qe,{signal:e})},Aw=function(){const t=document.createElement("button");t.className="delete",t.tabIndex=0,t.setAttribute("data-l10n-id",`pdfjs-editor-remove-${d(this,sn).editorType}-button`),w(this,Ue,lh).call(this,t),t.addEventListener("click",e=>{d(this,sn)._uiManager.delete()},{signal:d(this,sn)._uiManager._signal}),d(this,Er).append(t)},ip=function(){const t=document.createElement("div");return t.className="divider",t},x(Zh,Qh);let sp=Zh;var Ul,Sr,kr,tr,xw,Ew,Sw;class J1{constructor(t){x(this,tr);x(this,Ul,null);x(this,Sr,null);x(this,kr);y(this,kr,t)}show(t,e,n){const[s,r]=w(this,tr,Ew).call(this,e,n),{style:a}=d(this,Sr)||y(this,Sr,w(this,tr,xw).call(this));t.append(d(this,Sr)),a.insetInlineEnd=`${100*s}%`,a.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){d(this,Sr).remove()}}Ul=new WeakMap,Sr=new WeakMap,kr=new WeakMap,tr=new WeakSet,xw=function(){const t=y(this,Sr,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Qe,{signal:d(this,kr)._signal});const e=y(this,Ul,document.createElement("div"));return e.className="buttons",t.append(e),w(this,tr,Sw).call(this),t},Ew=function(t,e){let n=0,s=0;for(const r of t){const a=r.y+r.height;if(a<n)continue;const o=r.x+(e?r.width:0);if(a>n){s=o,n=a;continue}e?o>s&&(s=o):o<s&&(s=o)}return[e?1-s:s,n]},Sw=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=d(this,kr)._signal;t.addEventListener("contextmenu",Qe,{signal:n}),t.addEventListener("click",()=>{d(this,kr).highlightSelection("floating_button")},{signal:n}),d(this,Ul).append(t)};function Wh(i,t,e){for(const n of e)t.addEventListener(n,i[n].bind(i))}function Q1(i){return Math.round(Math.min(255,Math.max(1,255*i))).toString(16).padStart(2,"0")}var tu;class Z1{constructor(){x(this,tu,0)}get id(){return`${L1}${tn(this,tu)._++}`}}tu=new WeakMap;var Wl,eu,An,Vl,ap;const nm=class nm{constructor(){x(this,Vl);x(this,Wl,W1());x(this,eu,0);x(this,An,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=t;const r=s.decode().then(()=>(n.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Mt(this,"_isSVGFittingCanvas",r)}async getFromFile(t){const{lastModified:e,name:n,size:s,type:r}=t;return w(this,Vl,ap).call(this,`${e}_${n}_${s}_${r}`,t)}async getFromUrl(t){return w(this,Vl,ap).call(this,t,t)}async getFromId(t){d(this,An)||y(this,An,new Map);const e=d(this,An).get(t);return e?e.bitmap?(e.refCounter+=1,e):e.file?this.getFromFile(e.file):this.getFromUrl(e.url):null}getSvgUrl(t){const e=d(this,An).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){d(this,An)||y(this,An,new Map);const e=d(this,An).get(t);e&&(e.refCounter-=1,e.refCounter===0&&(e.bitmap=null))}isValidId(t){return t.startsWith(`image_${d(this,Wl)}_`)}};Wl=new WeakMap,eu=new WeakMap,An=new WeakMap,Vl=new WeakSet,ap=async function(t,e){d(this,An)||y(this,An,new Map);let n=d(this,An).get(t);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${d(this,Wl)}_${tn(this,eu)._++}`,refCounter:0,isSvg:!1});let s;if(typeof e=="string"?(n.url=e,s=await Fu(e,"blob")):s=n.file=e,s.type==="image/svg+xml"){const r=nm._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((c,h)=>{o.onload=()=>{n.bitmap=o,n.isSvg=!0,c()},a.onload=async()=>{const u=n.svgUrl=a.result;o.src=await r?`${u}#svgView(preserveAspectRatio(none))`:u},o.onerror=a.onerror=h});a.readAsDataURL(s),await l}else n.bitmap=await createImageBitmap(s);n.refCounter=1}catch(s){console.error(s),n=null}return d(this,An).set(t,n),n&&d(this,An).set(n.id,n),n};let rp=nm;var be,ki,ql,ye;class tR{constructor(t=128){x(this,be,[]);x(this,ki,!1);x(this,ql);x(this,ye,-1);y(this,ql,t)}add({cmd:t,undo:e,post:n,mustExec:s,type:r=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(s&&t(),d(this,ki))return;const l={cmd:t,undo:e,post:n,type:r};if(d(this,ye)===-1){d(this,be).length>0&&(d(this,be).length=0),y(this,ye,0),d(this,be).push(l);return}if(a&&d(this,be)[d(this,ye)].type===r){o&&(l.undo=d(this,be)[d(this,ye)].undo),d(this,be)[d(this,ye)]=l;return}const c=d(this,ye)+1;c===d(this,ql)?d(this,be).splice(0,1):(y(this,ye,c),c<d(this,be).length&&d(this,be).splice(c)),d(this,be).push(l)}undo(){if(d(this,ye)===-1)return;y(this,ki,!0);const{undo:t,post:e}=d(this,be)[d(this,ye)];t(),e==null||e(),y(this,ki,!1),y(this,ye,d(this,ye)-1)}redo(){if(d(this,ye)<d(this,be).length-1){y(this,ye,d(this,ye)+1),y(this,ki,!0);const{cmd:t,post:e}=d(this,be)[d(this,ye)];t(),e==null||e(),y(this,ki,!1)}}hasSomethingToUndo(){return d(this,ye)!==-1}hasSomethingToRedo(){return d(this,ye)<d(this,be).length-1}destroy(){y(this,be,null)}}be=new WeakMap,ki=new WeakMap,ql=new WeakMap,ye=new WeakMap;var nu,kw;class kd{constructor(t){x(this,nu);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Ke.platform;for(const[n,s,r={}]of t)for(const a of n){const o=a.startsWith("mac+");e&&o?(this.callbacks.set(a.slice(4),{callback:s,options:r}),this.allKeys.add(a.split("+").at(-1))):!e&&!o&&(this.callbacks.set(a,{callback:s,options:r}),this.allKeys.add(a.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(w(this,nu,kw).call(this,e));if(!n)return;const{callback:s,options:{bubbles:r=!1,args:a=[],checker:o=null}}=n;o&&!o(t,e)||(s.bind(t,...a,e)(),r||(e.stopPropagation(),e.preventDefault()))}}nu=new WeakSet,kw=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const su=class su{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return K1(t),Mt(this,"_colors",t)}convert(t){const e=Kg(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,s]of this._colors)if(s.every((r,a)=>r===e[a]))return su._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?st.makeHexColor(...e):t}};pt(su,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let op=su;var Xa,rn,de,Ae,Ya,Ms,Ka,Mn,Ja,_r,Kn,In,Cr,Gl,Xl,Jn,Qa,_i,Qn,iu,Ci,Yl,Rr,Kl,Za,xe,zt,Is,Tr,Jl,Ql,Zl,tc,ec,nc,sc,ic,rc,ac,oc,lc,cc,Ri,Zn,Os,dc,X,ch,_w,Cw,dh,Rw,Tw,Pw,lp,Lw,cp,dp,Mw,He,yi,Iw,Ow,hp,Nw,vl,up;const Ba=class Ba{constructor(t,e,n,s,r,a,o,l,c){x(this,X);x(this,Xa,new AbortController);x(this,rn,null);x(this,de,new Map);x(this,Ae,new Map);x(this,Ya,null);x(this,Ms,null);x(this,Ka,null);x(this,Mn,new tR);x(this,Ja,0);x(this,_r,new Set);x(this,Kn,null);x(this,In,null);x(this,Cr,new Set);x(this,Gl,!1);x(this,Xl,null);x(this,Jn,null);x(this,Qa,null);x(this,_i,!1);x(this,Qn,null);x(this,iu,new Z1);x(this,Ci,!1);x(this,Yl,!1);x(this,Rr,null);x(this,Kl,null);x(this,Za,null);x(this,xe,Pt.NONE);x(this,zt,new Set);x(this,Is,null);x(this,Tr,null);x(this,Jl,null);x(this,Ql,this.blur.bind(this));x(this,Zl,this.focus.bind(this));x(this,tc,this.copy.bind(this));x(this,ec,this.cut.bind(this));x(this,nc,this.paste.bind(this));x(this,sc,this.keydown.bind(this));x(this,ic,this.keyup.bind(this));x(this,rc,this.onEditingAction.bind(this));x(this,ac,this.onPageChanging.bind(this));x(this,oc,this.onScaleChanging.bind(this));x(this,lc,this.onRotationChanging.bind(this));x(this,cc,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});x(this,Ri,[0,0]);x(this,Zn,null);x(this,Os,null);x(this,dc,null);this._signal=d(this,Xa).signal,y(this,Os,t),y(this,dc,e),y(this,Ya,n),this._eventBus=s,this._eventBus._on("editingaction",d(this,rc)),this._eventBus._on("pagechanging",d(this,ac)),this._eventBus._on("scalechanging",d(this,oc)),this._eventBus._on("rotationchanging",d(this,lc)),w(this,X,Rw).call(this),w(this,X,Mw).call(this),w(this,X,lp).call(this),y(this,Ms,r.annotationStorage),y(this,Xl,r.filterFactory),y(this,Tr,a),y(this,Qa,o||null),y(this,Gl,l),y(this,Za,c||null),this.viewParameters={realScale:Zi.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=Ba.prototype,e=a=>d(a,Os).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),n=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},s=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return Mt(this,"_keyboardManager",new kd([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&d(a,Os).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&d(a,Os).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}]]))}destroy(){var t,e,n;(t=d(this,Xa))==null||t.abort(),y(this,Xa,null),this._signal=null,this._eventBus._off("editingaction",d(this,rc)),this._eventBus._off("pagechanging",d(this,ac)),this._eventBus._off("scalechanging",d(this,oc)),this._eventBus._off("rotationchanging",d(this,lc));for(const s of d(this,Ae).values())s.destroy();d(this,Ae).clear(),d(this,de).clear(),d(this,Cr).clear(),y(this,rn,null),d(this,zt).clear(),d(this,Mn).destroy(),(e=d(this,Ya))==null||e.destroy(),(n=d(this,Qn))==null||n.hide(),y(this,Qn,null),d(this,Jn)&&(clearTimeout(d(this,Jn)),y(this,Jn,null)),d(this,Zn)&&(clearTimeout(d(this,Zn)),y(this,Zn,null))}async mlGuess(t){var e;return((e=d(this,Za))==null?void 0:e.guess(t))||null}get hasMLManager(){return!!d(this,Za)}get hcmFilter(){return Mt(this,"hcmFilter",d(this,Tr)?d(this,Xl).addHCMFilter(d(this,Tr).foreground,d(this,Tr).background):"none")}get direction(){return Mt(this,"direction",getComputedStyle(d(this,Os)).direction)}get highlightColors(){return Mt(this,"highlightColors",d(this,Qa)?new Map(d(this,Qa).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return Mt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){y(this,Kl,t)}editAltText(t){var e;(e=d(this,Ya))==null||e.editAltText(this,t)}onPageChanging({pageNumber:t}){y(this,Ja,t-1)}focusMainContainer(){d(this,Os).focus()}findParent(t,e){for(const n of d(this,Ae).values()){const{x:s,y:r,width:a,height:o}=n.div.getBoundingClientRect();if(t>=s&&t<=s+a&&e>=r&&e<=r+o)return n}return null}disableUserSelect(t=!1){d(this,dc).classList.toggle("noUserSelect",t)}addShouldRescale(t){d(this,Cr).add(t)}removeShouldRescale(t){d(this,Cr).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Zi.PDF_TO_CSS_UNITS;for(const e of d(this,Cr))e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:n,anchorOffset:s,focusNode:r,focusOffset:a}=e,o=e.toString(),c=w(this,X,ch).call(this,e).closest(".textLayer"),h=this.getSelectionBoxes(c);if(h){e.empty(),d(this,xe)===Pt.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:Pt.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const u of d(this,Ae).values())if(u.hasTextLayer(c)){u.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:h,anchorNode:n,anchorOffset:s,focusNode:r,focusOffset:a,text:o});break}}}addToAnnotationStorage(t){!t.isEmpty()&&d(this,Ms)&&!d(this,Ms).has(t.id)&&d(this,Ms).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,d(this,_i)&&(y(this,_i,!1),w(this,X,dh).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of d(this,zt))if(e.div.contains(t)){y(this,Rr,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!d(this,Rr))return;const[t,e]=d(this,Rr);y(this,Rr,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){w(this,X,lp).call(this),w(this,X,cp).call(this)}removeEditListeners(){w(this,X,Lw).call(this),w(this,X,dp).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of d(this,In))if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of d(this,In))if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var n;if(t.preventDefault(),(n=d(this,rn))==null||n.commitOrRemove(),!this.hasSelection)return;const e=[];for(const s of d(this,zt)){const r=s.serialize(!0);r&&e.push(r)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}paste(t){t.preventDefault();const{clipboardData:e}=t;for(const r of e.items)for(const a of d(this,In))if(a.isHandlingMimeForPasting(r.type)){a.paste(r,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(r){Et(`paste: "${r.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const s=this.currentLayer;try{const r=[];for(const l of n){const c=s.deserialize(l);if(!c)return;r.push(c)}const a=()=>{for(const l of r)w(this,X,hp).call(this,l);w(this,X,up).call(this,r)},o=()=>{for(const l of r)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(r){Et(`paste: "${r.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),d(this,xe)!==Pt.NONE&&!this.isEditorHandlingKeyboard&&Ba._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,d(this,_i)&&(y(this,_i,!1),w(this,X,dh).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(w(this,X,Tw).call(this),w(this,X,cp).call(this),w(this,X,He).call(this,{isEditing:d(this,xe)!==Pt.NONE,isEmpty:w(this,X,vl).call(this),hasSomethingToUndo:d(this,Mn).hasSomethingToUndo(),hasSomethingToRedo:d(this,Mn).hasSomethingToRedo(),hasSelectedEditor:!1})):(w(this,X,Pw).call(this),w(this,X,dp).call(this),w(this,X,He).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!d(this,In)){y(this,In,t);for(const e of d(this,In))w(this,X,yi).call(this,e.defaultPropertiesToUpdate)}}getId(){return d(this,iu).id}get currentLayer(){return d(this,Ae).get(d(this,Ja))}getLayer(t){return d(this,Ae).get(t)}get currentPageIndex(){return d(this,Ja)}addLayer(t){d(this,Ae).set(t.pageIndex,t),d(this,Ci)?t.enable():t.disable()}removeLayer(t){d(this,Ae).delete(t.pageIndex)}updateMode(t,e=null,n=!1){if(d(this,xe)!==t){if(y(this,xe,t),t===Pt.NONE){this.setEditingState(!1),w(this,X,Ow).call(this);return}this.setEditingState(!0),w(this,X,Iw).call(this),this.unselectAll();for(const s of d(this,Ae).values())s.updateMode(t);if(!e&&n){this.addNewEditorFromKeyboard();return}if(e){for(const s of d(this,de).values())if(s.annotationElementId===e){this.setSelected(s),s.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==d(this,xe)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var n;if(d(this,In)){switch(t){case gt.CREATE:this.currentLayer.addNewEditor();return;case gt.HIGHLIGHT_DEFAULT_COLOR:(n=d(this,Kl))==null||n.updateColor(e);break;case gt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(d(this,Jl)||y(this,Jl,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const s of d(this,zt))s.updateParams(t,e);for(const s of d(this,In))s.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){var r;for(const a of d(this,de).values())a.editorType===t&&a.show(e);(((r=d(this,Jl))==null?void 0:r.get(gt.HIGHLIGHT_SHOW_ALL))??!0)!==e&&w(this,X,yi).call(this,[[gt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(d(this,Yl)!==t){y(this,Yl,t);for(const e of d(this,Ae).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const n of d(this,de).values())n.pageIndex===t&&e.push(n);return e}getEditor(t){return d(this,de).get(t)}addEditor(t){d(this,de).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(d(this,Jn)&&clearTimeout(d(this,Jn)),y(this,Jn,setTimeout(()=>{this.focusMainContainer(),y(this,Jn,null)},0))),d(this,de).delete(t.id),this.unselect(t),(!t.annotationElementId||!d(this,_r).has(t.annotationElementId))&&((e=d(this,Ms))==null||e.remove(t.id))}addDeletedAnnotationElement(t){d(this,_r).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return d(this,_r).has(t)}removeDeletedAnnotationElement(t){d(this,_r).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){d(this,rn)!==t&&(y(this,rn,t),t&&w(this,X,yi).call(this,t.propertiesToUpdate))}updateUI(t){d(this,X,Nw)===t&&w(this,X,yi).call(this,t.propertiesToUpdate)}toggleSelected(t){if(d(this,zt).has(t)){d(this,zt).delete(t),t.unselect(),w(this,X,He).call(this,{hasSelectedEditor:this.hasSelection});return}d(this,zt).add(t),t.select(),w(this,X,yi).call(this,t.propertiesToUpdate),w(this,X,He).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of d(this,zt))e!==t&&e.unselect();d(this,zt).clear(),d(this,zt).add(t),t.select(),w(this,X,yi).call(this,t.propertiesToUpdate),w(this,X,He).call(this,{hasSelectedEditor:!0})}isSelected(t){return d(this,zt).has(t)}get firstSelectedEditor(){return d(this,zt).values().next().value}unselect(t){t.unselect(),d(this,zt).delete(t),w(this,X,He).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return d(this,zt).size!==0}get isEnterHandled(){return d(this,zt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){d(this,Mn).undo(),w(this,X,He).call(this,{hasSomethingToUndo:d(this,Mn).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:w(this,X,vl).call(this)})}redo(){d(this,Mn).redo(),w(this,X,He).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:d(this,Mn).hasSomethingToRedo(),isEmpty:w(this,X,vl).call(this)})}addCommands(t){d(this,Mn).add(t),w(this,X,He).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:w(this,X,vl).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...d(this,zt)],e=()=>{for(const s of t)s.remove()},n=()=>{for(const s of t)w(this,X,hp).call(this,s)};this.addCommands({cmd:e,undo:n,mustExec:!0})}commitOrRemove(){var t;(t=d(this,rn))==null||t.commitOrRemove()}hasSomethingToControl(){return d(this,rn)||this.hasSelection}selectAll(){for(const t of d(this,zt))t.commit();w(this,X,up).call(this,d(this,de).values())}unselectAll(){if(!(d(this,rn)&&(d(this,rn).commitOrRemove(),d(this,xe)!==Pt.NONE))&&this.hasSelection){for(const t of d(this,zt))t.unselect();d(this,zt).clear(),w(this,X,He).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;d(this,Ri)[0]+=t,d(this,Ri)[1]+=e;const[s,r]=d(this,Ri),a=[...d(this,zt)],o=1e3;d(this,Zn)&&clearTimeout(d(this,Zn)),y(this,Zn,setTimeout(()=>{y(this,Zn,null),d(this,Ri)[0]=d(this,Ri)[1]=0,this.addCommands({cmd:()=>{for(const l of a)d(this,de).has(l.id)&&l.translateInPage(s,r)},undo:()=>{for(const l of a)d(this,de).has(l.id)&&l.translateInPage(-s,-r)},mustExec:!1})},o));for(const l of a)l.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),y(this,Kn,new Map);for(const t of d(this,zt))d(this,Kn).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!d(this,Kn))return!1;this.disableUserSelect(!1);const t=d(this,Kn);y(this,Kn,null);let e=!1;for(const[{x:s,y:r,pageIndex:a},o]of t)o.newX=s,o.newY=r,o.newPageIndex=a,e||(e=s!==o.savedX||r!==o.savedY||a!==o.savedPageIndex);if(!e)return!1;const n=(s,r,a,o)=>{if(d(this,de).has(s.id)){const l=d(this,Ae).get(o);l?s._setParentAndPosition(l,r,a):(s.pageIndex=o,s.x=r,s.y=a)}};return this.addCommands({cmd:()=>{for(const[s,{newX:r,newY:a,newPageIndex:o}]of t)n(s,r,a,o)},undo:()=>{for(const[s,{savedX:r,savedY:a,savedPageIndex:o}]of t)n(s,r,a,o)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(d(this,Kn))for(const n of d(this,Kn).keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||d(this,zt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return d(this,rn)===t}getActive(){return d(this,rn)}getMode(){return d(this,xe)}get imageManager(){return Mt(this,"imageManager",new rp)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let c=0,h=e.rangeCount;c<h;c++)if(!t.contains(e.getRangeAt(c).commonAncestorContainer))return null;const{x:n,y:s,width:r,height:a}=t.getBoundingClientRect();let o;switch(t.getAttribute("data-main-rotation")){case"90":o=(c,h,u,f)=>({x:(h-s)/a,y:1-(c+u-n)/r,width:f/a,height:u/r});break;case"180":o=(c,h,u,f)=>({x:1-(c+u-n)/r,y:1-(h+f-s)/a,width:u/r,height:f/a});break;case"270":o=(c,h,u,f)=>({x:1-(h+f-s)/a,y:(c-n)/r,width:f/a,height:u/r});break;default:o=(c,h,u,f)=>({x:(c-n)/r,y:(h-s)/a,width:u/r,height:f/a});break}const l=[];for(let c=0,h=e.rangeCount;c<h;c++){const u=e.getRangeAt(c);if(!u.collapsed)for(const{x:f,y:p,width:m,height:g}of u.getClientRects())m===0||g===0||l.push(o(f,p,m,g))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:t,id:e}){(d(this,Ka)||y(this,Ka,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=d(this,Ka))==null||e.delete(t)}renderAnnotationElement(t){var s;const e=(s=d(this,Ka))==null?void 0:s.get(t.data.id);if(!e)return;const n=d(this,Ms).getRawValue(e);n&&(d(this,xe)===Pt.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}};Xa=new WeakMap,rn=new WeakMap,de=new WeakMap,Ae=new WeakMap,Ya=new WeakMap,Ms=new WeakMap,Ka=new WeakMap,Mn=new WeakMap,Ja=new WeakMap,_r=new WeakMap,Kn=new WeakMap,In=new WeakMap,Cr=new WeakMap,Gl=new WeakMap,Xl=new WeakMap,Jn=new WeakMap,Qa=new WeakMap,_i=new WeakMap,Qn=new WeakMap,iu=new WeakMap,Ci=new WeakMap,Yl=new WeakMap,Rr=new WeakMap,Kl=new WeakMap,Za=new WeakMap,xe=new WeakMap,zt=new WeakMap,Is=new WeakMap,Tr=new WeakMap,Jl=new WeakMap,Ql=new WeakMap,Zl=new WeakMap,tc=new WeakMap,ec=new WeakMap,nc=new WeakMap,sc=new WeakMap,ic=new WeakMap,rc=new WeakMap,ac=new WeakMap,oc=new WeakMap,lc=new WeakMap,cc=new WeakMap,Ri=new WeakMap,Zn=new WeakMap,Os=new WeakMap,dc=new WeakMap,X=new WeakSet,ch=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},_w=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=w(this,X,ch).call(this,t).closest(".textLayer"),s=this.getSelectionBoxes(n);s&&(d(this,Qn)||y(this,Qn,new J1(this)),d(this,Qn).show(n,s,this.direction==="ltr"))},Cw=function(){var r,a,o;const t=document.getSelection();if(!t||t.isCollapsed){d(this,Is)&&((r=d(this,Qn))==null||r.hide(),y(this,Is,null),w(this,X,He).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===d(this,Is))return;if(!w(this,X,ch).call(this,t).closest(".textLayer")){d(this,Is)&&((a=d(this,Qn))==null||a.hide(),y(this,Is,null),w(this,X,He).call(this,{hasSelectedText:!1}));return}if((o=d(this,Qn))==null||o.hide(),y(this,Is,e),w(this,X,He).call(this,{hasSelectedText:!0}),!(d(this,xe)!==Pt.HIGHLIGHT&&d(this,xe)!==Pt.NONE)&&(d(this,xe)===Pt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),y(this,_i,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=this._signal,c=h=>{h.type==="pointerup"&&h.button!==0||(window.removeEventListener("pointerup",c),window.removeEventListener("blur",c),h.type==="pointerup"&&w(this,X,dh).call(this,"main_toolbar"))};window.addEventListener("pointerup",c,{signal:l}),window.addEventListener("blur",c,{signal:l})}},dh=function(t=""){d(this,xe)===Pt.HIGHLIGHT?this.highlightSelection(t):d(this,Gl)&&w(this,X,_w).call(this)},Rw=function(){document.addEventListener("selectionchange",w(this,X,Cw).bind(this),{signal:this._signal})},Tw=function(){const t=this._signal;window.addEventListener("focus",d(this,Zl),{signal:t}),window.addEventListener("blur",d(this,Ql),{signal:t})},Pw=function(){window.removeEventListener("focus",d(this,Zl)),window.removeEventListener("blur",d(this,Ql))},lp=function(){const t=this._signal;window.addEventListener("keydown",d(this,sc),{signal:t}),window.addEventListener("keyup",d(this,ic),{signal:t})},Lw=function(){window.removeEventListener("keydown",d(this,sc)),window.removeEventListener("keyup",d(this,ic))},cp=function(){const t=this._signal;document.addEventListener("copy",d(this,tc),{signal:t}),document.addEventListener("cut",d(this,ec),{signal:t}),document.addEventListener("paste",d(this,nc),{signal:t})},dp=function(){document.removeEventListener("copy",d(this,tc)),document.removeEventListener("cut",d(this,ec)),document.removeEventListener("paste",d(this,nc))},Mw=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},He=function(t){Object.entries(t).some(([n,s])=>d(this,cc)[n]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(d(this,cc),t)}),d(this,xe)===Pt.HIGHLIGHT&&t.hasSelectedEditor===!1&&w(this,X,yi).call(this,[[gt.HIGHLIGHT_FREE,!0]]))},yi=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},Iw=function(){if(!d(this,Ci)){y(this,Ci,!0);for(const t of d(this,Ae).values())t.enable();for(const t of d(this,de).values())t.enable()}},Ow=function(){if(this.unselectAll(),d(this,Ci)){y(this,Ci,!1);for(const t of d(this,Ae).values())t.disable();for(const t of d(this,de).values())t.disable()}},hp=function(t){const e=d(this,Ae).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},Nw=function(){let t=null;for(t of d(this,zt));return t},vl=function(){if(d(this,de).size===0)return!0;if(d(this,de).size===1)for(const t of d(this,de).values())return t.isEmpty();return!1},up=function(t){for(const e of d(this,zt))e.unselect();d(this,zt).clear();for(const e of t)e.isEmpty()||(d(this,zt).add(e),e.select());w(this,X,He).call(this,{hasSelectedEditor:this.hasSelection})},pt(Ba,"TRANSLATE_SMALL",1),pt(Ba,"TRANSLATE_BIG",10);let wa=Ba;var Ns,Ds,On,Fs,an,to,Nn,hc,fp;const Cs=class Cs{constructor(t){x(this,hc);x(this,Ns,"");x(this,Ds,!1);x(this,On,null);x(this,Fs,null);x(this,an,null);x(this,to,!1);x(this,Nn,null);y(this,Nn,t)}static initialize(t){Cs._l10nPromise||(Cs._l10nPromise=t)}async render(){const t=y(this,On,document.createElement("button"));t.className="altText";const e=await Cs._l10nPromise.get("pdfjs-editor-alt-text-button-label");t.textContent=e,t.setAttribute("aria-label",e),t.tabIndex="0";const n=d(this,Nn)._uiManager._signal;t.addEventListener("contextmenu",Qe,{signal:n}),t.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:n});const s=r=>{r.preventDefault(),d(this,Nn)._uiManager.editAltText(d(this,Nn))};return t.addEventListener("click",s,{capture:!0,signal:n}),t.addEventListener("keydown",r=>{r.target===t&&r.key==="Enter"&&(y(this,to,!0),s(r))},{signal:n}),await w(this,hc,fp).call(this),t}finish(){d(this,On)&&(d(this,On).focus({focusVisible:d(this,to)}),y(this,to,!1))}isEmpty(){return!d(this,Ns)&&!d(this,Ds)}get data(){return{altText:d(this,Ns),decorative:d(this,Ds)}}set data({altText:t,decorative:e}){d(this,Ns)===t&&d(this,Ds)===e||(y(this,Ns,t),y(this,Ds,e),w(this,hc,fp).call(this))}toggle(t=!1){d(this,On)&&(!t&&d(this,an)&&(clearTimeout(d(this,an)),y(this,an,null)),d(this,On).disabled=!t)}destroy(){var t;(t=d(this,On))==null||t.remove(),y(this,On,null),y(this,Fs,null)}};Ns=new WeakMap,Ds=new WeakMap,On=new WeakMap,Fs=new WeakMap,an=new WeakMap,to=new WeakMap,Nn=new WeakMap,hc=new WeakSet,fp=async function(){var s;const t=d(this,On);if(!t)return;if(!d(this,Ns)&&!d(this,Ds)){t.classList.remove("done"),(s=d(this,Fs))==null||s.remove();return}t.classList.add("done"),Cs._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(r=>{t.setAttribute("aria-label",r)});let e=d(this,Fs);if(!e){y(this,Fs,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip");const r=e.id=`alt-text-tooltip-${d(this,Nn).id}`;t.setAttribute("aria-describedby",r);const a=100,o=d(this,Nn)._uiManager._signal;o.addEventListener("abort",()=>{clearTimeout(d(this,an)),y(this,an,null)},{once:!0}),t.addEventListener("mouseenter",()=>{y(this,an,setTimeout(()=>{y(this,an,null),d(this,Fs).classList.add("show"),d(this,Nn)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:o}),t.addEventListener("mouseleave",()=>{var l;d(this,an)&&(clearTimeout(d(this,an)),y(this,an,null)),(l=d(this,Fs))==null||l.classList.remove("show")},{signal:o})}e.innerText=d(this,Ds)?await Cs._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):d(this,Ns),e.parentNode||t.append(e);const n=d(this,Nn).getImageForAltText();n==null||n.setAttribute("aria-describedby",e.id)},pt(Cs,"_l10nPromise",null);let Vh=Cs;var Pr,Dn,Le,eo,Lr,Ee,Mr,no,so,Me,uc,Ir,Ti,fc,Or,zs,ts,io,ro,xn,pc,ru,kt,pp,gc,gp,mp,Dw,Fw,vp,bp,yp,zw,Hw,Bw,$w,wp,bl;const Ut=class Ut{constructor(t){x(this,kt);x(this,Pr,null);x(this,Dn,null);x(this,Le,null);x(this,eo,!1);x(this,Lr,!1);x(this,Ee,null);x(this,Mr,null);x(this,no,this.focusin.bind(this));x(this,so,this.focusout.bind(this));x(this,Me,null);x(this,uc,"");x(this,Ir,!1);x(this,Ti,null);x(this,fc,!1);x(this,Or,!1);x(this,zs,!1);x(this,ts,null);x(this,io,0);x(this,ro,0);x(this,xn,null);pt(this,"_initialOptions",Object.create(null));pt(this,"_isVisible",!0);pt(this,"_uiManager",null);pt(this,"_focusEventsAllowed",!0);pt(this,"_l10nPromise",null);x(this,pc,!1);x(this,ru,Ut._zIndex++);this.constructor===Ut&&$t("Cannot initialize AnnotationEditor."),this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:s,pageX:r,pageY:a}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,s],this.pageTranslation=[r,a];const[o,l]=this.parentDimensions;this.x=t.x/o,this.y=t.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=Ut.prototype._resizeWithKeyboard,e=wa.TRANSLATE_SMALL,n=wa.TRANSLATE_BIG;return Mt(this,"_resizerKeyboardManager",new kd([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],Ut.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Mt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new eR({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e,n){if(Ut._l10nPromise||(Ut._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(r=>[r,t.get(r.replaceAll(/([A-Z])/g,a=>`-${a.toLowerCase()}`))]))),n!=null&&n.strings)for(const r of n.strings)Ut._l10nPromise.set(r,t.get(r));if(Ut._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);Ut._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){$t("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return d(this,pc)}set _isDraggable(t){var e;y(this,pc,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=d(this,ru)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):w(this,kt,bl).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(d(this,Ir)?y(this,Ir,!1):this.parent.setSelected(this))}focusout(t){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,s){const[r,a]=this.parentDimensions;[n,s]=this.screenToPageTranslation(n,s),this.x=(t+n)/r,this.y=(e+s)/a,this.fixAndSetPosition()}translate(t,e){w(this,kt,pp).call(this,this.parentDimensions,t,e)}translateInPage(t,e){d(this,Ti)||y(this,Ti,[this.x,this.y]),w(this,kt,pp).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){d(this,Ti)||y(this,Ti,[this.x,this.y]);const[n,s]=this.parentDimensions;if(this.x+=t/n,this.y+=e/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:c,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,c,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:r,y:a}=this;const[o,l]=this.getBaseTranslation();r+=o,a+=l,this.div.style.left=`${(100*r).toFixed(2)}%`,this.div.style.top=`${(100*a).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!d(this,Ti)&&(d(this,Ti)[0]!==this.x||d(this,Ti)[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=Ut,s=n/t,r=n/e;switch(this.rotation){case 90:return[-s,r];case 180:return[s,r];case 270:return[s,-r];default:return[-s,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[e,n]=this.pageDimensions;let{x:s,y:r,width:a,height:o}=this;if(a*=e,o*=n,s*=e,r*=n,this._mustFixPosition)switch(t){case 0:s=Math.max(0,Math.min(e-a,s)),r=Math.max(0,Math.min(n-o,r));break;case 90:s=Math.max(0,Math.min(e-o,s)),r=Math.min(n,Math.max(a,r));break;case 180:s=Math.min(e,Math.max(a,s)),r=Math.min(n,Math.max(o,r));break;case 270:s=Math.min(e,Math.max(o,s)),r=Math.max(0,Math.min(n-a,r));break}this.x=s/=e,this.y=r/=n;const[l,c]=this.getBaseTranslation();s+=l,r+=c;const{style:h}=this.div;h.left=`${(100*s).toFixed(2)}%`,h.top=`${(100*r).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var n;return w(n=Ut,gc,gp).call(n,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var n;return w(n=Ut,gc,gp).call(n,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this,s=e*t,r=n*t;return Ke.isCSSRoundSupported?[Math.round(s),Math.round(r)]:[s,r]}setDims(t,e){const[n,s]=this.parentDimensions;this.div.style.width=`${(100*t/n).toFixed(2)}%`,d(this,Lr)||(this.div.style.height=`${(100*e/s).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:n}=t,s=n.endsWith("%"),r=!d(this,Lr)&&e.endsWith("%");if(s&&r)return;const[a,o]=this.parentDimensions;s||(t.width=`${(100*parseFloat(n)/a).toFixed(2)}%`),!d(this,Lr)&&!r&&(t.height=`${(100*parseFloat(e)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=d(this,Le))==null||t.finish()}async addEditToolbar(){return d(this,Me)||d(this,Or)?d(this,Me):(y(this,Me,new sp(this)),this.div.append(d(this,Me).render()),d(this,Le)&&d(this,Me).addAltTextButton(await d(this,Le).render()),d(this,Me))}removeEditToolbar(){var t;d(this,Me)&&(d(this,Me).remove(),y(this,Me,null),(t=d(this,Le))==null||t.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){d(this,Le)||(Vh.initialize(Ut._l10nPromise),y(this,Le,new Vh(this)),d(this,Pr)&&(d(this,Le).data=d(this,Pr),y(this,Pr,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=d(this,Le))==null?void 0:t.data}set altTextData(t){d(this,Le)&&(d(this,Le).data=t)}hasAltText(){var t;return!((t=d(this,Le))!=null&&t.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=d(this,eo)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const t=this._uiManager._signal;this.div.addEventListener("focusin",d(this,no),{signal:t}),this.div.addEventListener("focusout",d(this,so),{signal:t});const[e,n]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*n/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/n).toFixed(2)}%`);const[s,r]=this.getInitialTranslation();return this.translate(s,r),Wh(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=Ke.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(y(this,Ir,!0),this._isDraggable){w(this,kt,zw).call(this,t);return}w(this,kt,yp).call(this,t)}moveInDOM(){d(this,ts)&&clearTimeout(d(this,ts)),y(this,ts,setTimeout(()=>{var t;y(this,ts,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition()}getRect(t,e,n=this.rotation){const s=this.parentScale,[r,a]=this.pageDimensions,[o,l]=this.pageTranslation,c=t/s,h=e/s,u=this.x*r,f=this.y*a,p=this.width*r,m=this.height*a;switch(n){case 0:return[u+c+o,a-f-h-m+l,u+c+p+o,a-f-h+l];case 90:return[u+h+o,a-f+c+l,u+h+m+o,a-f+c+p+l];case 180:return[u-c-p+o,a-f+h+l,u-c+o,a-f+h+m+l];case 270:return[u-h-m+o,a-f-c-p+l,u-h+o,a-f-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,s,r,a]=t,o=r-n,l=a-s;switch(this.rotation){case 0:return[n,e-a,o,l];case 90:return[n,e-s,l,o];case 180:return[r,e-s,o,l];case 270:return[r,e-a,l,o];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){y(this,Or,!0)}disableEditMode(){y(this,Or,!1)}isInEditMode(){return d(this,Or)}shouldGetKeyboardEvents(){return d(this,zs)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var e,n;const t=this._uiManager._signal;(e=this.div)==null||e.addEventListener("focusin",d(this,no),{signal:t}),(n=this.div)==null||n.addEventListener("focusout",d(this,so),{signal:t})}rotate(t){}serialize(t=!1,e=null){$t("An editor must be serializable")}static deserialize(t,e,n){const s=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n});s.rotation=t.rotation,y(s,Pr,t.accessibilityData);const[r,a]=s.pageDimensions,[o,l,c,h]=s.getRectInCurrentCoords(t.rect,a);return s.x=o/r,s.y=l/a,s.width=c/r,s.height=h/a,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",d(this,no)),this.div.removeEventListener("focusout",d(this,so)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),d(this,ts)&&(clearTimeout(d(this,ts)),y(this,ts,null)),w(this,kt,bl).call(this),this.removeEditToolbar(),d(this,xn)){for(const t of d(this,xn).values())clearTimeout(t);y(this,xn,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(w(this,kt,Dw).call(this),d(this,Ee).classList.remove("hidden"),Wh(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),y(this,Mr,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=d(this,Ee).children;if(!d(this,Dn)){y(this,Dn,Array.from(e));const a=w(this,kt,Hw).bind(this),o=w(this,kt,Bw).bind(this),l=this._uiManager._signal;for(const c of d(this,Dn)){const h=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",a,{signal:l}),c.addEventListener("blur",o,{signal:l}),c.addEventListener("focus",w(this,kt,$w).bind(this,h),{signal:l}),Ut._l10nPromise.get(`pdfjs-editor-resizer-label-${h}`).then(u=>c.setAttribute("aria-label",u))}}const n=d(this,Dn)[0];let s=0;for(const a of e){if(a===n)break;s++}const r=(360-this.rotation+this.parentRotation)%360/90*(d(this,Dn).length/4);if(r!==s){if(r<s)for(let o=0;o<s-r;o++)d(this,Ee).append(d(this,Ee).firstChild);else if(r>s)for(let o=0;o<r-s;o++)d(this,Ee).firstChild.before(d(this,Ee).lastChild);let a=0;for(const o of e){const c=d(this,Dn)[a++].getAttribute("data-resizer-name");Ut._l10nPromise.get(`pdfjs-editor-resizer-label-${c}`).then(h=>o.setAttribute("aria-label",h))}}w(this,kt,wp).call(this,0),y(this,zs,!0),d(this,Ee).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){d(this,zs)&&w(this,kt,bp).call(this,d(this,uc),{movementX:t,movementY:e})}_stopResizingWithKeyboard(){w(this,kt,bl).call(this),this.div.focus()}select(){var t,e;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!d(this,Me)){this.addEditToolbar().then(()=>{var n,s;(n=this.div)!=null&&n.classList.contains("selectedEditor")&&((s=d(this,Me))==null||s.show())});return}(e=d(this,Me))==null||e.show()}unselect(){var t,e,n,s;(t=d(this,Ee))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=d(this,Me))==null||s.hide()}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return d(this,fc)}set isEditing(t){y(this,fc,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){y(this,Lr,!0);const n=t/e,{style:s}=this.div;s.aspectRatio=n,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){d(this,xn)||y(this,xn,new Map);const{action:n}=t;let s=d(this,xn).get(n);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(t),d(this,xn).delete(n),d(this,xn).size===0&&y(this,xn,null)},Ut._telemetryTimeout),d(this,xn).set(n,s);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),y(this,eo,!1)}disable(){this.div&&(this.div.tabIndex=-1),y(this,eo,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};Pr=new WeakMap,Dn=new WeakMap,Le=new WeakMap,eo=new WeakMap,Lr=new WeakMap,Ee=new WeakMap,Mr=new WeakMap,no=new WeakMap,so=new WeakMap,Me=new WeakMap,uc=new WeakMap,Ir=new WeakMap,Ti=new WeakMap,fc=new WeakMap,Or=new WeakMap,zs=new WeakMap,ts=new WeakMap,io=new WeakMap,ro=new WeakMap,xn=new WeakMap,pc=new WeakMap,ru=new WeakMap,kt=new WeakSet,pp=function([t,e],n,s){[n,s]=this.screenToPageTranslation(n,s),this.x+=n/t,this.y+=s/e,this.fixAndSetPosition()},gc=new WeakSet,gp=function(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},mp=function(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}},Dw=function(){if(d(this,Ee))return;y(this,Ee,document.createElement("div")),d(this,Ee).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const s=document.createElement("div");d(this,Ee).append(s),s.classList.add("resizer",n),s.setAttribute("data-resizer-name",n),s.addEventListener("pointerdown",w(this,kt,Fw).bind(this,n),{signal:e}),s.addEventListener("contextmenu",Qe,{signal:e}),s.tabIndex=-1}this.div.prepend(d(this,Ee))},Fw=function(t,e){var g;e.preventDefault();const{isMac:n}=Ke.platform;if(e.button!==0||e.ctrlKey&&n)return;(g=d(this,Le))==null||g.toggle(!1);const s=w(this,kt,bp).bind(this,t),r=this._isDraggable;this._isDraggable=!1;const a=this._uiManager._signal,o={passive:!0,capture:!0,signal:a};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",s,o),window.addEventListener("contextmenu",Qe,{signal:a});const l=this.x,c=this.y,h=this.width,u=this.height,f=this.parent.div.style.cursor,p=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const m=()=>{var b;this.parent.togglePointerEvents(!0),(b=d(this,Le))==null||b.toggle(!0),this._isDraggable=r,window.removeEventListener("pointerup",m),window.removeEventListener("blur",m),window.removeEventListener("pointermove",s,o),window.removeEventListener("contextmenu",Qe),this.parent.div.style.cursor=f,this.div.style.cursor=p,w(this,kt,vp).call(this,l,c,h,u)};window.addEventListener("pointerup",m,{signal:a}),window.addEventListener("blur",m,{signal:a})},vp=function(t,e,n,s){const r=this.x,a=this.y,o=this.width,l=this.height;r===t&&a===e&&o===n&&l===s||this.addCommands({cmd:()=>{this.width=o,this.height=l,this.x=r,this.y=a;const[c,h]=this.parentDimensions;this.setDims(c*o,h*l),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=s,this.x=t,this.y=e;const[c,h]=this.parentDimensions;this.setDims(c*n,h*s),this.fixAndSetPosition()},mustExec:!0})},bp=function(t,e){const[n,s]=this.parentDimensions,r=this.x,a=this.y,o=this.width,l=this.height,c=Ut.MIN_SIZE/n,h=Ut.MIN_SIZE/s,u=D=>Math.round(D*1e4)/1e4,f=w(this,kt,mp).call(this,this.rotation),p=(D,N)=>[f[0]*D+f[2]*N,f[1]*D+f[3]*N],m=w(this,kt,mp).call(this,360-this.rotation),g=(D,N)=>[m[0]*D+m[2]*N,m[1]*D+m[3]*N];let b,v,A=!1,E=!1;switch(t){case"topLeft":A=!0,b=(D,N)=>[0,0],v=(D,N)=>[D,N];break;case"topMiddle":b=(D,N)=>[D/2,0],v=(D,N)=>[D/2,N];break;case"topRight":A=!0,b=(D,N)=>[D,0],v=(D,N)=>[0,N];break;case"middleRight":E=!0,b=(D,N)=>[D,N/2],v=(D,N)=>[0,N/2];break;case"bottomRight":A=!0,b=(D,N)=>[D,N],v=(D,N)=>[0,0];break;case"bottomMiddle":b=(D,N)=>[D/2,N],v=(D,N)=>[D/2,0];break;case"bottomLeft":A=!0,b=(D,N)=>[0,N],v=(D,N)=>[D,0];break;case"middleLeft":E=!0,b=(D,N)=>[0,N/2],v=(D,N)=>[D,N/2];break}const k=b(o,l),S=v(o,l);let _=p(...S);const L=u(r+_[0]),P=u(a+_[1]);let M=1,C=1,[I,F]=this.screenToPageTranslation(e.movementX,e.movementY);if([I,F]=g(I/n,F/s),A){const D=Math.hypot(o,l);M=C=Math.max(Math.min(Math.hypot(S[0]-k[0]-I,S[1]-k[1]-F)/D,1/o,1/l),c/o,h/l)}else E?M=Math.max(c,Math.min(1,Math.abs(S[0]-k[0]-I)))/o:C=Math.max(h,Math.min(1,Math.abs(S[1]-k[1]-F)))/l;const z=u(o*M),H=u(l*C);_=p(...v(z,H));const W=L-_[0],j=P-_[1];this.width=z,this.height=H,this.x=W,this.y=j,this.setDims(n*z,s*H),this.fixAndSetPosition()},yp=function(t){const{isMac:e}=Ke.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},zw=function(t){const e=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let n,s;const r=this._uiManager._signal;e&&(this.div.classList.add("moving"),n={passive:!0,capture:!0,signal:r},y(this,io,t.clientX),y(this,ro,t.clientY),s=o=>{const{clientX:l,clientY:c}=o,[h,u]=this.screenToPageTranslation(l-d(this,io),c-d(this,ro));y(this,io,l),y(this,ro,c),this._uiManager.dragSelectedEditors(h,u)},window.addEventListener("pointermove",s,n));const a=()=>{window.removeEventListener("pointerup",a),window.removeEventListener("blur",a),e&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",s,n)),y(this,Ir,!1),this._uiManager.endDragSession()||w(this,kt,yp).call(this,t)};window.addEventListener("pointerup",a,{signal:r}),window.addEventListener("blur",a,{signal:r})},Hw=function(t){Ut._resizerKeyboardManager.exec(this,t)},Bw=function(t){var e;d(this,zs)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==d(this,Ee)&&w(this,kt,bl).call(this)},$w=function(t){y(this,uc,d(this,zs)?t:"")},wp=function(t){if(d(this,Dn))for(const e of d(this,Dn))e.tabIndex=t},bl=function(){if(y(this,zs,!1),w(this,kt,wp).call(this,-1),d(this,Mr)){const{savedX:t,savedY:e,savedWidth:n,savedHeight:s}=d(this,Mr);w(this,kt,vp).call(this,t,e,n,s),y(this,Mr,null)}},x(Ut,gc),pt(Ut,"_borderLineWidth",-1),pt(Ut,"_colorManager",new op),pt(Ut,"_zIndex",1),pt(Ut,"_telemetryTimeout",1e3);let Ht=Ut;class eR extends Ht{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const Ov=3285377520,wn=4294901760,Xn=65535;class jw{constructor(t){this.h1=t?t&4294967295:Ov,this.h2=t?t&4294967295:Ov}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let g=0,b=t.length;g<b;g++){const v=t.charCodeAt(g);v<=255?e[n++]=v:(e[n++]=v>>>8,e[n++]=v&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=n>>2,r=n-s*4,a=new Uint32Array(e.buffer,0,s);let o=0,l=0,c=this.h1,h=this.h2;const u=3432918353,f=461845907,p=u&Xn,m=f&Xn;for(let g=0;g<s;g++)g&1?(o=a[g],o=o*u&wn|o*p&Xn,o=o<<15|o>>>17,o=o*f&wn|o*m&Xn,c^=o,c=c<<13|c>>>19,c=c*5+3864292196):(l=a[g],l=l*u&wn|l*p&Xn,l=l<<15|l>>>17,l=l*f&wn|l*m&Xn,h^=l,h=h<<13|h>>>19,h=h*5+3864292196);switch(o=0,r){case 3:o^=e[s*4+2]<<16;case 2:o^=e[s*4+1]<<8;case 1:o^=e[s*4],o=o*u&wn|o*p&Xn,o=o<<15|o>>>17,o=o*f&wn|o*m&Xn,s&1?c^=o:h^=o}this.h1=c,this.h2=h}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&wn|t*36045&Xn,e=e*4283543511&wn|((e<<16|t>>>16)*2950163797&wn)>>>16,t^=e>>>1,t=t*444984403&wn|t*60499&Xn,e=e*3301882366&wn|((e<<16|t>>>16)*3120437893&wn)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const Ap=Object.freeze({map:null,hash:"",transfer:void 0});var Nr,Se,au,Uw;class Jg{constructor(){x(this,au);x(this,Nr,!1);x(this,Se,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=d(this,Se).get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return d(this,Se).get(t)}remove(t){if(d(this,Se).delete(t),d(this,Se).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of d(this,Se).values())if(e instanceof Ht)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=d(this,Se).get(t);let s=!1;if(n!==void 0)for(const[r,a]of Object.entries(e))n[r]!==a&&(s=!0,n[r]=a);else s=!0,d(this,Se).set(t,e);s&&w(this,au,Uw).call(this),e instanceof Ht&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return d(this,Se).has(t)}getAll(){return d(this,Se).size>0?Wg(d(this,Se)):null}setAll(t){for(const[e,n]of Object.entries(t))this.setValue(e,n)}get size(){return d(this,Se).size}resetModified(){d(this,Nr)&&(y(this,Nr,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Ww(this)}get serializable(){if(d(this,Se).size===0)return Ap;const t=new Map,e=new jw,n=[],s=Object.create(null);let r=!1;for(const[a,o]of d(this,Se)){const l=o instanceof Ht?o.serialize(!1,s):o;l&&(t.set(a,l),e.update(`${a}:${JSON.stringify(l)}`),r||(r=!!l.bitmap))}if(r)for(const a of t.values())a.bitmap&&n.push(a.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:Ap}get editorStats(){let t=null;const e=new Map;for(const n of d(this,Se).values()){if(!(n instanceof Ht))continue;const s=n.telemetryFinalData;if(!s)continue;const{type:r}=s;e.has(r)||e.set(r,Object.getPrototypeOf(n).constructor),t||(t=Object.create(null));const a=t[r]||(t[r]=new Map);for(const[o,l]of Object.entries(s)){if(o==="type")continue;let c=a.get(o);c||(c=new Map,a.set(o,c));const h=c.get(l)??0;c.set(l,h+1)}}for(const[n,s]of e)t[n]=s.computeTelemetryFinalData(t[n]);return t}}Nr=new WeakMap,Se=new WeakMap,au=new WeakSet,Uw=function(){d(this,Nr)||(y(this,Nr,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var mc;class Ww extends Jg{constructor(e){super();x(this,mc);const{map:n,hash:s,transfer:r}=e.serializable,a=structuredClone(n,r?{transfer:r}:null);y(this,mc,{map:a,hash:s,transfer:r})}get print(){$t("Should not call PrintAnnotationStorage.print")}get serializable(){return d(this,mc)}}mc=new WeakMap;var ao;class nR{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){x(this,ao,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),d(this,ao).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||d(this,ao).has(t.loadedName))){if(ge(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:s,style:r}=t,a=new FontFace(n,s,r);this.addNativeFontFace(a);try{await a.load(),d(this,ao).add(n),e==null||e(t)}catch{Et(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}$t("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(s){throw Et(`Failed to load font '${n.family}': '${s}'.`),t.disableFontFace=!0,s}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const s=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,s)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return Mt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(De||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),Mt(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(ge(!s.done,"completeRequest() cannot be called twice."),s.done=!0;n.length>0&&n[0].done;){const r=n.shift();setTimeout(r.callback,0)}}const{loadingRequests:n}=this,s={done:!1,complete:e,callback:t};return n.push(s),s}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Mt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(k,S){return k.charCodeAt(S)<<24|k.charCodeAt(S+1)<<16|k.charCodeAt(S+2)<<8|k.charCodeAt(S+3)&255}function s(k,S,_,L){const P=k.substring(0,S),M=k.substring(S+_);return P+L+M}let r,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;function h(k,S){if(++c>30){Et("Load test font never loaded."),S();return}if(l.font="30px "+k,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){S();return}setTimeout(h.bind(null,k,S))}const u=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=s(f,976,u.length,u);const m=16,g=1482184792;let b=n(f,m);for(r=0,a=u.length-3;r<a;r+=4)b=b-g+n(u,r)|0;r<u.length&&(b=b-g+n(u+"XXX",r)|0),f=s(f,m,4,H1(b));const v=`url(data:font/opentype;base64,${btoa(f)});`,A=`@font-face {font-family:"${u}";src:${v}}`;this.insertRule(A);const E=this._document.createElement("div");E.style.visibility="hidden",E.style.width=E.style.height="10px",E.style.position="absolute",E.style.top=E.style.left="0px";for(const k of[t.loadedName,u]){const S=this._document.createElement("span");S.textContent="Hi",S.style.fontFamily=k,E.append(S)}this._document.body.append(E),h(u,()=>{E.remove(),e.complete()})}}ao=new WeakMap;class sR{constructor(t,{disableFontFace:e=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const s in t)this[s]=t[s];this.disableFontFace=e===!0,this._inspectFont=n}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var s;if(!this.data||this.disableFontFace)return null;const t=hw(this.data),e=`url(data:${this.mimetype};base64,${btoa(t)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(s=this._inspectFont)==null||s.call(this,this,e),n}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let n;try{n=t.get(this.loadedName+"_path_"+e)}catch(r){Et(`getPathGenerator - ignoring character: "${r}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[e]=function(r,a){};const s=[];for(let r=0,a=n.length;r<a;)switch(n[r++]){case Ss.BEZIER_CURVE_TO:{const[o,l,c,h,u,f]=n.slice(r,r+6);s.push(p=>p.bezierCurveTo(o,l,c,h,u,f)),r+=6}break;case Ss.MOVE_TO:{const[o,l]=n.slice(r,r+2);s.push(c=>c.moveTo(o,l)),r+=2}break;case Ss.LINE_TO:{const[o,l]=n.slice(r,r+2);s.push(c=>c.lineTo(o,l)),r+=2}break;case Ss.QUADRATIC_CURVE_TO:{const[o,l,c,h]=n.slice(r,r+4);s.push(u=>u.quadraticCurveTo(o,l,c,h)),r+=4}break;case Ss.RESTORE:s.push(o=>o.restore());break;case Ss.SAVE:s.push(o=>o.save());break;case Ss.SCALE:ge(s.length===2,"Scale command is only valid at the third position.");break;case Ss.TRANSFORM:{const[o,l,c,h,u,f]=n.slice(r,r+6);s.push(p=>p.transform(o,l,c,h,u,f)),r+=6}break;case Ss.TRANSLATE:{const[o,l]=n.slice(r,r+2);s.push(c=>c.translate(o,l)),r+=2}break}return this.compiledGlyphs[e]=function(a,o){s[0](a),s[1](a),a.scale(o,-o);for(let l=2,c=s.length;l<c;l++)s[l](a)}}}if(De){var xp=Promise.withResolvers(),Ml=null;(async()=>{const t=await Xd(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),e=await Xd(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await Xd(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await Xd(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let r,a;return new Map(Object.entries({fs:t,http:e,https:n,url:s,canvas:r,path2d:a}))})().then(t=>{Ml=t,xp.resolve()},t=>{Et(`loadPackages: ${t}`),Ml=new Map,xp.resolve()})}class ys{static get promise(){return xp.promise}static get(t){return Ml==null?void 0:Ml.get(t)}}const Vw=function(i){return ys.get("fs").promises.readFile(i).then(e=>new Uint8Array(e))};class iR extends Ou{}class rR extends Uh{_createCanvas(t,e){return ys.get("canvas").createCanvas(t,e)}}class aR extends Nu{_fetchData(t,e){return Vw(t).then(n=>({cMapData:n,compressionType:e}))}}class oR extends Du{_fetchData(t){return Vw(t)}}const je={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Ep(i,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],s=new Path2D;s.rect(t[0],t[1],e,n),i.clip(s)}class _d{constructor(){this.constructor===_d&&$t("Cannot initialize BaseShadingPattern.")}getPattern(){$t("Abstract method `getPattern` called.")}}class lR extends _d{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,s){let r;if(s===je.STROKE||s===je.FILL){const a=e.current.getClippedPathBoundingBox(s,Jt(t))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,c=e.cachedCanvases.getCanvas("pattern",o,l,!0),h=c.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-a[0],-a[1]),n=st.transform(n,[1,0,0,1,a[0],a[1]]),h.transform(...e.baseTransform),this.matrix&&h.transform(...this.matrix),Ep(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),r=t.createPattern(c.canvas,"no-repeat");const u=new DOMMatrix(n);r.setTransform(u)}else Ep(t,this._bbox),r=this._createGradient(t);return r}}function pf(i,t,e,n,s,r,a,o){const l=t.coords,c=t.colors,h=i.data,u=i.width*4;let f;l[e+1]>l[n+1]&&(f=e,e=n,n=f,f=r,r=a,a=f),l[n+1]>l[s+1]&&(f=n,n=s,s=f,f=a,a=o,o=f),l[e+1]>l[n+1]&&(f=e,e=n,n=f,f=r,r=a,a=f);const p=(l[e]+t.offsetX)*t.scaleX,m=(l[e+1]+t.offsetY)*t.scaleY,g=(l[n]+t.offsetX)*t.scaleX,b=(l[n+1]+t.offsetY)*t.scaleY,v=(l[s]+t.offsetX)*t.scaleX,A=(l[s+1]+t.offsetY)*t.scaleY;if(m>=A)return;const E=c[r],k=c[r+1],S=c[r+2],_=c[a],L=c[a+1],P=c[a+2],M=c[o],C=c[o+1],I=c[o+2],F=Math.round(m),z=Math.round(A);let H,W,j,D,N,ot,lt,Rt;for(let At=F;At<=z;At++){if(At<b){const Q=At<m?0:(m-At)/(m-b);H=p-(p-g)*Q,W=E-(E-_)*Q,j=k-(k-L)*Q,D=S-(S-P)*Q}else{let Q;At>A?Q=1:b===A?Q=0:Q=(b-At)/(b-A),H=g-(g-v)*Q,W=_-(_-M)*Q,j=L-(L-C)*Q,D=P-(P-I)*Q}let nt;At<m?nt=0:At>A?nt=1:nt=(m-At)/(m-A),N=p-(p-v)*nt,ot=E-(E-M)*nt,lt=k-(k-C)*nt,Rt=S-(S-I)*nt;const mt=Math.round(Math.min(H,N)),Dt=Math.round(Math.max(H,N));let Ot=u*At+mt*4;for(let Q=mt;Q<=Dt;Q++)nt=(H-Q)/(H-N),nt<0?nt=0:nt>1&&(nt=1),h[Ot++]=W-(W-ot)*nt|0,h[Ot++]=j-(j-lt)*nt|0,h[Ot++]=D-(D-Rt)*nt|0,h[Ot++]=255}}function cR(i,t,e){const n=t.coords,s=t.colors;let r,a;switch(t.type){case"lattice":const o=t.verticesPerRow,l=Math.floor(n.length/o)-1,c=o-1;for(r=0;r<l;r++){let h=r*o;for(let u=0;u<c;u++,h++)pf(i,e,n[h],n[h+1],n[h+o],s[h],s[h+1],s[h+o]),pf(i,e,n[h+o+1],n[h+1],n[h+o],s[h+o+1],s[h+1],s[h+o])}break;case"triangles":for(r=0,a=n.length;r<a;r+=3)pf(i,e,n[r],n[r+1],n[r+2],s[r],s[r+1],s[r+2]);break;default:throw new Error("illegal figure")}}class dR extends _d{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,n){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-o,h=Math.ceil(this._bounds[3])-l,u=Math.min(Math.ceil(Math.abs(c*t[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(h*t[1]*1.1)),3e3),p=c/u,m=h/f,g={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/p,scaleY:1/m},b=u+2*2,v=f+2*2,A=n.getCanvas("mesh",b,v,!1),E=A.context,k=E.createImageData(u,f);if(e){const _=k.data;for(let L=0,P=_.length;L<P;L+=4)_[L]=e[0],_[L+1]=e[1],_[L+2]=e[2],_[L+3]=255}for(const _ of this._figures)cR(k,_,g);return E.putImageData(k,2,2),{canvas:A.canvas,offsetX:o-2*p,offsetY:l-2*m,scaleX:p,scaleY:m}}getPattern(t,e,n,s){Ep(t,this._bbox);let r;if(s===je.SHADING)r=st.singularValueDecompose2dScale(Jt(t));else if(r=st.singularValueDecompose2dScale(e.baseTransform),this.matrix){const o=st.singularValueDecompose2dScale(this.matrix);r=[r[0]*o[0],r[1]*o[1]]}const a=this._createMeshCanvas(r,s===je.SHADING?null:this._background,e.cachedCanvases);return s!==je.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(a.offsetX,a.offsetY),t.scale(a.scaleX,a.scaleY),t.createPattern(a.canvas,"no-repeat")}}class hR extends _d{getPattern(){return"hotpink"}}function uR(i){switch(i[0]){case"RadialAxial":return new lR(i);case"Mesh":return new dR(i);case"Dummy":return new hR}throw new Error(`Unknown IR type: ${i[0]}`)}const Nv={COLORED:1,UNCOLORED:2},ou=class ou{constructor(t,e,n,s,r){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=n,this.canvasGraphicsFactory=s,this.baseTransform=r}createPatternCanvas(t){const e=this.operatorList,n=this.bbox,s=this.xstep,r=this.ystep,a=this.paintType,o=this.tilingType,l=this.color,c=this.canvasGraphicsFactory;Lu("TilingType: "+o);const h=n[0],u=n[1],f=n[2],p=n[3],m=st.singularValueDecompose2dScale(this.matrix),g=st.singularValueDecompose2dScale(this.baseTransform),b=[m[0]*g[0],m[1]*g[1]],v=this.getSizeAndScale(s,this.ctx.canvas.width,b[0]),A=this.getSizeAndScale(r,this.ctx.canvas.height,b[1]),E=t.cachedCanvases.getCanvas("pattern",v.size,A.size,!0),k=E.context,S=c.createCanvasGraphics(k);S.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(S,a,l);let _=h,L=u,P=f,M=p;return h<0&&(_=0,P+=Math.abs(h)),u<0&&(L=0,M+=Math.abs(u)),k.translate(-(v.scale*_),-(A.scale*L)),S.transform(v.scale,0,0,A.scale,0,0),k.save(),this.clipBbox(S,_,L,P,M),S.baseTransform=Jt(S.ctx),S.executeOperatorList(e),S.endDrawing(),{canvas:E.canvas,scaleX:v.scale,scaleY:A.scale,offsetX:_,offsetY:L}}getSizeAndScale(t,e,n){t=Math.abs(t);const s=Math.max(ou.MAX_PATTERN_SIZE,e);let r=Math.ceil(t*n);return r>=s?r=s:n=r/t,{scale:n,size:r}}clipBbox(t,e,n,s,r){const a=s-e,o=r-n;t.ctx.rect(e,n,a,o),t.current.updateRectMinMax(Jt(t.ctx),[e,n,s,r]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const s=t.ctx,r=t.current;switch(e){case Nv.COLORED:const a=this.ctx;s.fillStyle=a.fillStyle,s.strokeStyle=a.strokeStyle,r.fillColor=a.fillStyle,r.strokeColor=a.strokeStyle;break;case Nv.UNCOLORED:const o=st.makeHexColor(n[0],n[1],n[2]);s.fillStyle=o,s.strokeStyle=o,r.fillColor=o,r.strokeColor=o;break;default:throw new z1(`Unsupported paint type: ${e}`)}}getPattern(t,e,n,s){let r=n;s!==je.SHADING&&(r=st.transform(r,e.baseTransform),this.matrix&&(r=st.transform(r,this.matrix)));const a=this.createPatternCanvas(e);let o=new DOMMatrix(r);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const l=t.createPattern(a.canvas,"repeat");return l.setTransform(o),l}};pt(ou,"MAX_PATTERN_SIZE",3e3);let Sp=ou;function fR({src:i,srcPos:t=0,dest:e,width:n,height:s,nonBlackColor:r=4294967295,inverseDecode:a=!1}){const o=Ke.isLittleEndian?4278190080:255,[l,c]=a?[r,o]:[o,r],h=n>>3,u=n&7,f=i.length;e=new Uint32Array(e.buffer);let p=0;for(let m=0;m<s;m++){for(const b=t+h;t<b;t++){const v=t<f?i[t]:255;e[p++]=v&128?c:l,e[p++]=v&64?c:l,e[p++]=v&32?c:l,e[p++]=v&16?c:l,e[p++]=v&8?c:l,e[p++]=v&4?c:l,e[p++]=v&2?c:l,e[p++]=v&1?c:l}if(u===0)continue;const g=t<f?i[t++]:255;for(let b=0;b<u;b++)e[p++]=g&1<<7-b?c:l}return{srcPos:t,destPos:p}}const Dv=16,Fv=100,pR=15,zv=10,Hv=1e3,Ye=16;function gR(i,t){if(i._removeMirroring)throw new Error("Context is already forwarding operations.");i.__originalSave=i.save,i.__originalRestore=i.restore,i.__originalRotate=i.rotate,i.__originalScale=i.scale,i.__originalTranslate=i.translate,i.__originalTransform=i.transform,i.__originalSetTransform=i.setTransform,i.__originalResetTransform=i.resetTransform,i.__originalClip=i.clip,i.__originalMoveTo=i.moveTo,i.__originalLineTo=i.lineTo,i.__originalBezierCurveTo=i.bezierCurveTo,i.__originalRect=i.rect,i.__originalClosePath=i.closePath,i.__originalBeginPath=i.beginPath,i._removeMirroring=()=>{i.save=i.__originalSave,i.restore=i.__originalRestore,i.rotate=i.__originalRotate,i.scale=i.__originalScale,i.translate=i.__originalTranslate,i.transform=i.__originalTransform,i.setTransform=i.__originalSetTransform,i.resetTransform=i.__originalResetTransform,i.clip=i.__originalClip,i.moveTo=i.__originalMoveTo,i.lineTo=i.__originalLineTo,i.bezierCurveTo=i.__originalBezierCurveTo,i.rect=i.__originalRect,i.closePath=i.__originalClosePath,i.beginPath=i.__originalBeginPath,delete i._removeMirroring},i.save=function(){t.save(),this.__originalSave()},i.restore=function(){t.restore(),this.__originalRestore()},i.translate=function(n,s){t.translate(n,s),this.__originalTranslate(n,s)},i.scale=function(n,s){t.scale(n,s),this.__originalScale(n,s)},i.transform=function(n,s,r,a,o,l){t.transform(n,s,r,a,o,l),this.__originalTransform(n,s,r,a,o,l)},i.setTransform=function(n,s,r,a,o,l){t.setTransform(n,s,r,a,o,l),this.__originalSetTransform(n,s,r,a,o,l)},i.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},i.rotate=function(n){t.rotate(n),this.__originalRotate(n)},i.clip=function(n){t.clip(n),this.__originalClip(n)},i.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},i.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},i.bezierCurveTo=function(e,n,s,r,a,o){t.bezierCurveTo(e,n,s,r,a,o),this.__originalBezierCurveTo(e,n,s,r,a,o)},i.rect=function(e,n,s,r){t.rect(e,n,s,r),this.__originalRect(e,n,s,r)},i.closePath=function(){t.closePath(),this.__originalClosePath()},i.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class mR{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let s;return this.cache[t]!==void 0?(s=this.cache[t],this.canvasFactory.reset(s,e,n)):(s=this.canvasFactory.create(e,n),this.cache[t]=s),s}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Yd(i,t,e,n,s,r,a,o,l,c){const[h,u,f,p,m,g]=Jt(i);if(u===0&&f===0){const A=a*h+m,E=Math.round(A),k=o*p+g,S=Math.round(k),_=(a+l)*h+m,L=Math.abs(Math.round(_)-E)||1,P=(o+c)*p+g,M=Math.abs(Math.round(P)-S)||1;return i.setTransform(Math.sign(h),0,0,Math.sign(p),E,S),i.drawImage(t,e,n,s,r,0,0,L,M),i.setTransform(h,u,f,p,m,g),[L,M]}if(h===0&&p===0){const A=o*f+m,E=Math.round(A),k=a*u+g,S=Math.round(k),_=(o+c)*f+m,L=Math.abs(Math.round(_)-E)||1,P=(a+l)*u+g,M=Math.abs(Math.round(P)-S)||1;return i.setTransform(0,Math.sign(u),Math.sign(f),0,E,S),i.drawImage(t,e,n,s,r,0,0,M,L),i.setTransform(h,u,f,p,m,g),[M,L]}i.drawImage(t,e,n,s,r,a,o,l,c);const b=Math.hypot(h,u),v=Math.hypot(f,p);return[b*l,v*c]}function vR(i){const{width:t,height:e}=i;if(t>Hv||e>Hv)return null;const n=1e3,s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),r=t+1;let a=new Uint8Array(r*(e+1)),o,l,c;const h=t+7&-8;let u=new Uint8Array(h*e),f=0;for(const v of i.data){let A=128;for(;A>0;)u[f++]=v&A?0:255,A>>=1}let p=0;for(f=0,u[f]!==0&&(a[0]=1,++p),l=1;l<t;l++)u[f]!==u[f+1]&&(a[l]=u[f]?2:1,++p),f++;for(u[f]!==0&&(a[l]=2,++p),o=1;o<e;o++){f=o*h,c=o*r,u[f-h]!==u[f]&&(a[c]=u[f]?1:8,++p);let v=(u[f]?4:0)+(u[f-h]?8:0);for(l=1;l<t;l++)v=(v>>2)+(u[f+1]?4:0)+(u[f-h+1]?8:0),s[v]&&(a[c+l]=s[v],++p),f++;if(u[f-h]!==u[f]&&(a[c+l]=u[f]?2:4,++p),p>n)return null}for(f=h*(e-1),c=o*r,u[f]!==0&&(a[c]=8,++p),l=1;l<t;l++)u[f]!==u[f+1]&&(a[c+l]=u[f]?4:8,++p),f++;if(u[f]!==0&&(a[c+l]=4,++p),p>n)return null;const m=new Int32Array([0,r,-1,0,-r,0,0,0,1]),g=new Path2D;for(o=0;p&&o<=e;o++){let v=o*r;const A=v+t;for(;v<A&&!a[v];)v++;if(v===A)continue;g.moveTo(v%r,o);const E=v;let k=a[v];do{const S=m[k];do v+=S;while(!a[v]);const _=a[v];_!==5&&_!==10?(k=_,a[v]=0):(k=_&51*k>>4,a[v]&=k>>2|k<<2),g.lineTo(v%r,v/r|0),a[v]||--p}while(E!==v);--o}return u=null,a=null,function(v){v.save(),v.scale(1/t,-1/e),v.translate(0,-e),v.fill(g),v.beginPath(),v.restore()}}class Bv{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=cw,this.textMatrixScale=1,this.fontMatrix=Kf,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Te.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,n){[e,n]=st.applyTransform([e,n],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(t,e){const n=st.applyTransform(e,t),s=st.applyTransform(e.slice(2),t),r=st.applyTransform([e[0],e[3]],t),a=st.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,n[0],s[0],r[0],a[0]),this.minY=Math.min(this.minY,n[1],s[1],r[1],a[1]),this.maxX=Math.max(this.maxX,n[0],s[0],r[0],a[0]),this.maxY=Math.max(this.maxY,n[1],s[1],r[1],a[1])}updateScalingPathMinMax(t,e){st.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,n,s,r,a,o,l,c,h){const u=st.bezierBoundingBox(e,n,s,r,a,o,l,c,h);h||this.updateRectMinMax(t,u)}getPathBoundingBox(t=je.FILL,e=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(t===je.STROKE){e||$t("Stroke bounding box must include transform.");const s=st.singularValueDecompose2dScale(e),r=s[0]*this.lineWidth/2,a=s[1]*this.lineWidth/2;n[0]-=r,n[1]-=a,n[2]+=r,n[3]+=a}return n}updateClipFromPath(){const t=st.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=je.FILL,e=null){return st.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function $v(i,t){if(typeof ImageData<"u"&&t instanceof ImageData){i.putImageData(t,0,0);return}const e=t.height,n=t.width,s=e%Ye,r=(e-s)/Ye,a=s===0?r:r+1,o=i.createImageData(n,Ye);let l=0,c;const h=t.data,u=o.data;let f,p,m,g;if(t.kind===rh.GRAYSCALE_1BPP){const b=h.byteLength,v=new Uint32Array(u.buffer,0,u.byteLength>>2),A=v.length,E=n+7>>3,k=4294967295,S=Ke.isLittleEndian?4278190080:255;for(f=0;f<a;f++){for(m=f<r?Ye:s,c=0,p=0;p<m;p++){const _=b-l;let L=0;const P=_>E?n:_*8-7,M=P&-8;let C=0,I=0;for(;L<M;L+=8)I=h[l++],v[c++]=I&128?k:S,v[c++]=I&64?k:S,v[c++]=I&32?k:S,v[c++]=I&16?k:S,v[c++]=I&8?k:S,v[c++]=I&4?k:S,v[c++]=I&2?k:S,v[c++]=I&1?k:S;for(;L<P;L++)C===0&&(I=h[l++],C=128),v[c++]=I&C?k:S,C>>=1}for(;c<A;)v[c++]=0;i.putImageData(o,0,f*Ye)}}else if(t.kind===rh.RGBA_32BPP){for(p=0,g=n*Ye*4,f=0;f<r;f++)u.set(h.subarray(l,l+g)),l+=g,i.putImageData(o,0,p),p+=Ye;f<a&&(g=n*s*4,u.set(h.subarray(l,l+g)),i.putImageData(o,0,p))}else if(t.kind===rh.RGB_24BPP)for(m=Ye,g=n*m,f=0;f<a;f++){for(f>=r&&(m=s,g=n*m),c=0,p=g;p--;)u[c++]=h[l++],u[c++]=h[l++],u[c++]=h[l++],u[c++]=255;i.putImageData(o,0,f*Ye)}else throw new Error(`bad image kind: ${t.kind}`)}function jv(i,t){if(t.bitmap){i.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,s=e%Ye,r=(e-s)/Ye,a=s===0?r:r+1,o=i.createImageData(n,Ye);let l=0;const c=t.data,h=o.data;for(let u=0;u<a;u++){const f=u<r?Ye:s;({srcPos:l}=fR({src:c,srcPos:l,dest:h,width:n,height:f,nonBlackColor:0})),i.putImageData(o,0,u*Ye)}}function cl(i,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)i[n]!==void 0&&(t[n]=i[n]);i.setLineDash!==void 0&&(t.setLineDash(i.getLineDash()),t.lineDashOffset=i.lineDashOffset)}function Kd(i){if(i.strokeStyle=i.fillStyle="#000000",i.fillRule="nonzero",i.globalAlpha=1,i.lineWidth=1,i.lineCap="butt",i.lineJoin="miter",i.miterLimit=10,i.globalCompositeOperation="source-over",i.font="10px sans-serif",i.setLineDash!==void 0&&(i.setLineDash([]),i.lineDashOffset=0),!De){const{filter:t}=i;t!=="none"&&t!==""&&(i.filter="none")}}function Uv(i,t){if(t)return!0;const e=st.singularValueDecompose2dScale(i);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*Zi.PDF_TO_CSS_UNITS);return e[0]<=n&&e[1]<=n}const bR=["butt","round","square"],yR=["miter","round","bevel"],wR={},Wv={};var er,kp,_p;const sm=class sm{constructor(t,e,n,s,r,{optionalContentConfig:a,markedContentStack:o=null},l,c){x(this,er);this.ctx=t,this.current=new Bv(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=s,this.filterFactory=r,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new mR(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:s=null}){const r=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,r,a),this.ctx.fillStyle=o,n){const l=this.cachedCanvases.getCanvas("transparent",r,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Jt(this.compositeCtx))}this.ctx.save(),Kd(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Jt(this.ctx)}executeOperatorList(t,e,n,s){const r=t.argsArray,a=t.fnArray;let o=e||0;const l=r.length;if(l===o)return o;const c=l-o>zv&&typeof n=="function",h=c?Date.now()+pR:0;let u=0;const f=this.commonObjs,p=this.objs;let m;for(;;){if(s!==void 0&&o===s.nextBreakPoint)return s.breakIt(o,n),o;if(m=a[o],m!==Ln.dependency)this[m].apply(this,r[o]);else for(const g of r[o]){const b=g.startsWith("g_")?f:p;if(!b.has(g))return b.get(g,n),o}if(o++,o===l)return o;if(c&&++u>zv){if(Date.now()>h)return n(),o;u=0}}}endDrawing(){w(this,er,kp).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),w(this,er,_p).call(this)}_scaleImage(t,e){const n=t.width,s=t.height;let r=Math.max(Math.hypot(e[0],e[1]),1),a=Math.max(Math.hypot(e[2],e[3]),1),o=n,l=s,c="prescale1",h,u;for(;r>2&&o>1||a>2&&l>1;){let f=o,p=l;r>2&&o>1&&(f=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),r/=o/f),a>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/p),h=this.cachedCanvases.getCanvas(c,f,p),u=h.context,u.clearRect(0,0,f,p),u.drawImage(t,0,0,o,l,0,0,f,p),t=h.canvas,o=f,l=p,c=c==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:o,paintHeight:l}}_createMaskCanvas(t){const e=this.ctx,{width:n,height:s}=t,r=this.current.fillColor,a=this.current.patternFill,o=Jt(e);let l,c,h,u;if((t.bitmap||t.data)&&t.count>1){const P=t.bitmap||t.data.buffer;c=JSON.stringify(a?o:[o.slice(0,4),r]),l=this._cachedBitmapsMap.get(P),l||(l=new Map,this._cachedBitmapsMap.set(P,l));const M=l.get(c);if(M&&!a){const C=Math.round(Math.min(o[0],o[2])+o[4]),I=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:M,offsetX:C,offsetY:I}}h=M}h||(u=this.cachedCanvases.getCanvas("maskCanvas",n,s),jv(u.context,t));let f=st.transform(o,[1/n,0,0,-1/s,0,0]);f=st.transform(f,[1,0,0,1,0,-s]);const[p,m,g,b]=st.getAxialAlignedBoundingBox([0,0,n,s],f),v=Math.round(g-p)||1,A=Math.round(b-m)||1,E=this.cachedCanvases.getCanvas("fillCanvas",v,A),k=E.context,S=p,_=m;k.translate(-S,-_),k.transform(...f),h||(h=this._scaleImage(u.canvas,ks(k)),h=h.img,l&&a&&l.set(c,h)),k.imageSmoothingEnabled=Uv(Jt(k),t.interpolate),Yd(k,h,0,0,h.width,h.height,0,0,n,s),k.globalCompositeOperation="source-in";const L=st.transform(ks(k),[1,0,0,1,-S,-_]);return k.fillStyle=a?r.getPattern(e,this,L,je.FILL):r,k.fillRect(0,0,n,s),l&&!a&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,E.canvas)),{canvas:E.canvas,offsetX:Math.round(S),offsetY:Math.round(_)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=bR[t]}setLineJoin(t){this.ctx.lineJoin=yR[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(t),n.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,n]of t)switch(e){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(n,t,e);this.suspendedCtx=this.ctx,this.ctx=s.context;const r=this.ctx;r.setTransform(...Jt(this.suspendedCtx)),cl(this.suspendedCtx,r),gR(r,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),cl(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,s){const r=s[0],a=s[1],o=s[2]-r,l=s[3]-a;o===0||l===0||(this.genericComposeSMask(e.context,n,o,l,e.subtype,e.backdrop,e.transferMap,r,a,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,s,r,a,o,l,c,h,u){let f=t.canvas,p=l-h,m=c-u;if(a){if(p<0||m<0||p+n>f.width||m+s>f.height){const b=this.cachedCanvases.getCanvas("maskExtension",n,s),v=b.context;v.drawImage(f,-p,-m),a.some(A=>A!==0)&&(v.globalCompositeOperation="destination-atop",v.fillStyle=st.makeHexColor(...a),v.fillRect(0,0,n,s),v.globalCompositeOperation="source-over"),f=b.canvas,p=m=0}else if(a.some(b=>b!==0)){t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const b=new Path2D;b.rect(p,m,n,s),t.clip(b),t.globalCompositeOperation="destination-atop",t.fillStyle=st.makeHexColor(...a),t.fillRect(p,m,n,s),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),r==="Alpha"&&o?e.filter=this.filterFactory.addAlphaFilter(o):r==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(o));const g=new Path2D;g.rect(l,c,n,s),e.clip(g),e.globalCompositeOperation="destination-in",e.drawImage(f,p,m,n,s,l,c,n,s),e.restore()}save(){this.inSMaskMode?(cl(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),cl(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,n,s,r,a){this.ctx.transform(t,e,n,s,r,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n){const s=this.ctx,r=this.current;let a=r.x,o=r.y,l,c;const h=Jt(s),u=h[0]===0&&h[3]===0||h[1]===0&&h[2]===0,f=u?n.slice(0):null;for(let p=0,m=0,g=t.length;p<g;p++)switch(t[p]|0){case Ln.rectangle:a=e[m++],o=e[m++];const b=e[m++],v=e[m++],A=a+b,E=o+v;s.moveTo(a,o),b===0||v===0?s.lineTo(A,E):(s.lineTo(A,o),s.lineTo(A,E),s.lineTo(a,E)),u||r.updateRectMinMax(h,[a,o,A,E]),s.closePath();break;case Ln.moveTo:a=e[m++],o=e[m++],s.moveTo(a,o),u||r.updatePathMinMax(h,a,o);break;case Ln.lineTo:a=e[m++],o=e[m++],s.lineTo(a,o),u||r.updatePathMinMax(h,a,o);break;case Ln.curveTo:l=a,c=o,a=e[m+4],o=e[m+5],s.bezierCurveTo(e[m],e[m+1],e[m+2],e[m+3],a,o),r.updateCurvePathMinMax(h,l,c,e[m],e[m+1],e[m+2],e[m+3],a,o,f),m+=6;break;case Ln.curveTo2:l=a,c=o,s.bezierCurveTo(a,o,e[m],e[m+1],e[m+2],e[m+3]),r.updateCurvePathMinMax(h,l,c,a,o,e[m],e[m+1],e[m+2],e[m+3],f),a=e[m+2],o=e[m+3],m+=4;break;case Ln.curveTo3:l=a,c=o,a=e[m+2],o=e[m+3],s.bezierCurveTo(e[m],e[m+1],a,o,a,o),r.updateCurvePathMinMax(h,l,c,e[m],e[m+1],a,o,a,o,f),m+=4;break;case Ln.closePath:s.closePath();break}u&&r.updateScalingPathMinMax(h,f),r.setCurrentPoint(a,o)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,n=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(e.save(),e.strokeStyle=n.getPattern(e,this,ks(e),je.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,n=this.current.fillColor,s=this.current.patternFill;let r=!1;s&&(e.save(),e.fillStyle=n.getPattern(e,this,ks(e),je.FILL),r=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),r&&e.restore(),t&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=wR}eoClip(){this.pendingClip=Wv}beginText(){this.current.textMatrix=cw,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(const n of t)e.setTransform(...n.transform),e.translate(n.x,n.y),n.addToPath(e,n.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var h;const n=this.commonObjs.get(t),s=this.current;if(!n)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=n.fontMatrix||Kf,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&Et("Invalid font matrix for font "+t),e<0?(e=-e,s.fontDirection=-1):s.fontDirection=1,this.current.font=n,this.current.fontSize=e,n.isType3Font)return;const r=n.loadedName||"sans-serif",a=((h=n.systemFontInfo)==null?void 0:h.css)||`"${r}", ${n.fallbackName}`;let o="normal";n.black?o="900":n.bold&&(o="bold");const l=n.italic?"italic":"normal";let c=e;e<Dv?c=Dv:e>Fv&&(c=Fv),this.current.fontSizeScale=e/c,this.ctx.font=`${l} ${o} ${c}px ${a}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,n,s,r,a){this.current.textMatrix=[t,e,n,s,r,a],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,n,s){const r=this.ctx,a=this.current,o=a.font,l=a.textRenderingMode,c=a.fontSize/a.fontSizeScale,h=l&Te.FILL_STROKE_MASK,u=!!(l&Te.ADD_TO_PATH_FLAG),f=a.patternFill&&!o.missingFile;let p;(o.disableFontFace||u||f)&&(p=o.getPathGenerator(this.commonObjs,t)),o.disableFontFace||f?(r.save(),r.translate(e,n),r.beginPath(),p(r,c),s&&r.setTransform(...s),(h===Te.FILL||h===Te.FILL_STROKE)&&r.fill(),(h===Te.STROKE||h===Te.FILL_STROKE)&&r.stroke(),r.restore()):((h===Te.FILL||h===Te.FILL_STROKE)&&r.fillText(t,e,n),(h===Te.STROKE||h===Te.FILL_STROKE)&&r.strokeText(t,e,n)),u&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Jt(r),x:e,y:n,fontSize:c,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let s=3;s<e.length;s+=4)if(e[s]>0&&e[s]<255){n=!0;break}return Mt(this,"isFontSubpixelAAEnabled",n)}showText(t){const e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);const s=e.fontSize;if(s===0)return;const r=this.ctx,a=e.fontSizeScale,o=e.charSpacing,l=e.wordSpacing,c=e.fontDirection,h=e.textHScale*c,u=t.length,f=n.vertical,p=f?1:-1,m=n.defaultVMetrics,g=s*e.fontMatrix[0],b=e.textRenderingMode===Te.FILL&&!n.disableFontFace&&!e.patternFill;r.save(),r.transform(...e.textMatrix),r.translate(e.x,e.y+e.textRise),c>0?r.scale(h,-1):r.scale(h,1);let v;if(e.patternFill){r.save();const _=e.fillColor.getPattern(r,this,ks(r),je.FILL);v=Jt(r),r.restore(),r.fillStyle=_}let A=e.lineWidth;const E=e.textMatrixScale;if(E===0||A===0){const _=e.textRenderingMode&Te.FILL_STROKE_MASK;(_===Te.STROKE||_===Te.FILL_STROKE)&&(A=this.getSinglePixelWidth())}else A/=E;if(a!==1&&(r.scale(a,a),A/=a),r.lineWidth=A,n.isInvalidPDFjsFont){const _=[];let L=0;for(const P of t)_.push(P.unicode),L+=P.width;r.fillText(_.join(""),0,0),e.x+=L*g*h,r.restore(),this.compose();return}let k=0,S;for(S=0;S<u;++S){const _=t[S];if(typeof _=="number"){k+=p*_*s/1e3;continue}let L=!1;const P=(_.isSpace?l:0)+o,M=_.fontChar,C=_.accent;let I,F,z=_.width;if(f){const W=_.vmetric||m,j=-(_.vmetric?W[1]:z*.5)*g,D=W[2]*g;z=W?-W[0]:z,I=j/a,F=(k+D)/a}else I=k/a,F=0;if(n.remeasure&&z>0){const W=r.measureText(M).width*1e3/s*a;if(z<W&&this.isFontSubpixelAAEnabled){const j=z/W;L=!0,r.save(),r.scale(j,1),I/=j}else z!==W&&(I+=(z-W)/2e3*s/a)}if(this.contentVisible&&(_.isInFont||n.missingFile)){if(b&&!C)r.fillText(M,I,F);else if(this.paintChar(M,I,F,v),C){const W=I+s*C.offset.x/a,j=F-s*C.offset.y/a;this.paintChar(C.fontChar,W,j,v)}}const H=f?z*g-P*c:z*g+P*c;k+=H,L&&r.restore()}f?e.y-=k:e.x+=k*h,r.restore(),this.compose()}showType3Text(t){const e=this.ctx,n=this.current,s=n.font,r=n.fontSize,a=n.fontDirection,o=s.vertical?1:-1,l=n.charSpacing,c=n.wordSpacing,h=n.textHScale*a,u=n.fontMatrix||Kf,f=t.length,p=n.textRenderingMode===Te.INVISIBLE;let m,g,b,v;if(!(p||r===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...n.textMatrix),e.translate(n.x,n.y),e.scale(h,a),m=0;m<f;++m){if(g=t[m],typeof g=="number"){v=o*g*r/1e3,this.ctx.translate(v,0),n.x+=v*h;continue}const A=(g.isSpace?c:0)+l,E=s.charProcOperatorList[g.operatorListId];if(!E){Et(`Type3 character "${g.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=g,this.save(),e.scale(r,r),e.transform(...u),this.executeOperatorList(E),this.restore()),b=st.applyTransform([g.width,0],u)[0]*r+A,e.translate(b,0),n.x+=b*h}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,n,s,r,a){this.ctx.rect(n,s,r-n,a-s),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const n=t[1],s=this.baseTransform||Jt(this.ctx),r={createCanvasGraphics:a=>new sm(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new Sp(t,n,this.ctx,r,s)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,n){const s=st.makeHexColor(t,e,n);this.ctx.strokeStyle=s,this.current.strokeColor=s}setFillRGBColor(t,e,n){const s=st.makeHexColor(t,e,n);this.ctx.fillStyle=s,this.current.fillColor=s,this.current.patternFill=!1}_getPattern(t,e=null){let n;return this.cachedPatterns.has(t)?n=this.cachedPatterns.get(t):(n=uR(this.getObject(t)),this.cachedPatterns.set(t,n)),e&&(n.matrix=e),n}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,ks(e),je.SHADING);const s=ks(e);if(s){const{width:r,height:a}=e.canvas,[o,l,c,h]=st.getAxialAlignedBoundingBox([0,0,r,a],s);this.ctx.fillRect(o,l,c-o,h-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){$t("Should not call beginInlineImage")}beginImageData(){$t("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Jt(this.ctx),e)){const n=e[2]-e[0],s=e[3]-e[1];this.ctx.rect(e[0],e[1],n,s),this.current.updateRectMinMax(Jt(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||Lu("TODO: Support non-isolated groups."),t.knockout&&Et("Knockout groups not supported.");const n=Jt(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=st.getAxialAlignedBoundingBox(t.bbox,Jt(e));const r=[0,0,e.canvas.width,e.canvas.height];s=st.intersect(s,r)||[0,0,0,0];const a=Math.floor(s[0]),o=Math.floor(s[1]),l=Math.max(Math.ceil(s[2])-a,1),c=Math.max(Math.ceil(s[3])-o,1);this.current.startNewPathAndClipBox([0,0,l,c]);let h="groupAt"+this.groupLevel;t.smask&&(h+="_smask_"+this.smaskCounter++%2);const u=this.cachedCanvases.getCanvas(h,l,c),f=u.context;f.translate(-a,-o),f.transform(...n),t.smask?this.smaskStack.push({canvas:u.canvas,context:f,offsetX:a,offsetY:o,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(a,o),e.save()),cl(e,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=Jt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const r=st.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],s);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(r)}}beginAnnotation(t,e,n,s,r){if(w(this,er,kp).call(this),Kd(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const a=e[2]-e[0],o=e[3]-e[1];if(r&&this.annotationCanvasMap){n=n.slice(),n[4]-=e[0],n[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=a,e[3]=o;const[l,c]=st.singularValueDecompose2dScale(Jt(this.ctx)),{viewportScale:h}=this,u=Math.ceil(a*this.outputScaleX*h),f=Math.ceil(o*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(u,f);const{canvas:p,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(t,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,o*c),Kd(this.ctx)}else Kd(this.ctx),this.ctx.rect(e[0],e[1],a,o),this.ctx.clip(),this.endPath()}this.current=new Bv(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),w(this,er,_p).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const n=this.ctx,s=this.processingType3;if(s&&(s.compiled===void 0&&(s.compiled=vR(t)),s.compiled)){s.compiled(n);return}const r=this._createMaskCanvas(t),a=r.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(a,r.offsetX,r.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n=0,s=0,r,a){if(!this.contentVisible)return;t=this.getObject(t.data,t);const o=this.ctx;o.save();const l=Jt(o);o.transform(e,n,s,r,0,0);const c=this._createMaskCanvas(t);o.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let h=0,u=a.length;h<u;h+=2){const f=st.transform(l,[e,n,s,r,a[h],a[h+1]]),[p,m]=st.applyTransform([0,0],f);o.drawImage(c.canvas,p,m)}o.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,n=this.current.fillColor,s=this.current.patternFill;for(const r of t){const{data:a,width:o,height:l,transform:c}=r,h=this.cachedCanvases.getCanvas("maskCanvas",o,l),u=h.context;u.save();const f=this.getObject(a,r);jv(u,f),u.globalCompositeOperation="source-in",u.fillStyle=s?n.getPattern(u,this,ks(e),je.FILL):n,u.fillRect(0,0,o,l),u.restore(),e.save(),e.transform(...c),e.scale(1,-1),Yd(e,h.canvas,0,0,o,l,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){Et("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,n,s){if(!this.contentVisible)return;const r=this.getObject(t);if(!r){Et("Dependent image isn't ready yet");return}const a=r.width,o=r.height,l=[];for(let c=0,h=s.length;c<h;c+=2)l.push({transform:[e,0,0,n,s[c],s[c+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(r,l)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:s}=t,r=this.cachedCanvases.getCanvas("inlineImage",n,s),a=r.context;return a.filter=this.current.transferMaps,a.drawImage(e,0,0),a.filter="none",r.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,n=t.height,s=this.ctx;if(this.save(),!De){const{filter:o}=s;o!=="none"&&o!==""&&(s.filter="none")}s.scale(1/e,-1/n);let r;if(t.bitmap)r=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)r=t;else{const l=this.cachedCanvases.getCanvas("inlineImage",e,n).context;$v(l,t),r=this.applyTransferMapsToCanvas(l)}const a=this._scaleImage(r,ks(s));s.imageSmoothingEnabled=Uv(Jt(s),t.interpolate),Yd(s,a.img,0,0,a.paintWidth,a.paintHeight,0,-n,e,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const r=t.width,a=t.height,l=this.cachedCanvases.getCanvas("inlineImage",r,a).context;$v(l,t),s=this.applyTransferMapsToCanvas(l)}for(const r of e)n.save(),n.transform(...r.transform),n.scale(1,-1),Yd(n,s,r.x,r.y,r.w,r.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const n=this.ctx;this.pendingClip&&(e||(this.pendingClip===Wv?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Jt(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),s=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,s)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:s,d:r}=this.ctx.getTransform();let a,o;if(n===0&&s===0){const l=Math.abs(e),c=Math.abs(r);if(l===c)if(t===0)a=o=1/l;else{const h=l*t;a=o=h<1?1/h:1}else if(t===0)a=1/l,o=1/c;else{const h=l*t,u=c*t;a=h<1?1/h:1,o=u<1?1/u:1}}else{const l=Math.abs(e*r-n*s),c=Math.hypot(e,n),h=Math.hypot(s,r);if(t===0)a=h/l,o=c/l;else{const u=t*l;a=h>u?h/u:1,o=c>u?c/u:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:n}=this.current,[s,r]=this.getScaleForStroking();if(e.lineWidth=n||1,s===1&&r===1){e.stroke();return}const a=e.getLineDash();if(t&&e.save(),e.scale(s,r),a.length>0){const o=Math.max(s,r);e.setLineDash(a.map(l=>l/o)),e.lineDashOffset/=o}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};er=new WeakSet,kp=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},_p=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}};let Wa=sm;for(const i in Ln)Wa.prototype[i]!==void 0&&(Wa.prototype[Ln[i]]=Wa.prototype[i]);var vc,bc;class ei{static get workerPort(){return d(this,vc)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");y(this,vc,t)}static get workerSrc(){return d(this,bc)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");y(this,bc,t)}}vc=new WeakMap,bc=new WeakMap,x(ei,vc,null),x(ei,bc,"");const Jd={DATA:1,ERROR:2},re={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function en(i){switch(i instanceof Error||typeof i=="object"&&i!==null||$t('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),i.name){case"AbortException":return new _a(i.message);case"MissingPDFException":return new ka(i.message);case"PasswordException":return new Qf(i.message,i.code);case"UnexpectedResponseException":return new Mu(i.message,i.status);case"UnknownErrorException":return new Zf(i.message,i.details);default:return new Zf(i.message,i.toString())}}var ms,qw,Gw,hh;class yl{constructor(t,e,n){x(this,ms);this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=s=>{const r=s.data;if(r.targetName!==this.sourceName)return;if(r.stream){w(this,ms,Gw).call(this,r);return}if(r.callback){const o=r.callbackId,l=this.callbackCapabilities[o];if(!l)throw new Error(`Cannot resolve callback ${o}`);if(delete this.callbackCapabilities[o],r.callback===Jd.DATA)l.resolve(r.data);else if(r.callback===Jd.ERROR)l.reject(en(r.reason));else throw new Error("Unexpected callback case");return}const a=this.actionHandler[r.action];if(!a)throw new Error(`Unknown action from worker: ${r.action}`);if(r.callbackId){const o=this.sourceName,l=r.sourceName;new Promise(function(c){c(a(r.data))}).then(function(c){n.postMessage({sourceName:o,targetName:l,callback:Jd.DATA,callbackId:r.callbackId,data:c})},function(c){n.postMessage({sourceName:o,targetName:l,callback:Jd.ERROR,callbackId:r.callbackId,reason:en(c)})});return}if(r.streamId){w(this,ms,qw).call(this,r);return}a(r.data)},n.addEventListener("message",this._onComObjOnMessage)}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const s=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[s]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:s,data:e},n)}catch(a){r.reject(a)}return r.promise}sendWithStream(t,e,n,s){const r=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const h=Promise.withResolvers();return this.streamControllers[r]={controller:c,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:t,streamId:r,data:e,desiredSize:c.desiredSize},s),h.promise},pull:c=>{const h=Promise.withResolvers();return this.streamControllers[r].pullCall=h,l.postMessage({sourceName:a,targetName:o,stream:re.PULL,streamId:r,desiredSize:c.desiredSize}),h.promise},cancel:c=>{ge(c instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[r].cancelCall=h,this.streamControllers[r].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:re.CANCEL,streamId:r,reason:en(c)}),h.promise}},n)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}ms=new WeakSet,qw=function(t){const e=t.streamId,n=this.sourceName,s=t.sourceName,r=this.comObj,a=this,o=this.actionHandler[t.action],l={enqueue(c,h=1,u){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=h,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:n,targetName:s,stream:re.ENQUEUE,streamId:e,chunk:c},u)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:s,stream:re.CLOSE,streamId:e}),delete a.streamSinks[e])},error(c){ge(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:s,stream:re.ERROR,streamId:e,reason:en(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[e]=l,new Promise(function(c){c(o(t.data,l))}).then(function(){r.postMessage({sourceName:n,targetName:s,stream:re.START_COMPLETE,streamId:e,success:!0})},function(c){r.postMessage({sourceName:n,targetName:s,stream:re.START_COMPLETE,streamId:e,reason:en(c)})})},Gw=function(t){const e=t.streamId,n=this.sourceName,s=t.sourceName,r=this.comObj,a=this.streamControllers[e],o=this.streamSinks[e];switch(t.stream){case re.START_COMPLETE:t.success?a.startCall.resolve():a.startCall.reject(en(t.reason));break;case re.PULL_COMPLETE:t.success?a.pullCall.resolve():a.pullCall.reject(en(t.reason));break;case re.PULL:if(!o){r.postMessage({sourceName:n,targetName:s,stream:re.PULL_COMPLETE,streamId:e,success:!0});break}o.desiredSize<=0&&t.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=t.desiredSize,new Promise(function(l){var c;l((c=o.onPull)==null?void 0:c.call(o))}).then(function(){r.postMessage({sourceName:n,targetName:s,stream:re.PULL_COMPLETE,streamId:e,success:!0})},function(l){r.postMessage({sourceName:n,targetName:s,stream:re.PULL_COMPLETE,streamId:e,reason:en(l)})});break;case re.ENQUEUE:if(ge(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(t.chunk);break;case re.CLOSE:if(ge(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),w(this,ms,hh).call(this,a,e);break;case re.ERROR:ge(a,"error should have stream controller"),a.controller.error(en(t.reason)),w(this,ms,hh).call(this,a,e);break;case re.CANCEL_COMPLETE:t.success?a.cancelCall.resolve():a.cancelCall.reject(en(t.reason)),w(this,ms,hh).call(this,a,e);break;case re.CANCEL:if(!o)break;new Promise(function(l){var c;l((c=o.onCancel)==null?void 0:c.call(o,en(t.reason)))}).then(function(){r.postMessage({sourceName:n,targetName:s,stream:re.CANCEL_COMPLETE,streamId:e,success:!0})},function(l){r.postMessage({sourceName:n,targetName:s,stream:re.CANCEL_COMPLETE,streamId:e,reason:en(l)})}),o.sinkCapability.reject(en(t.reason)),o.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},hh=async function(t,e){var n,s,r;await Promise.allSettled([(n=t.startCall)==null?void 0:n.promise,(s=t.pullCall)==null?void 0:s.promise,(r=t.cancelCall)==null?void 0:r.promise]),delete this.streamControllers[e]};var Dr,yc;class AR{constructor({parsedData:t,rawData:e}){x(this,Dr);x(this,yc);y(this,Dr,t),y(this,yc,e)}getRaw(){return d(this,yc)}get(t){return d(this,Dr).get(t)??null}getAll(){return Wg(d(this,Dr))}has(t){return d(this,Dr).has(t)}}Dr=new WeakMap,yc=new WeakMap;const wi=Symbol("INTERNAL");var wc,Ac,xc,oo;class xR{constructor(t,{name:e,intent:n,usage:s}){x(this,wc,!1);x(this,Ac,!1);x(this,xc,!1);x(this,oo,!0);y(this,wc,!!(t&kn.DISPLAY)),y(this,Ac,!!(t&kn.PRINT)),this.name=e,this.intent=n,this.usage=s}get visible(){if(d(this,xc))return d(this,oo);if(!d(this,oo))return!1;const{print:t,view:e}=this.usage;return d(this,wc)?(e==null?void 0:e.viewState)!=="OFF":d(this,Ac)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,n=!1){t!==wi&&$t("Internal method `_setVisible` called."),y(this,xc,n),y(this,oo,e)}}wc=new WeakMap,Ac=new WeakMap,xc=new WeakMap,oo=new WeakMap;var Pi,Bt,lo,co,Ec,Cp;class ER{constructor(t,e=kn.DISPLAY){x(this,Ec);x(this,Pi,null);x(this,Bt,new Map);x(this,lo,null);x(this,co,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,y(this,co,t.order);for(const n of t.groups)d(this,Bt).set(n.id,new xR(e,n));if(t.baseState==="OFF")for(const n of d(this,Bt).values())n._setVisible(wi,!1);for(const n of t.on)d(this,Bt).get(n)._setVisible(wi,!0);for(const n of t.off)d(this,Bt).get(n)._setVisible(wi,!1);y(this,lo,this.getHash())}}isVisible(t){if(d(this,Bt).size===0)return!0;if(!t)return Lu("Optional content group not defined."),!0;if(t.type==="OCG")return d(this,Bt).has(t.id)?d(this,Bt).get(t.id).visible:(Et(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return w(this,Ec,Cp).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!d(this,Bt).has(e))return Et(`Optional content group not found: ${e}`),!0;if(d(this,Bt).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!d(this,Bt).has(e))return Et(`Optional content group not found: ${e}`),!0;if(!d(this,Bt).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!d(this,Bt).has(e))return Et(`Optional content group not found: ${e}`),!0;if(!d(this,Bt).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!d(this,Bt).has(e))return Et(`Optional content group not found: ${e}`),!0;if(d(this,Bt).get(e).visible)return!1}return!0}return Et(`Unknown optional content policy ${t.policy}.`),!0}return Et(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0){const n=d(this,Bt).get(t);if(!n){Et(`Optional content group not found: ${t}`);return}n._setVisible(wi,!!e,!0),y(this,Pi,null)}setOCGState({state:t,preserveRB:e}){let n;for(const s of t){switch(s){case"ON":case"OFF":case"Toggle":n=s;continue}const r=d(this,Bt).get(s);if(r)switch(n){case"ON":r._setVisible(wi,!0);break;case"OFF":r._setVisible(wi,!1);break;case"Toggle":r._setVisible(wi,!r.visible);break}}y(this,Pi,null)}get hasInitialVisibility(){return d(this,lo)===null||this.getHash()===d(this,lo)}getOrder(){return d(this,Bt).size?d(this,co)?d(this,co).slice():[...d(this,Bt).keys()]:null}getGroups(){return d(this,Bt).size>0?Wg(d(this,Bt)):null}getGroup(t){return d(this,Bt).get(t)||null}getHash(){if(d(this,Pi)!==null)return d(this,Pi);const t=new jw;for(const[e,n]of d(this,Bt))t.update(`${e}:${n.visible}`);return y(this,Pi,t.hexdigest())}}Pi=new WeakMap,Bt=new WeakMap,lo=new WeakMap,co=new WeakMap,Ec=new WeakSet,Cp=function(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let s=1;s<e;s++){const r=t[s];let a;if(Array.isArray(r))a=w(this,Ec,Cp).call(this,r);else if(d(this,Bt).has(r))a=d(this,Bt).get(r).visible;else return Et(`Optional content group not found: ${r}`),!0;switch(n){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return n==="And"};class SR{constructor(t,{disableRange:e=!1,disableStream:n=!1}){ge(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:r,progressiveDone:a,contentDispositionFilename:o}=t;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(r==null?void 0:r.length)>0){const l=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),t.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),t.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const s=this._rangeReaders.some(function(r){return r._begin!==t?!1:(r._enqueue(n),!0)});ge(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,n,s,r;t.total===void 0?(n=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||n.call(e,{loaded:t.loaded}):(r=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||r.call(s,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){ge(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new kR(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new _R(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeReaders.slice(0))n.cancel(t);this._pdfDataRangeTransport.abort()}}class kR{constructor(t,e,n=!1,s=null){this._stream=t,this._done=n||!1,this._filename=Yg(s)?s:null,this._queuedChunks=e||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class _R{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function CR(i){let t=!0,e=n("filename\\*","i").exec(i);if(e){e=e[1];let h=o(e);return h=unescape(h),h=l(h),h=c(h),r(h)}if(e=a(i),e){const h=c(e);return r(h)}if(e=n("filename","i").exec(i),e){e=e[1];let h=o(e);return h=c(h),r(h)}function n(h,u){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',u)}function s(h,u){if(h){if(!/^[\x00-\xFF]+$/.test(u))return u;try{const f=new TextDecoder(h,{fatal:!0}),p=Iu(u);u=f.decode(p),t=!1}catch{}}return u}function r(h){return t&&/[\x80-\xff]/.test(h)&&(h=s("utf-8",h),t&&(h=s("iso-8859-1",h))),h}function a(h){const u=[];let f;const p=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(h))!==null;){let[,g,b,v]=f;if(g=parseInt(g,10),g in u){if(g===0)break;continue}u[g]=[b,v]}const m=[];for(let g=0;g<u.length&&g in u;++g){let[b,v]=u[g];v=o(v),b&&(v=unescape(v),g===0&&(v=l(v))),m.push(v)}return m.join("")}function o(h){if(h.startsWith('"')){const u=h.slice(1).split('\\"');for(let f=0;f<u.length;++f){const p=u[f].indexOf('"');p!==-1&&(u[f]=u[f].slice(0,p),u.length=f+1),u[f]=u[f].replaceAll(/\\(.)/g,"$1")}h=u.join('"')}return h}function l(h){const u=h.indexOf("'");if(u===-1)return h;const f=h.slice(0,u),m=h.slice(u+1).replace(/^[^']*'/,"");return s(f,m)}function c(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(u,f,p,m){if(p==="q"||p==="Q")return m=m.replaceAll("_"," "),m=m.replaceAll(/=([0-9a-fA-F]{2})/g,function(g,b){return String.fromCharCode(parseInt(b,16))}),s(f,m);try{m=atob(m)}catch{}return s(f,m)})}return""}function Qg({getResponseHeader:i,isHttp:t,rangeChunkSize:e,disableRange:n}){const s={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(i("Content-Length"),10);return!Number.isInteger(r)||(s.suggestedLength=r,r<=2*e)||n||!t||i("Accept-Ranges")!=="bytes"||(i("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function Zg(i){const t=i("Content-Disposition");if(t){let e=CR(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Yg(e))return e}return null}function zu(i,t){return i===404||i===0&&t.startsWith("file:")?new ka('Missing PDF "'+t+'".'):new Mu(`Unexpected server response (${i}) while retrieving PDF "${t}".`,i)}function Xw(i){return i===200||i===206}function Yw(i,t,e){return{method:"GET",headers:i,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function Kw(i){const t=new Headers;for(const e in i){const n=i[e];n!==void 0&&t.append(e,n)}return t}function Jw(i){return i instanceof Uint8Array?i.buffer:i instanceof ArrayBuffer?i:(Et(`getArrayBuffer - unexpected data format: ${i}`),new Uint8Array(i).buffer)}class Vv{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return ge(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new RR(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new TR(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class RR{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._headers=Kw(this._stream.httpHeaders);const n=e.url;fetch(n,Yw(this._headers,this._withCredentials,this._abortController)).then(s=>{if(!Xw(s.status))throw zu(s.status,n);this._reader=s.body.getReader(),this._headersCapability.resolve();const r=l=>s.headers.get(l),{allowRangeRequests:a,suggestedLength:o}=Qg({getResponseHeader:r,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=o||this._contentLength,this._filename=Zg(r),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new _a("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Jw(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class TR{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const s=t.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController,this._headers=Kw(this._stream.httpHeaders),this._headers.append("Range",`bytes=${e}-${n-1}`);const r=s.url;fetch(r,Yw(this._headers,this._withCredentials,this._abortController)).then(a=>{if(!Xw(a.status))throw zu(a.status,r);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:Jw(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const gf=200,mf=206;function PR(i){const t=i.response;return typeof t!="string"?t:Iu(t).buffer}class LR{constructor(t,e={}){this.url=t,this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&e.httpHeaders||Object.create(null),this.withCredentials=e.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,n){const s={begin:t,end:e};for(const r in n)s[r]=n[r];return this.request(s)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,s=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const r in this.httpHeaders){const a=this.httpHeaders[r];a!==void 0&&e.setRequestHeader(r,a)}return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),s.expectedStatus=mf):s.expectedStatus=gf,e.responseType="arraybuffer",t.onError&&(e.onerror=function(r){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),s.onHeadersReceived=t.onHeadersReceived,s.onDone=t.onDone,s.onError=t.onError,s.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){var s;const n=this.pendingRequests[t];n&&((s=n.onProgress)==null||s.call(n,e))}onStateChange(t,e){var l,c,h;const n=this.pendingRequests[t];if(!n)return;const s=n.xhr;if(s.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),s.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],s.status===0&&this.isHttp){(l=n.onError)==null||l.call(n,s.status);return}const r=s.status||gf;if(!(r===gf&&n.expectedStatus===mf)&&r!==n.expectedStatus){(c=n.onError)==null||c.call(n,s.status);return}const o=PR(s);if(r===mf){const u=s.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(u);n.onDone({begin:parseInt(f[1],10),chunk:o})}else o?n.onDone({begin:0,chunk:o}):(h=n.onError)==null||h.call(n,s.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class MR{constructor(t){this._source=t,this._manager=new LR(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return ge(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new IR(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new OR(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class IR{constructor(t,e){this._manager=t;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(n),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),n=a=>e.getResponseHeader(a),{allowRangeRequests:s,suggestedLength:r}=Qg({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=r||this._contentLength,this._filename=Zg(n),this._isRangeSupported&&this._manager.abortRequest(t),this._headersReceivedCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=zu(t,this._url),this._headersReceivedCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersReceivedCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class OR{constructor(t,e,n){this._manager=t;const s={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,n,s),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=zu(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Qw=/^file:\/\/\/[a-zA-Z]:\//;function NR(i){const t=ys.get("url"),e=t.parse(i);return e.protocol==="file:"||e.host?e:/^[a-z]:[/\\]/i.test(i)?t.parse(`file:///${i}`):(e.host||(e.protocol="file:"),e)}class DR{constructor(t){this.source=t,this.url=NR(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return ge(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new HR(this):new FR(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=this.isFsUrl?new BR(this,t,e):new zR(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class Zw{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new _a("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class t0{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function qh(i,t){return{protocol:i.protocol,auth:i.auth,host:i.hostname,port:i.port,path:i.path,method:"GET",headers:t}}class FR extends Zw{constructor(t){super(t);const e=n=>{if(n.statusCode===404){const o=new ka(`Missing PDF "${this._url}".`);this._storedError=o,this._headersCapability.reject(o);return}this._headersCapability.resolve(),this._setReadableStream(n);const s=o=>this._readableStream.headers[o.toLowerCase()],{allowRangeRequests:r,suggestedLength:a}=Qg({getResponseHeader:s,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=a||this._contentLength,this._filename=Zg(s)};if(this._request=null,this._url.protocol==="http:"){const n=ys.get("http");this._request=n.request(qh(this._url,t.httpHeaders),e)}else{const n=ys.get("https");this._request=n.request(qh(this._url,t.httpHeaders),e)}this._request.on("error",n=>{this._storedError=n,this._headersCapability.reject(n)}),this._request.end()}}class zR extends t0{constructor(t,e,n){super(t),this._httpHeaders={};for(const r in t.httpHeaders){const a=t.httpHeaders[r];a!==void 0&&(this._httpHeaders[r]=a)}this._httpHeaders.Range=`bytes=${e}-${n-1}`;const s=r=>{if(r.statusCode===404){const a=new ka(`Missing PDF "${this._url}".`);this._storedError=a;return}this._setReadableStream(r)};if(this._request=null,this._url.protocol==="http:"){const r=ys.get("http");this._request=r.request(qh(this._url,this._httpHeaders),s)}else{const r=ys.get("https");this._request=r.request(qh(this._url,this._httpHeaders),s)}this._request.on("error",r=>{this._storedError=r}),this._request.end()}}class HR extends Zw{constructor(t){super(t);let e=decodeURIComponent(this._url.path);Qw.test(this._url.href)&&(e=e.replace(/^\//,""));const n=ys.get("fs");n.promises.lstat(e).then(s=>{this._contentLength=s.size,this._setReadableStream(n.createReadStream(e)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new ka(`Missing PDF "${e}".`)),this._storedError=s,this._headersCapability.reject(s)})}}class BR extends t0{constructor(t,e,n){super(t);let s=decodeURIComponent(this._url.path);Qw.test(this._url.href)&&(s=s.replace(/^\//,""));const r=ys.get("fs");this._setReadableStream(r.createReadStream(s,{start:e,end:n-1}))}}const $R=1e5,qe=30,jR=.8;var rb,Li,Xe,Sc,kc,Fr,Hs,_c,Cc,zr,ho,uo,Mi,fo,Rc,po,Hr,Tc,Pc,pe,Br,$r,Ii,go,di,e0,n0,Rp,vs,uh,s0,i0;let Gh=(pe=class{constructor({textContentSource:t,container:e,viewport:n}){x(this,di);x(this,Li,Promise.withResolvers());x(this,Xe,null);x(this,Sc,!1);x(this,kc,!!((rb=globalThis.FontInspector)!=null&&rb.enabled));x(this,Fr,null);x(this,Hs,null);x(this,_c,0);x(this,Cc,0);x(this,zr,null);x(this,ho,null);x(this,uo,0);x(this,Mi,0);x(this,fo,Object.create(null));x(this,Rc,[]);x(this,po,null);x(this,Hr,[]);x(this,Tc,new WeakMap);x(this,Pc,null);var l;if(t instanceof ReadableStream)y(this,po,t);else if(typeof t=="object")y(this,po,new ReadableStream({start(c){c.enqueue(t),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');y(this,Xe,y(this,ho,e)),y(this,Mi,n.scale*(globalThis.devicePixelRatio||1)),y(this,uo,n.rotation),y(this,Hs,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:r,pageX:a,pageY:o}=n.rawDims;y(this,Pc,[1,0,0,-1,-a,o+r]),y(this,Cc,s),y(this,_c,r),w(l=pe,vs,s0).call(l),ya(e,n),d(this,Li).promise.catch(()=>{}).then(()=>{d(pe,go).delete(this),y(this,Hs,null),y(this,fo,null)})}render(){const t=()=>{d(this,zr).read().then(({value:e,done:n})=>{if(n){d(this,Li).resolve();return}d(this,Fr)??y(this,Fr,e.lang),Object.assign(d(this,fo),e.styles),w(this,di,e0).call(this,e.items),t()},d(this,Li).reject)};return y(this,zr,d(this,po).getReader()),d(pe,go).add(this),t(),d(this,Li).promise}update({viewport:t,onBefore:e=null}){var r;const n=t.scale*(globalThis.devicePixelRatio||1),s=t.rotation;if(s!==d(this,uo)&&(e==null||e(),y(this,uo,s),ya(d(this,ho),{rotation:s})),n!==d(this,Mi)){e==null||e(),y(this,Mi,n);const a={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:w(r=pe,vs,uh).call(r,d(this,Fr))};for(const o of d(this,Hr))a.properties=d(this,Tc).get(o),a.div=o,w(this,di,Rp).call(this,a)}}cancel(){var e;const t=new _a("TextLayer task cancelled.");(e=d(this,zr))==null||e.cancel(t).catch(()=>{}),y(this,zr,null),d(this,Li).reject(t)}get textDivs(){return d(this,Hr)}get textContentItemsStr(){return d(this,Rc)}static cleanup(){if(!(d(this,go).size>0)){d(this,Br).clear();for(const{canvas:t}of d(this,$r).values())t.remove();d(this,$r).clear()}}},Li=new WeakMap,Xe=new WeakMap,Sc=new WeakMap,kc=new WeakMap,Fr=new WeakMap,Hs=new WeakMap,_c=new WeakMap,Cc=new WeakMap,zr=new WeakMap,ho=new WeakMap,uo=new WeakMap,Mi=new WeakMap,fo=new WeakMap,Rc=new WeakMap,po=new WeakMap,Hr=new WeakMap,Tc=new WeakMap,Pc=new WeakMap,Br=new WeakMap,$r=new WeakMap,Ii=new WeakMap,go=new WeakMap,di=new WeakSet,e0=function(t){var s,r;if(d(this,Sc))return;(r=d(this,Hs)).ctx??(r.ctx=w(s=pe,vs,uh).call(s,d(this,Fr)));const e=d(this,Hr),n=d(this,Rc);for(const a of t){if(e.length>$R){Et("Ignoring additional textDivs for performance reasons."),y(this,Sc,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=d(this,Xe);y(this,Xe,document.createElement("span")),d(this,Xe).classList.add("markedContent"),a.id!==null&&d(this,Xe).setAttribute("id",`${a.id}`),o.append(d(this,Xe))}else a.type==="endMarkedContent"&&y(this,Xe,d(this,Xe).parentNode);continue}n.push(a.str),w(this,di,n0).call(this,a)}},n0=function(t){var g;const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};d(this,Hr).push(e);const s=st.transform(d(this,Pc),t.transform);let r=Math.atan2(s[1],s[0]);const a=d(this,fo)[t.fontName];a.vertical&&(r+=Math.PI/2);const o=d(this,kc)&&a.fontSubstitution||a.fontFamily,l=Math.hypot(s[2],s[3]),c=l*w(g=pe,vs,i0).call(g,o,d(this,Fr));let h,u;r===0?(h=s[4],u=s[5]-c):(h=s[4]+c*Math.sin(r),u=s[5]-c*Math.cos(r));const f="calc(var(--scale-factor)*",p=e.style;d(this,Xe)===d(this,ho)?(p.left=`${(100*h/d(this,Cc)).toFixed(2)}%`,p.top=`${(100*u/d(this,_c)).toFixed(2)}%`):(p.left=`${f}${h.toFixed(2)}px)`,p.top=`${f}${u.toFixed(2)}px)`),p.fontSize=`${f}${(d(pe,Ii)*l).toFixed(2)}px)`,p.fontFamily=o,n.fontSize=l,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,d(this,kc)&&(e.dataset.fontName=a.fontSubstitutionLoadedName||t.fontName),r!==0&&(n.angle=r*(180/Math.PI));let m=!1;if(t.str.length>1)m=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const b=Math.abs(t.transform[0]),v=Math.abs(t.transform[3]);b!==v&&Math.max(b,v)/Math.min(b,v)>1.5&&(m=!0)}if(m&&(n.canvasWidth=a.vertical?t.height:t.width),d(this,Tc).set(e,n),d(this,Hs).div=e,d(this,Hs).properties=n,w(this,di,Rp).call(this,d(this,Hs)),n.hasText&&d(this,Xe).append(e),n.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),d(this,Xe).append(b)}},Rp=function(t){const{div:e,properties:n,ctx:s,prevFontSize:r,prevFontFamily:a}=t,{style:o}=e;let l="";if(d(pe,Ii)>1&&(l=`scale(${1/d(pe,Ii)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:c}=o,{canvasWidth:h,fontSize:u}=n;(r!==u||a!==c)&&(s.font=`${u*d(this,Mi)}px ${c}`,t.prevFontSize=u,t.prevFontFamily=c);const{width:f}=s.measureText(e.textContent);f>0&&(l=`scaleX(${h*d(this,Mi)/f}) ${l}`)}n.angle!==0&&(l=`rotate(${n.angle}deg) ${l}`),l.length>0&&(o.transform=l)},vs=new WeakSet,uh=function(t=null){let e=d(this,$r).get(t||(t=""));if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),d(this,$r).set(t,e)}return e},s0=function(){if(d(this,Ii)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.textContent="X",document.body.append(t),y(this,Ii,t.getBoundingClientRect().height),t.remove()},i0=function(t,e){const n=d(this,Br).get(t);if(n)return n;const s=w(this,vs,uh).call(this,e),r=s.font;s.canvas.width=s.canvas.height=qe,s.font=`${qe}px ${t}`;const a=s.measureText("");let o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);if(o){const u=o/(o+l);return d(this,Br).set(t,u),s.canvas.width=s.canvas.height=0,s.font=r,u}s.strokeStyle="red",s.clearRect(0,0,qe,qe),s.strokeText("g",0,0);let c=s.getImageData(0,0,qe,qe).data;l=0;for(let u=c.length-1-3;u>=0;u-=4)if(c[u]>0){l=Math.ceil(u/4/qe);break}s.clearRect(0,0,qe,qe),s.strokeText("A",0,qe),c=s.getImageData(0,0,qe,qe).data,o=0;for(let u=0,f=c.length;u<f;u+=4)if(c[u]>0){o=qe-Math.floor(u/4/qe);break}s.canvas.width=s.canvas.height=0,s.font=r;const h=o?o/(o+l):jR;return d(this,Br).set(t,h),h},x(pe,vs),x(pe,Br,new Map),x(pe,$r,new Map),x(pe,Ii,null),x(pe,go,new Set),pe);function UR(){mw("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:i,container:t,viewport:e,...n}=arguments[0],s=Object.keys(n);s.length>0&&Et("Ignoring `renderTextLayer` parameters: "+s.join(", "));const r=new Gh({textContentSource:i,container:t,viewport:e}),{textDivs:a,textContentItemsStr:o}=r;return{promise:r.render(),textDivs:a,textContentItemsStr:o}}function WR(){mw("`updateTextLayer`, please use `TextLayer` instead.")}class $l{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function s(r){var l;if(!r)return;let a=null;const o=r.name;if(o==="#text")a=r.value;else if($l.shouldBuildText(o))(l=r==null?void 0:r.attributes)!=null&&l.textContent?a=r.attributes.textContent:r.value&&(a=r.value);else return;if(a!==null&&e.push({str:a}),!!r.children)for(const c of r.children)s(c)}return s(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const VR=65536,qR=100,GR=5e3,XR=De?rR:q1,YR=De?aR:pw,KR=De?iR:V1,JR=De?oR:gw;function QR(i={}){typeof i=="string"||i instanceof URL?i={url:i}:(i instanceof ArrayBuffer||ArrayBuffer.isView(i))&&(i={data:i});const t=new Tp,{docId:e}=t,n=i.url?ZR(i.url):null,s=i.data?tT(i.data):null,r=i.httpHeaders||null,a=i.withCredentials===!0,o=i.password??null,l=i.range instanceof r0?i.range:null,c=Number.isInteger(i.rangeChunkSize)&&i.rangeChunkSize>0?i.rangeChunkSize:VR;let h=i.worker instanceof Va?i.worker:null;const u=i.verbosity,f=typeof i.docBaseUrl=="string"&&!Xg(i.docBaseUrl)?i.docBaseUrl:null,p=typeof i.cMapUrl=="string"?i.cMapUrl:null,m=i.cMapPacked!==!1,g=i.CMapReaderFactory||YR,b=typeof i.standardFontDataUrl=="string"?i.standardFontDataUrl:null,v=i.StandardFontDataFactory||JR,A=i.stopAtErrors!==!0,E=Number.isInteger(i.maxImageSize)&&i.maxImageSize>-1?i.maxImageSize:-1,k=i.isEvalSupported!==!1,S=typeof i.isOffscreenCanvasSupported=="boolean"?i.isOffscreenCanvasSupported:!De,_=Number.isInteger(i.canvasMaxAreaInBytes)?i.canvasMaxAreaInBytes:-1,L=typeof i.disableFontFace=="boolean"?i.disableFontFace:De,P=i.fontExtraProperties===!0,M=i.enableXfa===!0,C=i.ownerDocument||globalThis.document,I=i.disableRange===!0,F=i.disableStream===!0,z=i.disableAutoFetch===!0,H=i.pdfBug===!0,W=i.enableHWA===!0,j=l?l.length:i.length??NaN,D=typeof i.useSystemFonts=="boolean"?i.useSystemFonts:!De&&!L,N=typeof i.useWorkerFetch=="boolean"?i.useWorkerFetch:g===pw&&v===gw&&p&&b&&ml(p,document.baseURI)&&ml(b,document.baseURI),ot=i.canvasFactory||new XR({ownerDocument:C,enableHWA:W}),lt=i.filterFactory||new KR({docId:e,ownerDocument:C}),Rt=null;O1(u);const At={canvasFactory:ot,filterFactory:lt};if(N||(At.cMapReaderFactory=new g({baseUrl:p,isCompressed:m}),At.standardFontDataFactory=new v({baseUrl:b})),!h){const Dt={verbosity:u,port:ei.workerPort};h=Dt.port?Va.fromPort(Dt):new Va(Dt),t._worker=h}const nt={docId:e,apiVersion:"4.4.168",data:s,password:o,disableAutoFetch:z,rangeChunkSize:c,length:j,docBaseUrl:f,enableXfa:M,evaluatorOptions:{maxImageSize:E,disableFontFace:L,ignoreErrors:A,isEvalSupported:k,isOffscreenCanvasSupported:S,canvasMaxAreaInBytes:_,fontExtraProperties:P,useSystemFonts:D,cMapUrl:N?p:null,standardFontDataUrl:N?b:null}},mt={disableFontFace:L,fontExtraProperties:P,ownerDocument:C,pdfBug:H,styleElement:Rt,loadingParams:{disableAutoFetch:z,enableXfa:M}};return h.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Dt=h.messageHandler.sendWithPromise("GetDocRequest",nt,s?[s.buffer]:null);let Ot;if(l)Ot=new SR(l,{disableRange:I,disableStream:F});else if(!s){if(!n)throw new Error("getDocument - no `url` parameter provided.");Ot=(vt=>De?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&ml(vt.url)?new Vv(vt):new DR(vt):ml(vt.url)?new Vv(vt):new MR(vt))({url:n,length:j,httpHeaders:r,withCredentials:a,rangeChunkSize:c,disableRange:I,disableStream:F})}return Dt.then(Q=>{if(t.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const vt=new yl(e,Q,h.port),Lt=new iT(vt,t,Ot,mt,At);t._transport=Lt,vt.send("Ready",null)})}).catch(t._capability.reject),t}function ZR(i){if(i instanceof URL)return i.href;try{return new URL(i,window.location).href}catch{if(De&&typeof i=="string")return i}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function tT(i){if(De&&typeof Buffer<"u"&&i instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength)return i;if(typeof i=="string")return Iu(i);if(i instanceof ArrayBuffer||ArrayBuffer.isView(i)||typeof i=="object"&&!isNaN(i==null?void 0:i.length))return new Uint8Array(i);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function qv(i){return typeof i=="object"&&Number.isInteger(i==null?void 0:i.num)&&i.num>=0&&Number.isInteger(i==null?void 0:i.gen)&&i.gen>=0}var lu;const cu=class cu{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${tn(cu,lu)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,n;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(s){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,s}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};lu=new WeakMap,x(cu,lu,0);let Tp=cu,r0=class{constructor(t,e,n=!1,s=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const n of this._rangeListeners)n(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){$t("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class eT{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Mt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Oi,Bs,_n,Na,fh;class nT{constructor(t,e,n,s=!1){x(this,_n);x(this,Oi,null);x(this,Bs,!1);this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=s?new Mv:null,this._pdfBug=s,this.commonObjs=n.commonObjs,this.objs=new a0,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:s=0,dontFlip:r=!1}={}){return new Sd({viewBox:this.view,scale:t,rotation:e,offsetX:n,offsetY:s,dontFlip:r})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Mt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:n="display",annotationMode:s=Si.ENABLE,transform:r=null,background:a=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:h=null}){var E,k;(E=this._stats)==null||E.time("Overall");const u=this._transport.getRenderingIntent(n,s,h),{renderingIntent:f,cacheKey:p}=u;y(this,Bs,!1),w(this,_n,fh).call(this),o||(o=this._transport.getOptionalContentConfig(f));let m=this._intentStates.get(p);m||(m=Object.create(null),this._intentStates.set(p,m)),m.streamReaderCancelTimeout&&(clearTimeout(m.streamReaderCancelTimeout),m.streamReaderCancelTimeout=null);const g=!!(f&kn.PRINT);m.displayReadyCapability||(m.displayReadyCapability=Promise.withResolvers(),m.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(k=this._stats)==null||k.time("Page Request"),this._pumpOperatorList(u));const b=S=>{var _;m.renderTasks.delete(v),(this._maybeCleanupAfterRender||g)&&y(this,Bs,!0),w(this,_n,Na).call(this,!g),S?(v.capability.reject(S),this._abortOperatorList({intentState:m,reason:S instanceof Error?S:new Error(S)})):v.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(_=globalThis.Stats)!=null&&_.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},v=new Lp({callback:b,params:{canvasContext:t,viewport:e,transform:r,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:m.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!g,pdfBug:this._pdfBug,pageColors:c});(m.renderTasks||(m.renderTasks=new Set)).add(v);const A=v.task;return Promise.all([m.displayReadyCapability.promise,o]).then(([S,_])=>{var L;if(this.destroyed){b();return}if((L=this._stats)==null||L.time("Rendering"),!(_.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");v.initializeGraphics({transparency:S,optionalContentConfig:_}),v.operatorListChanged()}).catch(b),A}getOperatorList({intent:t="display",annotationMode:e=Si.ENABLE,printAnnotationStorage:n=null}={}){var l;function s(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(o))}const r=this._transport.getRenderingIntent(t,e,n,!0);let a=this._intentStates.get(r.cacheKey);a||(a=Object.create(null),this._intentStates.set(r.cacheKey,a));let o;return a.opListReadCapability||(o=Object.create(null),o.operatorListChanged=s,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(o),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(l=this._stats)==null||l.time("Page Request"),this._pumpOperatorList(r)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>$l.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,s){function r(){a.read().then(function({value:l,done:c}){if(c){n(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),r()},s)}const a=e.getReader(),o={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),y(this,Bs,!1),w(this,_n,fh).call(this),Promise.all(t)}cleanup(t=!1){y(this,Bs,!0);const e=w(this,_n,Na).call(this,!1);return t&&e&&this._stats&&(this._stats=new Mv),e}_startRenderPage(t,e){var s,r;const n=this._intentStates.get(e);n&&((s=this._stats)==null||s.timeEnd("Page Request"),(r=n.displayReadyCapability)==null||r.resolve(t))}_renderPageChunk(t,e){for(let n=0,s=t.length;n<s;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&w(this,_n,Na).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n}){const{map:s,transfer:r}=n,o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:s},r).getReader(),l=this._intentStates.get(e);l.streamReader=o;const c=()=>{o.read().then(({value:h,done:u})=>{if(u){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,l),c())},h=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const u of l.renderTasks)u.operatorListChanged();w(this,_n,Na).call(this,!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(h);else if(l.opListReadCapability)l.opListReadCapability.reject(h);else throw h}})};c()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof Gg){let s=qR;e.extraDelay>0&&e.extraDelay<1e3&&(s+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},s);return}}if(t.streamReader.cancel(new _a(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[s,r]of this._intentStates)if(r===t){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}Oi=new WeakMap,Bs=new WeakMap,_n=new WeakSet,Na=function(t=!1){if(w(this,_n,fh).call(this),!d(this,Bs)||this.destroyed)return!1;if(t)return y(this,Oi,setTimeout(()=>{y(this,Oi,null),w(this,_n,Na).call(this,!1)},GR)),!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),y(this,Bs,!1),!0},fh=function(){d(this,Oi)&&(clearTimeout(d(this,Oi)),y(this,Oi,null))};var jr,du;class sT{constructor(){x(this,jr,new Set);x(this,du,Promise.resolve())}postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};d(this,du).then(()=>{for(const s of d(this,jr))s.call(this,n)})}addEventListener(t,e){d(this,jr).add(e)}removeEventListener(t,e){d(this,jr).delete(e)}terminate(){d(this,jr).clear()}}jr=new WeakMap,du=new WeakMap;const Ps={isWorkerDisabled:!1,fakeWorkerId:0};De&&(Ps.isWorkerDisabled=!0,ei.workerSrc||(ei.workerSrc="./pdf.worker.mjs")),Ps.isSameOrigin=function(i,t){let e;try{if(e=new URL(i),!e.origin||e.origin==="null")return!1}catch{return!1}const n=new URL(t,e);return e.origin===n.origin},Ps.createCDNWrapper=function(i){const t=`await import("${i}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};var Ur,mo,ph,vo,gh;const nn=class nn{constructor({name:t=null,port:e=null,verbosity:n=N1()}={}){x(this,mo);var s;if(this.name=t,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((s=d(nn,Ur))!=null&&s.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(d(nn,Ur)||y(nn,Ur,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return De?Promise.all([ys.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new yl("main","worker",t),this._messageHandler.on("ready",function(){}),w(this,mo,ph).call(this)}_initialize(){if(Ps.isWorkerDisabled||d(nn,vo,gh)){this._setupFakeWorker();return}let{workerSrc:t}=nn;try{Ps.isSameOrigin(window.location.href,t)||(t=Ps.createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new yl("main","worker",e),s=()=>{r.abort(),n.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},r=new AbortController;e.addEventListener("error",()=>{this._webWorker||s()},{signal:r.signal}),n.on("test",o=>{if(r.abort(),this.destroyed||!o){s();return}this._messageHandler=n,this._port=e,this._webWorker=e,w(this,mo,ph).call(this)}),n.on("ready",o=>{if(r.abort(),this.destroyed){s();return}try{a()}catch{this._setupFakeWorker()}});const a=()=>{const o=new Uint8Array;n.send("test",o,[o.buffer])};a();return}catch{Lu("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){Ps.isWorkerDisabled||(Et("Setting up fake worker."),Ps.isWorkerDisabled=!0),nn._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new sT;this._port=e;const n=`fake${Ps.fakeWorkerId++}`,s=new yl(n+"_worker",n,e);t.setup(s,e),this._messageHandler=new yl(n,n+"_worker",e),w(this,mo,ph).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=d(nn,Ur))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var n;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(n=d(this,Ur))==null?void 0:n.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new nn(t)}static get workerSrc(){if(ei.workerSrc)return ei.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Mt(this,"_setupFakeWorkerGlobal",(async()=>d(this,vo,gh)?d(this,vo,gh):(await import(this.workerSrc)).WorkerMessageHandler)())}};Ur=new WeakMap,mo=new WeakSet,ph=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},vo=new WeakSet,gh=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},x(nn,vo),x(nn,Ur);let Va=nn;var $s,es,bo,yo,ns,Wr,wl;class iT{constructor(t,e,n,s,r){x(this,Wr);x(this,$s,new Map);x(this,es,new Map);x(this,bo,new Map);x(this,yo,new Map);x(this,ns,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new a0,this.fontLoader=new nR({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Mt(this,"annotationStorage",new Jg)}getRenderingIntent(t,e=Si.ENABLE,n=null,s=!1){let r=kn.DISPLAY,a=Ap;switch(t){case"any":r=kn.ANY;break;case"display":break;case"print":r=kn.PRINT;break;default:Et(`getRenderingIntent - invalid intent: ${t}`)}switch(e){case Si.DISABLE:r+=kn.ANNOTATIONS_DISABLE;break;case Si.ENABLE:break;case Si.ENABLE_FORMS:r+=kn.ANNOTATIONS_FORMS;break;case Si.ENABLE_STORAGE:r+=kn.ANNOTATIONS_STORAGE,a=(r&kn.PRINT&&n instanceof Ww?n:this.annotationStorage).serializable;break;default:Et(`getRenderingIntent - invalid annotationMode: ${e}`)}return s&&(r+=kn.OPLIST),{renderingIntent:r,cacheKey:`${r}_${a.hash}`,annotationStorageSerializable:a}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=d(this,ns))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const s of d(this,es).values())t.push(s._destroy());d(this,es).clear(),d(this,bo).clear(),d(this,yo).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var s;this.commonObjs.clear(),this.fontLoader.clear(),d(this,$s).clear(),this.filterFactory.destroy(),Gh.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new _a("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,s)=>{ge(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},s.onPull=()=>{this._fullReader.read().then(function({value:r,done:a}){if(a){s.close();return}ge(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{s.error(r)})},s.onCancel=r=>{this._fullReader.cancel(r),s.ready.catch(a=>{if(!this.destroyed)throw a})}}),t.on("ReaderHeadersReady",n=>{const s=Promise.withResolvers(),r=this._fullReader;return r.headersReady.then(()=>{var a;(!r.isStreamingSupported||!r.isRangeSupported)&&(this._lastProgress&&((a=e.onProgress)==null||a.call(e,this._lastProgress)),r.onProgress=o=>{var l;(l=e.onProgress)==null||l.call(e,{loaded:o.loaded,total:o.total})}),s.resolve({isStreamingSupported:r.isStreamingSupported,isRangeSupported:r.isRangeSupported,contentLength:r.contentLength})},s.reject),s.promise}),t.on("GetRangeReader",(n,s)=>{ge(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(n.begin,n.end);if(!r){s.close();return}s.onPull=()=>{r.read().then(function({value:a,done:o}){if(o){s.close();return}ge(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{s.error(a)})},s.onCancel=a=>{r.cancel(a),s.ready.catch(o=>{if(!this.destroyed)throw o})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new eT(n,this))}),t.on("DocException",function(n){let s;switch(n.name){case"PasswordException":s=new Qf(n.message,n.code);break;case"InvalidPDFException":s=new dw(n.message);break;case"MissingPDFException":s=new ka(n.message);break;case"UnexpectedResponseException":s=new Mu(n.message,n.status);break;case"UnknownErrorException":s=new Zf(n.message,n.details);break;default:$t("DocException - expected a valid Error.")}e._capability.reject(s)}),t.on("PasswordRequest",n=>{if(y(this,ns,Promise.withResolvers()),e.onPassword){const s=r=>{r instanceof Error?d(this,ns).reject(r):d(this,ns).resolve({password:r})};try{e.onPassword(s,n.code)}catch(r){d(this,ns).reject(r)}}else d(this,ns).reject(new Qf(n.message,n.code));return d(this,ns).promise}),t.on("DataLoaded",n=>{var s;(s=e.onProgress)==null||s.call(e,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;d(this,es).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,s,r])=>{var a;if(this.destroyed||this.commonObjs.has(n))return null;switch(s){case"Font":const{disableFontFace:o,fontExtraProperties:l,pdfBug:c}=this._params;if("error"in r){const p=r.error;Et(`Error during font loading: ${p}`),this.commonObjs.resolve(n,p);break}const h=c&&((a=globalThis.FontInspector)!=null&&a.enabled)?(p,m)=>globalThis.FontInspector.fontAdded(p,m):null,u=new sR(r,{disableFontFace:o,inspectFont:h});this.fontLoader.bind(u).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!l&&u.data&&(u.data=null),this.commonObjs.resolve(n,u)});break;case"CopyLocalImage":const{imageRef:f}=r;ge(f,"The imageRef must be defined.");for(const p of d(this,es).values())for(const[,m]of p.objs)if((m==null?void 0:m.ref)===f)return m.dataLen?(this.commonObjs.resolve(n,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,r);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),t.on("obj",([n,s,r,a])=>{var l;if(this.destroyed)return;const o=d(this,es).get(s);if(!o.objs.has(n)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(r){case"Image":o.objs.resolve(n,a),(a==null?void 0:a.dataLen)>P1&&(o._maybeCleanupAfterRender=!0);break;case"Pattern":o.objs.resolve(n,a);break;default:throw new Error(`Got unknown object type ${r}`)}}}),t.on("DocProgress",n=>{var s;this.destroyed||(s=e.onProgress)==null||s.call(e,{loaded:n.loaded,total:n.total})}),t.on("FetchBuiltInCMap",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(n):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),t.on("FetchStandardFontData",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(n):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Et("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((n=this._fullReader)==null?void 0:n.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=d(this,bo).get(e);if(n)return n;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&d(this,yo).set(r.refStr,t);const a=new nT(e,r,this,this._params.pdfBug);return d(this,es).set(e,a),a});return d(this,bo).set(e,s),s}getPageIndex(t){return qv(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return w(this,Wr,wl).call(this,"GetFieldObjects")}hasJSActions(){return w(this,Wr,wl).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return w(this,Wr,wl).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return w(this,Wr,wl).call(this,"GetOptionalContentConfig").then(e=>new ER(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=d(this,$s).get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(s=>{var r,a;return{info:s[0],metadata:s[1]?new AR(s[1]):null,contentDispositionFilename:((r=this._fullReader)==null?void 0:r.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return d(this,$s).set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of d(this,es).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),d(this,$s).clear(),this.filterFactory.destroy(!0),Gh.cleanup()}}cachedPageNumber(t){if(!qv(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return d(this,yo).get(e)??null}}$s=new WeakMap,es=new WeakMap,bo=new WeakMap,yo=new WeakMap,ns=new WeakMap,Wr=new WeakSet,wl=function(t,e=null){const n=d(this,$s).get(t);if(n)return n;const s=this.messageHandler.sendWithPromise(t,e);return d(this,$s).set(t,s),s};const Qd=Symbol("INITIAL_DATA");var Fn,Lc,Pp;class a0{constructor(){x(this,Lc);x(this,Fn,Object.create(null))}get(t,e=null){if(e){const s=w(this,Lc,Pp).call(this,t);return s.promise.then(()=>e(s.data)),null}const n=d(this,Fn)[t];if(!n||n.data===Qd)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=d(this,Fn)[t];return!!e&&e.data!==Qd}resolve(t,e=null){const n=w(this,Lc,Pp).call(this,t);n.data=e,n.resolve()}clear(){var t;for(const e in d(this,Fn)){const{data:n}=d(this,Fn)[e];(t=n==null?void 0:n.bitmap)==null||t.close()}y(this,Fn,Object.create(null))}*[Symbol.iterator](){for(const t in d(this,Fn)){const{data:e}=d(this,Fn)[t];e!==Qd&&(yield[t,e])}}}Fn=new WeakMap,Lc=new WeakSet,Pp=function(t){var e;return(e=d(this,Fn))[t]||(e[t]={...Promise.withResolvers(),data:Qd})};var Ni;class rT{constructor(t){x(this,Ni,null);y(this,Ni,t),this.onContinue=null}get promise(){return d(this,Ni).capability.promise}cancel(t=0){d(this,Ni).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=d(this,Ni).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=d(this,Ni);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}Ni=new WeakMap;var Di,Vr;const mr=class mr{constructor({callback:t,params:e,objs:n,commonObjs:s,annotationCanvasMap:r,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:h=!1,pdfBug:u=!1,pageColors:f=null}){x(this,Di,null);this.callback=t,this.params=e,this.objs=n,this.commonObjs=s,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=u,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new rT(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var o,l;if(this.cancelled)return;if(this._canvas){if(d(mr,Vr).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");d(mr,Vr).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:s,transform:r,background:a}=this.params;this.gfx=new Wa(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:r,viewport:s,transparency:t,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(t=null,e=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),d(this,Di)&&(window.cancelAnimationFrame(d(this,Di)),y(this,Di,null)),d(mr,Vr).delete(this._canvas),this.callback(t||new Gg(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?y(this,Di,window.requestAnimationFrame(()=>{y(this,Di,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),d(mr,Vr).delete(this._canvas),this.callback())))}};Di=new WeakMap,Vr=new WeakMap,x(mr,Vr,new WeakSet);let Lp=mr;const aT="4.4.168",oT="19fbc8998";function Gv(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}function dl(i){return Math.max(0,Math.min(255,255*i))}class Xv{static CMYK_G([t,e,n,s]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+s)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=dl(t),[t,t,t]}static G_HTML([t]){const e=Gv(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(dl)}static RGB_HTML(t){return`#${t.map(Gv).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,s]){return["RGB",1-Math.min(1,t+s),1-Math.min(1,n+s),1-Math.min(1,e+s)]}static CMYK_rgb([t,e,n,s]){return[dl(1-Math.min(1,t+s)),dl(1-Math.min(1,n+s)),dl(1-Math.min(1,e+s))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const s=1-t,r=1-e,a=1-n,o=Math.min(s,r,a);return["CMYK",s,r,a,o]}}class o0{static setupStorage(t,e,n,s,r){const a=s.getValue(e,{value:null});switch(n.name){case"textarea":if(a.value!==null&&(t.textContent=a.value),r==="print")break;t.addEventListener("input",o=>{s.setValue(e,{value:o.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(a.value===n.attributes.xfaOn?t.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&t.removeAttribute("checked"),r==="print")break;t.addEventListener("change",o=>{s.setValue(e,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&t.setAttribute("value",a.value),r==="print")break;t.addEventListener("input",o=>{s.setValue(e,{value:o.target.value})})}break;case"select":if(a.value!==null){t.setAttribute("value",a.value);for(const o of n.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}t.addEventListener("input",o=>{const l=o.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;s.setValue(e,{value:c})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:s,linkService:r}){const{attributes:a}=e,o=t instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${s}`);for(const[l,c]of Object.entries(a))if(c!=null)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!o||l!=="href"&&l!=="newWindow")&&t.setAttribute(l,c)}o&&r.addLinkAttributes(t,a.href,a.newWindow),n&&a.dataId&&this.setupStorage(t,a.dataId,e,n)}static render(t){var u,f;const e=t.annotationStorage,n=t.linkService,s=t.xfaHtml,r=t.intent||"display",a=document.createElement(s.name);s.attributes&&this.setAttributes({html:a,element:s,intent:r,linkService:n});const o=r!=="richText",l=t.div;if(l.append(a),t.viewport){const p=`matrix(${t.viewport.transform.join(",")})`;l.style.transform=p}o&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(s.children.length===0){if(s.value){const p=document.createTextNode(s.value);a.append(p),o&&$l.shouldBuildText(s.name)&&c.push(p)}return{textDivs:c}}const h=[[s,-1,a]];for(;h.length>0;){const[p,m,g]=h.at(-1);if(m+1===p.children.length){h.pop();continue}const b=p.children[++h.at(-1)[1]];if(b===null)continue;const{name:v}=b;if(v==="#text"){const E=document.createTextNode(b.value);c.push(E),g.append(E);continue}const A=(u=b==null?void 0:b.attributes)!=null&&u.xmlns?document.createElementNS(b.attributes.xmlns,v):document.createElement(v);if(g.append(A),b.attributes&&this.setAttributes({html:A,element:b,storage:e,intent:r,linkService:n}),((f=b.children)==null?void 0:f.length)>0)h.push([b,-1,A]);else if(b.value){const E=document.createTextNode(b.value);o&&$l.shouldBuildText(v)&&c.push(E),A.append(E)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:c}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const Cd=1e3,lT=9,Aa=new WeakSet;function ni(i){return{width:i[2]-i[0],height:i[3]-i[1]}}class cT{static create(t){switch(t.data.annotationType){case ce.LINK:return new l0(t);case ce.TEXT:return new dT(t);case ce.WIDGET:switch(t.data.fieldType){case"Tx":return new hT(t);case"Btn":return t.data.radioButton?new h0(t):t.data.checkBox?new fT(t):new pT(t);case"Ch":return new gT(t);case"Sig":return new uT(t)}return new Ca(t);case ce.POPUP:return new Ip(t);case ce.FREETEXT:return new m0(t);case ce.LINE:return new vT(t);case ce.SQUARE:return new bT(t);case ce.CIRCLE:return new yT(t);case ce.POLYLINE:return new v0(t);case ce.CARET:return new AT(t);case ce.INK:return new b0(t);case ce.POLYGON:return new wT(t);case ce.HIGHLIGHT:return new xT(t);case ce.UNDERLINE:return new ET(t);case ce.SQUIGGLY:return new ST(t);case ce.STRIKEOUT:return new kT(t);case ce.STAMP:return new y0(t);case ce.FILEATTACHMENT:return new _T(t);default:return new se(t)}}}var qr,wo,Ao,Mc,Mp;const im=class im{constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:s=!1}={}){x(this,Mc);x(this,qr,null);x(this,wo,!1);x(this,Ao,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),s&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:n}){return!!(t!=null&&t.str||e!=null&&e.str||n!=null&&n.str)}get hasPopupData(){return im._hasPopupData(this.data)}updateEdited(t){var n;if(!this.container)return;d(this,qr)||y(this,qr,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&w(this,Mc,Mp).call(this,e),(n=d(this,Ao))==null||n.popup.updateEdited(t)}resetEdited(){var t;d(this,qr)&&(w(this,Mc,Mp).call(this,d(this,qr).rect),(t=d(this,Ao))==null||t.popup.resetEdited(),y(this,qr,null))}_createContainer(t){const{data:e,parent:{page:n,viewport:s}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",e.id),this instanceof Ca||(r.tabIndex=Cd);const{style:a}=r;if(a.zIndex=this.parent.zIndex++,e.popupRef&&r.setAttribute("aria-haspopup","dialog"),e.alternativeText&&(r.title=e.alternativeText),e.noRotate&&r.classList.add("norotate"),!e.rect||this instanceof Ip){const{rotation:g}=e;return!e.hasOwnCanvas&&g!==0&&this.setRotation(g,r),r}const{width:o,height:l}=ni(e.rect);if(!t&&e.borderStyle.width>0){a.borderWidth=`${e.borderStyle.width}px`;const g=e.borderStyle.horizontalCornerRadius,b=e.borderStyle.verticalCornerRadius;if(g>0||b>0){const A=`calc(${g}px * var(--scale-factor)) / calc(${b}px * var(--scale-factor))`;a.borderRadius=A}else if(this instanceof h0){const A=`calc(${o}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;a.borderRadius=A}switch(e.borderStyle.style){case ll.SOLID:a.borderStyle="solid";break;case ll.DASHED:a.borderStyle="dashed";break;case ll.BEVELED:Et("Unimplemented border style: beveled");break;case ll.INSET:Et("Unimplemented border style: inset");break;case ll.UNDERLINE:a.borderBottomStyle="solid";break}const v=e.borderColor||null;v?(y(this,wo,!0),a.borderColor=st.makeHexColor(v[0]|0,v[1]|0,v[2]|0)):a.borderWidth=0}const c=st.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:h,pageHeight:u,pageX:f,pageY:p}=s.rawDims;a.left=`${100*(c[0]-f)/h}%`,a.top=`${100*(c[1]-p)/u}%`;const{rotation:m}=e;return e.hasOwnCanvas||m===0?(a.width=`${100*o/h}%`,a.height=`${100*l/u}%`):this.setRotation(m,r),r}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:s}=this.parent.viewport.rawDims,{width:r,height:a}=ni(this.data.rect);let o,l;t%180===0?(o=100*r/n,l=100*a/s):(o=100*a/n,l=100*r/s),e.style.width=`${o}%`,e.style.height=`${l}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,s)=>{const r=s.detail[e],a=r[0],o=r.slice(1);s.target.style[n]=Xv[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[n]:Xv[`${a}_rgb`](o)})};return Mt(this,"_commonActions",{display:e=>{const{display:n}=e.detail,s=n%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const s of Object.keys(e.detail)){const r=t[s]||n[s];r==null||r(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[s,r]of Object.entries(e)){const a=n[s];if(a){const o={detail:{[s]:r},target:t};a(o),delete e[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,s,r]=this.data.rect.map(g=>Math.fround(g));if(t.length===8){const[g,b,v,A]=t.subarray(2,6);if(s===g&&r===b&&e===v&&n===A)return}const{style:a}=this.container;let o;if(d(this,wo)){const{borderColor:g,borderWidth:b}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${g}" stroke-width="${b}">`],this.container.classList.add("hasBorder")}const l=s-e,c=r-n,{svgFactory:h}=this,u=h.createElement("svg");u.classList.add("quadrilateralsContainer"),u.setAttribute("width",0),u.setAttribute("height",0);const f=h.createElement("defs");u.append(f);const p=h.createElement("clipPath"),m=`clippath_${this.data.id}`;p.setAttribute("id",m),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let g=2,b=t.length;g<b;g+=8){const v=t[g],A=t[g+1],E=t[g+2],k=t[g+3],S=h.createElement("rect"),_=(E-e)/l,L=(r-A)/c,P=(v-E)/l,M=(A-k)/c;S.setAttribute("x",_),S.setAttribute("y",L),S.setAttribute("width",P),S.setAttribute("height",M),p.append(S),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${_}" y="${L}" width="${P}" height="${M}"/>`)}d(this,wo)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(u),this.container.style.clipPath=`url(#${m})`}_createPopup(){const{container:t,data:e}=this;t.setAttribute("aria-haspopup","dialog");const n=y(this,Ao,new Ip({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(n.render())}render(){$t("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const s=this._fieldObjects[t];if(s)for(const{page:r,id:a,exportValues:o}of s){if(r===-1||a===e)continue;const l=typeof o=="string"?o:null,c=document.querySelector(`[data-element-id="${a}"]`);if(c&&!Aa.has(c)){Et(`_getElementsByName - element not allowed: ${a}`);continue}n.push({id:a,exportValue:l,domElement:c})}return n}for(const s of document.getElementsByName(t)){const{exportValue:r}=s,a=s.getAttribute("data-element-id");a!==e&&Aa.has(s)&&n.push({id:a,exportValue:r,domElement:s})}return n}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};qr=new WeakMap,wo=new WeakMap,Ao=new WeakMap,Mc=new WeakSet,Mp=function(t){const{container:{style:e},data:{rect:n,rotation:s},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:a,pageX:o,pageY:l}}}}=this;n==null||n.splice(0,4,...t);const{width:c,height:h}=ni(t);e.left=`${100*(t[0]-o)/r}%`,e.top=`${100*(a-t[3]+l)/a}%`,s===0?(e.width=`${100*c/r}%`,e.height=`${100*h/a}%`):this.setRotation(s)};let se=im;var fn,ur,c0,d0;class l0 extends se{constructor(e,n=null){super(e,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});x(this,fn);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:n}=this,s=document.createElement("a");s.setAttribute("data-element-id",e.id);let r=!1;return e.url?(n.addLinkAttributes(s,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(s,e.action),r=!0):e.attachment?(w(this,fn,c0).call(this,s,e.attachment,e.attachmentDest),r=!0):e.setOCGState?(w(this,fn,d0).call(this,s,e.setOCGState),r=!0):e.dest?(this._bindLink(s,e.dest),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,e),r=!0),e.resetForm?(this._bindResetFormAction(s,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(s,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(s),this.container}_bindLink(e,n){e.href=this.linkService.getDestinationHash(n),e.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&w(this,fn,ur).call(this)}_bindNamedAction(e,n){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(n),!1),w(this,fn,ur).call(this)}_bindJSAction(e,n){e.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(n.actions)){const a=s.get(r);a&&(e[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:r}}),!1})}e.onclick||(e.onclick=()=>!1),w(this,fn,ur).call(this)}_bindResetFormAction(e,n){const s=e.onclick;if(s||(e.href=this.linkService.getAnchorUrl("")),w(this,fn,ur).call(this),!this._fieldObjects){Et('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(e.onclick=()=>!1);return}e.onclick=()=>{var u;s==null||s();const{fields:r,refs:a,include:o}=n,l=[];if(r.length!==0||a.length!==0){const f=new Set(a);for(const p of r){const m=this._fieldObjects[p]||[];for(const{id:g}of m)f.add(g)}for(const p of Object.values(this._fieldObjects))for(const m of p)f.has(m.id)===o&&l.push(m)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const c=this.annotationStorage,h=[];for(const f of l){const{id:p}=f;switch(h.push(p),f.type){case"text":{const g=f.defaultValue||"";c.setValue(p,{value:g});break}case"checkbox":case"radiobutton":{const g=f.defaultValue===f.exportValues;c.setValue(p,{value:g});break}case"combobox":case"listbox":{const g=f.defaultValue||"";c.setValue(p,{value:g});break}default:continue}const m=document.querySelector(`[data-element-id="${p}"]`);if(m){if(!Aa.has(m)){Et(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}fn=new WeakSet,ur=function(){this.container.setAttribute("data-internal-link","")},c0=function(e,n,s=null){e.href=this.linkService.getAnchorUrl(""),n.description&&(e.title=n.description),e.onclick=()=>{var r;return(r=this.downloadManager)==null||r.openOrDownloadData(n.content,n.filename,s),!1},w(this,fn,ur).call(this)},d0=function(e,n){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(n),!1),w(this,fn,ur).call(this)};class dT extends se{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Ca extends se{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Ke.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,s,r){n.includes("mouse")?t.addEventListener(n,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:r(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):t.addEventListener(n,a=>{var o;if(n==="blur"){if(!e.focused||!a.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}r&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:r(a)}}))})}_setEventListeners(t,e,n,s){var r,a,o;for(const[l,c]of n)(c==="Action"||(r=this.data.actions)!=null&&r[c])&&((c==="Focus"||c==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,l,c,s),c==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(t,e,"blur","Blur",null):c==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":st.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||lT,r=t.style;let a;const o=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o),h=Math.round(c/(hf*s))||1,u=c/h;a=Math.min(s,l(u/hf))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(s,l(c/hf))}r.fontSize=`calc(${a}px * var(--scale-factor))`,r.color=st.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(r.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class hT extends Ca{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,s){const r=this.annotationStorage;for(const a of this._getElementsByName(t.name,t.id))a.domElement&&(a.domElement[e]=n),r.setValue(a.id,{[s]:n})}render(){var s,r;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const a=t.getValue(e,{value:this.data.fieldValue});let o=a.value||"";const l=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let c=a.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const h={userValue:o,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=c??o,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",c??o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Aa.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=Cd,this._setRequired(n,this.data.required),l&&(n.maxLength=l),n.addEventListener("input",f=>{t.setValue(e,{value:f.target.value}),this.setPropertyOnSiblings(n,"value",f.target.value,"value"),h.formattedValue=null}),n.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue??"";n.value=h.userValue=p,h.formattedValue=null});let u=f=>{const{formattedValue:p}=h;p!=null&&(f.target.value=p),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",p=>{var g;if(h.focused)return;const{target:m}=p;h.userValue&&(m.value=h.userValue),h.lastCommittedValue=m.value,h.commitKey=1,(g=this.data.actions)!=null&&g.Focus||(h.focused=!0)}),n.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const m={value(g){h.userValue=g.detail.value??"",t.setValue(e,{value:h.userValue.toString()}),g.target.value=h.userValue},formattedValue(g){const{formattedValue:b}=g.detail;h.formattedValue=b,b!=null&&g.target!==document.activeElement&&(g.target.value=b),t.setValue(e,{formattedValue:b})},selRange(g){g.target.setSelectionRange(...g.detail.selRange)},charLimit:g=>{var E;const{charLimit:b}=g.detail,{target:v}=g;if(b===0){v.removeAttribute("maxLength");return}v.setAttribute("maxLength",b);let A=h.userValue;!A||A.length<=b||(A=A.slice(0,b),v.value=h.userValue=A,t.setValue(e,{value:A}),(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:A,willCommit:!0,commitKey:1,selStart:v.selectionStart,selEnd:v.selectionEnd}}))}};this._dispatchEventFromSandbox(m,p)}),n.addEventListener("keydown",p=>{var b;h.commitKey=1;let m=-1;if(p.key==="Escape"?m=0:p.key==="Enter"&&!this.data.multiLine?m=2:p.key==="Tab"&&(h.commitKey=3),m===-1)return;const{value:g}=p.target;h.lastCommittedValue!==g&&(h.lastCommittedValue=g,h.userValue=g,(b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:g,willCommit:!0,commitKey:m,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const f=u;u=null,n.addEventListener("blur",p=>{var g,b;if(!h.focused||!p.relatedTarget)return;(g=this.data.actions)!=null&&g.Blur||(h.focused=!1);const{value:m}=p.target;h.userValue=m,h.lastCommittedValue!==m&&((b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:m,willCommit:!0,commitKey:h.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),f(p)}),(r=this.data.actions)!=null&&r.Keystroke&&n.addEventListener("beforeinput",p=>{var S;h.lastCommittedValue=null;const{data:m,target:g}=p,{value:b,selectionStart:v,selectionEnd:A}=g;let E=v,k=A;switch(p.inputType){case"deleteWordBackward":{const _=b.substring(0,v).match(/\w*[^\w]*$/);_&&(E-=_[0].length);break}case"deleteWordForward":{const _=b.substring(v).match(/^[^\w]*\w*/);_&&(k+=_[0].length);break}case"deleteContentBackward":v===A&&(E-=1);break;case"deleteContentForward":v===A&&(k+=1);break}p.preventDefault(),(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:b,change:m||"",willCommit:!1,selStart:E,selEnd:k}})}),this._setEventListeners(n,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(u&&n.addEventListener("blur",u),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/l;n.classList.add("comb"),n.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class uT extends Ca{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class fT extends Ca{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let s=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",t.setValue(n,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return Aa.add(r),r.setAttribute("data-element-id",n),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=e.fieldName,s&&r.setAttribute("checked",!0),r.setAttribute("exportValue",e.exportValue),r.tabIndex=Cd,r.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,n)){const h=l&&c.exportValue===e.exportValue;c.domElement&&(c.domElement.checked=h),t.setValue(c.id,{value:h})}t.setValue(n,{value:l})}),r.addEventListener("resetform",a=>{const o=e.defaultFieldValue||"Off";a.target.checked=o===e.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",t.setValue(n,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class h0 extends Ca{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let s=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof s=="string"&&(s=s!==e.buttonValue,t.setValue(n,{value:s})),s)for(const a of this._getElementsByName(e.fieldName,n))t.setValue(a.id,{value:!1});const r=document.createElement("input");if(Aa.add(r),r.setAttribute("data-element-id",n),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=e.fieldName,s&&r.setAttribute("checked",!0),r.tabIndex=Cd,r.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,n))t.setValue(c.id,{value:!1});t.setValue(n,{value:l})}),r.addEventListener("resetform",a=>{const o=e.defaultFieldValue;a.target.checked=o!=null&&o===e.buttonValue}),this.enableScripting&&this.hasJSActions){const a=e.buttonValue;r.addEventListener("updatefromsandbox",o=>{const l={value:c=>{const h=a===c.detail.value;for(const u of this._getElementsByName(c.target.name)){const f=h&&u.id===n;u.domElement&&(u.domElement.checked=f),t.setValue(u.id,{value:f})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class pT extends l0{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class gT extends Ca{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),s=document.createElement("select");Aa.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=Cd;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",h=>{const u=this.data.defaultFieldValue;for(const f of s.options)f.selected=f.value===u});for(const h of this.data.options){const u=document.createElement("option");u.textContent=h.displayValue,u.value=h.exportValue,n.value.includes(h.exportValue)&&(u.setAttribute("selected",!0),r=!1),s.append(u)}let a=null;if(r){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),s.prepend(h),a=()=>{h.remove(),s.removeEventListener("input",a),a=null},s.addEventListener("input",a)}const o=h=>{const u=h?"value":"textContent",{options:f,multiple:p}=s;return p?Array.prototype.filter.call(f,m=>m.selected).map(m=>m[u]):f.selectedIndex===-1?null:f[f.selectedIndex][u]};let l=o(!1);const c=h=>{const u=h.target.options;return Array.prototype.map.call(u,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",h=>{const u={value(f){a==null||a();const p=f.detail.value,m=new Set(Array.isArray(p)?p:[p]);for(const g of s.options)g.selected=m.has(g.value);t.setValue(e,{value:o(!0)}),l=o(!1)},multipleSelection(f){s.multiple=!0},remove(f){const p=s.options,m=f.detail.remove;p[m].selected=!1,s.remove(m),p.length>0&&Array.prototype.findIndex.call(p,b=>b.selected)===-1&&(p[0].selected=!0),t.setValue(e,{value:o(!0),items:c(f)}),l=o(!1)},clear(f){for(;s.length!==0;)s.remove(0);t.setValue(e,{value:null,items:[]}),l=o(!1)},insert(f){const{index:p,displayValue:m,exportValue:g}=f.detail.insert,b=s.children[p],v=document.createElement("option");v.textContent=m,v.value=g,b?b.before(v):s.append(v),t.setValue(e,{value:o(!0),items:c(f)}),l=o(!1)},items(f){const{items:p}=f.detail;for(;s.length!==0;)s.remove(0);for(const m of p){const{displayValue:g,exportValue:b}=m,v=document.createElement("option");v.textContent=g,v.value=b,s.append(v)}s.options.length>0&&(s.options[0].selected=!0),t.setValue(e,{value:o(!0),items:c(f)}),l=o(!1)},indices(f){const p=new Set(f.detail.indices);for(const m of f.target.options)m.selected=p.has(m.index);t.setValue(e,{value:o(!0)}),l=o(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(u,h)}),s.addEventListener("input",h=>{var p;const u=o(!0),f=o(!1);t.setValue(e,{value:u}),h.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:l,change:f,changeEx:u,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):s.addEventListener("input",function(h){t.setValue(e,{value:o(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Ip extends se{constructor(t){const{data:e,elements:n}=t;super(t,{isRenderable:se._hasPopupData(e)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new mT({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const n of this.elements)n.popup=t,e.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(n=>`${uw}${n}`).join(",")),this.container}}var xo,hu,uu,Eo,Gr,te,js,Xr,Ic,Oc,So,Us,zn,Ws,Nc,Vs,Dc,Yr,Kr,jt,mh,Op,u0,f0,p0,g0,vh,bh,Np;class mT{constructor({container:t,color:e,elements:n,titleObj:s,modificationDate:r,contentsObj:a,richText:o,parent:l,rect:c,parentRect:h,open:u}){x(this,jt);x(this,xo,w(this,jt,p0).bind(this));x(this,hu,w(this,jt,Np).bind(this));x(this,uu,w(this,jt,bh).bind(this));x(this,Eo,w(this,jt,vh).bind(this));x(this,Gr,null);x(this,te,null);x(this,js,null);x(this,Xr,null);x(this,Ic,null);x(this,Oc,null);x(this,So,null);x(this,Us,!1);x(this,zn,null);x(this,Ws,null);x(this,Nc,null);x(this,Vs,null);x(this,Dc,null);x(this,Yr,null);x(this,Kr,!1);var f;y(this,te,t),y(this,Dc,s),y(this,js,a),y(this,Vs,o),y(this,Oc,l),y(this,Gr,e),y(this,Nc,c),y(this,So,h),y(this,Ic,n),y(this,Xr,vw.toDateObject(r)),this.trigger=n.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",d(this,Eo)),p.addEventListener("mouseenter",d(this,uu)),p.addEventListener("mouseleave",d(this,hu)),p.classList.add("popupTriggerArea");for(const p of n)(f=p.container)==null||f.addEventListener("keydown",d(this,xo));d(this,te).hidden=!0,u&&w(this,jt,vh).call(this)}render(){if(d(this,zn))return;const t=y(this,zn,document.createElement("div"));if(t.className="popup",d(this,Gr)){const r=t.style.outlineColor=st.makeHexColor(...d(this,Gr));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`:t.style.backgroundColor=st.makeHexColor(...d(this,Gr).map(o=>Math.floor(.7*(255-o)+o)))}const e=document.createElement("span");e.className="header";const n=document.createElement("h1");if(e.append(n),{dir:n.dir,str:n.textContent}=d(this,Dc),t.append(e),d(this,Xr)){const r=document.createElement("span");r.classList.add("popupDate"),r.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),r.setAttribute("data-l10n-args",JSON.stringify({date:d(this,Xr).toLocaleDateString(),time:d(this,Xr).toLocaleTimeString()})),e.append(r)}const s=d(this,jt,mh);if(s)o0.render({xfaHtml:s,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const r=this._formatContents(d(this,js));t.append(r)}d(this,te).append(t)}_formatContents({str:t,dir:e}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=e;const s=t.split(/(?:\r\n?|\n)/);for(let r=0,a=s.length;r<a;++r){const o=s[r];n.append(document.createTextNode(o)),r<a-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:t,popupContent:e}){var n;d(this,Yr)||y(this,Yr,{contentsObj:d(this,js),richText:d(this,Vs)}),t&&y(this,Ws,null),e&&(y(this,Vs,w(this,jt,f0).call(this,e)),y(this,js,null)),(n=d(this,zn))==null||n.remove(),y(this,zn,null)}resetEdited(){var t;d(this,Yr)&&({contentsObj:tn(this,js)._,richText:tn(this,Vs)._}=d(this,Yr),y(this,Yr,null),(t=d(this,zn))==null||t.remove(),y(this,zn,null),y(this,Ws,null))}forceHide(){y(this,Kr,this.isVisible),d(this,Kr)&&(d(this,te).hidden=!0)}maybeShow(){d(this,Kr)&&(d(this,zn)||w(this,jt,bh).call(this),y(this,Kr,!1),d(this,te).hidden=!1)}get isVisible(){return d(this,te).hidden===!1}}xo=new WeakMap,hu=new WeakMap,uu=new WeakMap,Eo=new WeakMap,Gr=new WeakMap,te=new WeakMap,js=new WeakMap,Xr=new WeakMap,Ic=new WeakMap,Oc=new WeakMap,So=new WeakMap,Us=new WeakMap,zn=new WeakMap,Ws=new WeakMap,Nc=new WeakMap,Vs=new WeakMap,Dc=new WeakMap,Yr=new WeakMap,Kr=new WeakMap,jt=new WeakSet,mh=function(){const t=d(this,Vs),e=d(this,js);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&d(this,Vs).html||null},Op=function(){var t,e,n;return((n=(e=(t=d(this,jt,mh))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:n.fontSize)||0},u0=function(){var t,e,n;return((n=(e=(t=d(this,jt,mh))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:n.color)||null},f0=function(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},s={style:{color:d(this,jt,u0),fontSize:d(this,jt,Op)?`calc(${d(this,jt,Op)}px * var(--scale-factor))`:""}};for(const r of t.split(`
`))e.push({name:"span",value:r,attributes:s});return n},p0=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&d(this,Us))&&w(this,jt,vh).call(this)},g0=function(){if(d(this,Ws)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:s,pageY:r}}}=d(this,Oc);let a=!!d(this,So),o=a?d(this,So):d(this,Nc);for(const m of d(this,Ic))if(!o||st.intersect(m.data.rect,o)!==null){o=m.data.rect,a=!0;break}const l=st.normalizeRect([o[0],t[3]-o[1]+t[1],o[2],t[3]-o[3]+t[1]]),h=a?o[2]-o[0]+5:0,u=l[0]+h,f=l[1];y(this,Ws,[100*(u-s)/e,100*(f-r)/n]);const{style:p}=d(this,te);p.left=`${d(this,Ws)[0]}%`,p.top=`${d(this,Ws)[1]}%`},vh=function(){y(this,Us,!d(this,Us)),d(this,Us)?(w(this,jt,bh).call(this),d(this,te).addEventListener("click",d(this,Eo)),d(this,te).addEventListener("keydown",d(this,xo))):(w(this,jt,Np).call(this),d(this,te).removeEventListener("click",d(this,Eo)),d(this,te).removeEventListener("keydown",d(this,xo)))},bh=function(){d(this,zn)||this.render(),this.isVisible?d(this,Us)&&d(this,te).classList.add("focused"):(w(this,jt,g0).call(this),d(this,te).hidden=!1,d(this,te).style.zIndex=parseInt(d(this,te).style.zIndex)+1e3)},Np=function(){d(this,te).classList.remove("focused"),!(d(this,Us)||!this.isVisible)&&(d(this,te).hidden=!0,d(this,te).style.zIndex=parseInt(d(this,te).style.zIndex)-1e3)};class m0 extends se{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Pt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var Fc;class vT extends se{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,Fc,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:n,height:s}=ni(e.rect),r=this.svgFactory.create(n,s,!0),a=y(this,Fc,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),a.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),a.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),a.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),a.setAttribute("stroke-width",e.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Fc)}addHighlightArea(){this.container.classList.add("highlightArea")}}Fc=new WeakMap;var zc;class bT extends se{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,zc,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:n,height:s}=ni(e.rect),r=this.svgFactory.create(n,s,!0),a=e.borderStyle.width,o=y(this,zc,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",n-a),o.setAttribute("height",s-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,zc)}addHighlightArea(){this.container.classList.add("highlightArea")}}zc=new WeakMap;var Hc;class yT extends se{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,Hc,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:n,height:s}=ni(e.rect),r=this.svgFactory.create(n,s,!0),a=e.borderStyle.width,o=y(this,Hc,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",n/2),o.setAttribute("cy",s/2),o.setAttribute("rx",n/2-a/2),o.setAttribute("ry",s/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Hc)}addHighlightArea(){this.container.classList.add("highlightArea")}}Hc=new WeakMap;var Bc;class v0 extends se{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,Bc,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:n,borderStyle:s,popupRef:r}}=this;if(!n)return this.container;const{width:a,height:o}=ni(e),l=this.svgFactory.create(a,o,!0);let c=[];for(let u=0,f=n.length;u<f;u+=2){const p=n[u]-e[0],m=e[3]-n[u+1];c.push(`${p},${m}`)}c=c.join(" ");const h=y(this,Bc,this.svgFactory.createElement(this.svgElementName));return h.setAttribute("points",c),h.setAttribute("stroke-width",s.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h),this.container.append(l),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Bc)}addHighlightArea(){this.container.classList.add("highlightArea")}}Bc=new WeakMap;class wT extends v0{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class AT extends se{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var $c;class b0 extends se{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,$c,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=Pt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:n,borderStyle:s,popupRef:r}}=this,{width:a,height:o}=ni(e),l=this.svgFactory.create(a,o,!0);for(const c of n){let h=[];for(let f=0,p=c.length;f<p;f+=2){const m=c[f]-e[0],g=e[3]-c[f+1];h.push(`${m},${g}`)}h=h.join(" ");const u=this.svgFactory.createElement(this.svgElementName);d(this,$c).push(u),u.setAttribute("points",h),u.setAttribute("stroke-width",s.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),!r&&this.hasPopupData&&this._createPopup(),l.append(u)}return this.container.append(l),this.container}getElementsToTriggerPopup(){return d(this,$c)}addHighlightArea(){this.container.classList.add("highlightArea")}}$c=new WeakMap;class xT extends se{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class ET extends se{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class ST extends se{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class kT extends se{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class y0 extends se{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var jc,Uc,Dp;class _T extends se{constructor(e){var s;super(e,{isRenderable:!0});x(this,Uc);x(this,jc,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:n}=this;let s;n.hasAppearance||n.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),s.addEventListener("dblclick",w(this,Uc,Dp).bind(this)),y(this,jc,s);const{isMac:r}=Ke.platform;return e.addEventListener("keydown",a=>{a.key==="Enter"&&(r?a.metaKey:a.ctrlKey)&&w(this,Uc,Dp).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),e.append(s),e}getElementsToTriggerPopup(){return d(this,jc)}addHighlightArea(){this.container.classList.add("highlightArea")}}jc=new WeakMap,Uc=new WeakSet,Dp=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var Wc,Jr,ko,Ea,w0,Fp,ab;let CT=(ab=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:s,page:r,viewport:a}){x(this,Ea);x(this,Wc,null);x(this,Jr,null);x(this,ko,new Map);this.div=t,y(this,Wc,e),y(this,Jr,n),this.page=r,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=s}async render(t){var a;const{annotations:e}=t,n=this.div;ya(n,this.viewport);const s=new Map,r={data:null,layer:n,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new qg,annotationStorage:t.annotationStorage||new Jg,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const o of e){if(o.noHTML)continue;const l=o.annotationType===ce.POPUP;if(l){const u=s.get(o.id);if(!u)continue;r.elements=u}else{const{width:u,height:f}=ni(o.rect);if(u<=0||f<=0)continue}r.data=o;const c=cT.create(r);if(!c.isRenderable)continue;if(!l&&o.popupRef){const u=s.get(o.popupRef);u?u.push(c):s.set(o.popupRef,[c])}const h=c.render();o.hidden&&(h.style.visibility="hidden"),w(this,Ea,w0).call(this,h,o.id),c.annotationEditorType>0&&(d(this,ko).set(c.data.id,c),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(c))}w(this,Ea,Fp).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,ya(e,{rotation:t.rotation}),w(this,Ea,Fp).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(d(this,ko).values())}getEditableAnnotation(t){return d(this,ko).get(t)}},Wc=new WeakMap,Jr=new WeakMap,ko=new WeakMap,Ea=new WeakSet,w0=function(t,e){var s;const n=t.firstChild||t;n.id=`${uw}${e}`,this.div.append(t),(s=d(this,Wc))==null||s.moveElementInDOM(this.div,t,n,!1)},Fp=function(){if(!d(this,Jr))return;const t=this.div;for(const[e,n]of d(this,Jr)){const s=t.querySelector(`[data-annotation-id="${e}"]`);if(!s)continue;n.className="annotationContent";const{firstChild:r}=s;r?r.nodeName==="CANVAS"?r.replaceWith(n):r.classList.contains("annotationContent")?r.after(n):r.before(n):s.append(n)}d(this,Jr).clear()},ab);const Zd=/\r\n?|\n/g;var Vc,qc,Gc,Xc,Yc,Hn,on,Kc,ln,_o,ae,A0,x0,E0,yh,ii,wh,Ah,S0,Hp,k0;const Gt=class Gt extends Ht{constructor(e){super({...e,name:"freeTextEditor"});x(this,ae);x(this,Vc,this.editorDivBlur.bind(this));x(this,qc,this.editorDivFocus.bind(this));x(this,Gc,this.editorDivInput.bind(this));x(this,Xc,this.editorDivKeydown.bind(this));x(this,Yc,this.editorDivPaste.bind(this));x(this,Hn);x(this,on,"");x(this,Kc,`${this.id}-editor`);x(this,ln);x(this,_o,null);y(this,Hn,e.color||Gt._defaultColor||Ht._defaultLineColor),y(this,ln,e.fontSize||Gt._defaultFontSize)}static get _keyboardManager(){const e=Gt.prototype,n=a=>a.isEmpty(),s=wa.TRANSLATE_SMALL,r=wa.TRANSLATE_BIG;return Mt(this,"_keyboardManager",new kd([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-s,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[s,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-s],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:n}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,s],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:n}]]))}static initialize(e,n){Ht.initialize(e,n,{strings:["pdfjs-free-text-default-content"]});const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,n){switch(e){case gt.FREETEXT_SIZE:Gt._defaultFontSize=n;break;case gt.FREETEXT_COLOR:Gt._defaultColor=n;break}}updateParams(e,n){switch(e){case gt.FREETEXT_SIZE:w(this,ae,A0).call(this,n);break;case gt.FREETEXT_COLOR:w(this,ae,x0).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[gt.FREETEXT_SIZE,Gt._defaultFontSize],[gt.FREETEXT_COLOR,Gt._defaultColor||Ht._defaultLineColor]]}get propertiesToUpdate(){return[[gt.FREETEXT_SIZE,d(this,ln)],[gt.FREETEXT_COLOR,d(this,Hn)]]}_translateEmpty(e,n){this._uiManager.translateSelectedEditors(e,n,!0)}getInitialTranslation(){const e=this.parentScale;return[-Gt._internalPadding*e,-(Gt._internalPadding+d(this,ln))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Pt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const e=this._uiManager._signal;this.editorDiv.addEventListener("keydown",d(this,Xc),{signal:e}),this.editorDiv.addEventListener("focus",d(this,qc),{signal:e}),this.editorDiv.addEventListener("blur",d(this,Vc),{signal:e}),this.editorDiv.addEventListener("input",d(this,Gc),{signal:e}),this.editorDiv.addEventListener("paste",d(this,Yc),{signal:e})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",d(this,Kc)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",d(this,Xc)),this.editorDiv.removeEventListener("focus",d(this,qc)),this.editorDiv.removeEventListener("blur",d(this,Vc)),this.editorDiv.removeEventListener("input",d(this,Gc)),this.editorDiv.removeEventListener("paste",d(this,Yc)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(e=this._initialOptions)!=null&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=d(this,on),n=y(this,on,w(this,ae,E0).call(this).trimEnd());if(e===n)return;const s=r=>{if(y(this,on,r),!r){this.remove();return}w(this,ae,Ah).call(this),this._uiManager.rebuild(this),w(this,ae,yh).call(this)};this.addCommands({cmd:()=>{s(n)},undo:()=>{s(e)},mustExec:!1}),w(this,ae,yh).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Gt._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,n;this.width&&(e=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",d(this,Kc)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),Ht._l10nPromise.get("pdfjs-free-text-default-content").then(r=>{var a;return(a=this.editorDiv)==null?void 0:a.setAttribute("default-content",r)}),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${d(this,ln)}px * var(--scale-factor))`,s.color=d(this,Hn),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Wh(this,this.div,["dblclick","keydown"]),this.width){const[r,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=d(this,_o);let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[h,u]=this.pageDimensions,[f,p]=this.pageTranslation;let m,g;switch(this.rotation){case 0:m=e+(o[0]-f)/h,g=n+this.height-(o[1]-p)/u;break;case 90:m=e+(o[0]-f)/h,g=n-(o[1]-p)/u,[l,c]=[c,-l];break;case 180:m=e-this.width+(o[0]-f)/h,g=n-(o[1]-p)/u,[l,c]=[-l,-c];break;case 270:m=e+(o[0]-f-this.height*u)/h,g=n+(o[1]-p-this.width*h)/u,[l,c]=[-c,l];break}this.setAt(m*r,g*a,l,c)}else this.setAt(e*r,n*a,this.width*r,this.height*a);w(this,ae,Ah).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var m,g,b;const n=e.clipboardData||window.clipboardData,{types:s}=n;if(s.length===1&&s[0]==="text/plain")return;e.preventDefault();const r=w(m=Gt,ii,Hp).call(m,n.getData("text")||"").replaceAll(Zd,`
`);if(!r)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!r.includes(`
`)){o.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:c}=o,h=[],u=[];if(l.nodeType===Node.TEXT_NODE){const v=l.parentElement;if(u.push(l.nodeValue.slice(c).replaceAll(Zd,"")),v!==this.editorDiv){let A=h;for(const E of this.editorDiv.childNodes){if(E===v){A=u;continue}A.push(w(g=Gt,ii,wh).call(g,E))}}h.push(l.nodeValue.slice(0,c).replaceAll(Zd,""))}else if(l===this.editorDiv){let v=h,A=0;for(const E of this.editorDiv.childNodes)A++===c&&(v=u),v.push(w(b=Gt,ii,wh).call(b,E))}y(this,on,`${h.join(`
`)}${r}${u.join(`
`)}`),w(this,ae,Ah).call(this);const f=new Range;let p=h.reduce((v,A)=>v+A.length,0);for(const{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){const A=v.nodeValue.length;if(p<=A){f.setStart(v,p),f.setEnd(v,p);break}p-=A}a.removeAllRanges(),a.addRange(f)}get contentDiv(){return this.editorDiv}static deserialize(e,n,s){var o;let r=null;if(e instanceof m0){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:h,rotation:u,id:f},textContent:p,textPosition:m,parent:{page:{pageNumber:g}}}=e;if(!p||p.length===0)return null;r=e={annotationType:Pt.FREETEXT,color:Array.from(c),fontSize:l,value:p.join(`
`),position:m,pageIndex:g-1,rect:h.slice(0),rotation:u,id:f,deleted:!1}}const a=super.deserialize(e,n,s);return y(a,ln,e.fontSize),y(a,Hn,st.makeHexColor(...e.color)),y(a,on,w(o=Gt,ii,Hp).call(o,e.value)),a.annotationElementId=e.id||null,y(a,_o,r),a}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const n=Gt._internalPadding*this.parentScale,s=this.getRect(n,n),r=Ht._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:d(this,Hn)),a={annotationType:Pt.FREETEXT,color:r,fontSize:d(this,ln),value:w(this,ae,S0).call(this),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?a:this.annotationElementId&&!w(this,ae,k0).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(e){const n=super.renderAnnotationElement(e);if(this.deleted)return n;const{style:s}=n;s.fontSize=`calc(${d(this,ln)}px * var(--scale-factor))`,s.color=d(this,Hn),n.replaceChildren();for(const a of d(this,on).split(`
`)){const o=document.createElement("div");o.append(a?document.createTextNode(a):document.createElement("br")),n.append(o)}const r=Gt._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(r,r),popupContent:d(this,on)}),n}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};Vc=new WeakMap,qc=new WeakMap,Gc=new WeakMap,Xc=new WeakMap,Yc=new WeakMap,Hn=new WeakMap,on=new WeakMap,Kc=new WeakMap,ln=new WeakMap,_o=new WeakMap,ae=new WeakSet,A0=function(e){const n=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--scale-factor))`,this.translate(0,-(r-d(this,ln))*this.parentScale),y(this,ln,r),w(this,ae,yh).call(this)},s=d(this,ln);this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:gt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},x0=function(e){const n=r=>{y(this,Hn,this.editorDiv.style.color=r)},s=d(this,Hn);this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:gt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},E0=function(){var n;const e=[];this.editorDiv.normalize();for(const s of this.editorDiv.childNodes)e.push(w(n=Gt,ii,wh).call(n,s));return e.join(`
`)},yh=function(){const[e,n]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:r,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",r.div.append(this.div),s=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=s.width/e,this.height=s.height/n):(this.width=s.height/e,this.height=s.width/n),this.fixAndSetPosition()},ii=new WeakSet,wh=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Zd,"")},Ah=function(){if(this.editorDiv.replaceChildren(),!!d(this,on))for(const e of d(this,on).split(`
`)){const n=document.createElement("div");n.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(n)}},S0=function(){return d(this,on).replaceAll(""," ")},Hp=function(e){return e.replaceAll(" ","")},k0=function(e){const{value:n,fontSize:s,color:r,pageIndex:a}=d(this,_o);return this._hasBeenMoved||e.value!==n||e.fontSize!==s||e.color.some((o,l)=>o!==r[l])||e.pageIndex!==a},x(Gt,ii),pt(Gt,"_freeTextDefaultContent",""),pt(Gt,"_internalPadding",0),pt(Gt,"_defaultColor",null),pt(Gt,"_defaultFontSize",10),pt(Gt,"_type","freetext"),pt(Gt,"_editorType",Pt.FREETEXT);let zp=Gt;var Jc,Fi,Bn,We,_0,xh,C0,R0,$p;class Bp{constructor(t,e=0,n=0,s=!0){x(this,We);x(this,Jc);x(this,Fi,[]);x(this,Bn,[]);let r=1/0,a=-1/0,o=1/0,l=-1/0;const c=10**-4;for(const{x:b,y:v,width:A,height:E}of t){const k=Math.floor((b-e)/c)*c,S=Math.ceil((b+A+e)/c)*c,_=Math.floor((v-e)/c)*c,L=Math.ceil((v+E+e)/c)*c,P=[k,_,L,!0],M=[S,_,L,!1];d(this,Fi).push(P,M),r=Math.min(r,k),a=Math.max(a,S),o=Math.min(o,_),l=Math.max(l,L)}const h=a-r+2*n,u=l-o+2*n,f=r-n,p=o-n,m=d(this,Fi).at(s?-1:-2),g=[m[0],m[2]];for(const b of d(this,Fi)){const[v,A,E]=b;b[0]=(v-f)/h,b[1]=(A-p)/u,b[2]=(E-p)/u}y(this,Jc,{x:f,y:p,width:h,height:u,lastPoint:g})}getOutlines(){d(this,Fi).sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of d(this,Fi))e[3]?(t.push(...w(this,We,$p).call(this,e)),w(this,We,C0).call(this,e)):(w(this,We,R0).call(this,e),t.push(...w(this,We,$p).call(this,e)));return w(this,We,_0).call(this,t)}}Jc=new WeakMap,Fi=new WeakMap,Bn=new WeakMap,We=new WeakSet,_0=function(t){const e=[],n=new Set;for(const a of t){const[o,l,c]=a;e.push([o,l,a],[o,c,a])}e.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=e.length;a<o;a+=2){const l=e[a][2],c=e[a+1][2];l.push(c),c.push(l),n.add(l),n.add(c)}const s=[];let r;for(;n.size>0;){const a=n.values().next().value;let[o,l,c,h,u]=a;n.delete(a);let f=o,p=l;for(r=[o,c],s.push(r);;){let m;if(n.has(h))m=h;else if(n.has(u))m=u;else break;n.delete(m),[o,l,c,h,u]=m,f!==o&&(r.push(f,p,o,p===l?l:c),f=o),p=p===l?c:l}r.push(f,p)}return new RT(s,d(this,Jc))},xh=function(t){const e=d(this,Bn);let n=0,s=e.length-1;for(;n<=s;){const r=n+s>>1,a=e[r][0];if(a===t)return r;a<t?n=r+1:s=r-1}return s+1},C0=function([,t,e]){const n=w(this,We,xh).call(this,t);d(this,Bn).splice(n,0,[t,e])},R0=function([,t,e]){const n=w(this,We,xh).call(this,t);for(let s=n;s<d(this,Bn).length;s++){const[r,a]=d(this,Bn)[s];if(r!==t)break;if(r===t&&a===e){d(this,Bn).splice(s,1);return}}for(let s=n-1;s>=0;s--){const[r,a]=d(this,Bn)[s];if(r!==t)break;if(r===t&&a===e){d(this,Bn).splice(s,1);return}}},$p=function(t){const[e,n,s]=t,r=[[e,n,s]],a=w(this,We,xh).call(this,s);for(let o=0;o<a;o++){const[l,c]=d(this,Bn)[o];for(let h=0,u=r.length;h<u;h++){const[,f,p]=r[h];if(!(c<=f||p<=l)){if(f>=l){if(p>c)r[h][1]=c;else{if(u===1)return[];r.splice(h,1),h--,u--}continue}r[h][2]=l,p>c&&r.push([e,c,p])}}}return r};class T0{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(t,e){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof Up}}var Qc,Co;class RT extends T0{constructor(e,n){super();x(this,Qc);x(this,Co);y(this,Co,e),y(this,Qc,n)}toSVGPath(){const e=[];for(const n of d(this,Co)){let[s,r]=n;e.push(`M${s} ${r}`);for(let a=2;a<n.length;a+=2){const o=n[a],l=n[a+1];o===s?(e.push(`V${l}`),r=l):l===r&&(e.push(`H${o}`),s=o)}e.push("Z")}return e.join(" ")}serialize([e,n,s,r],a){const o=[],l=s-e,c=r-n;for(const h of d(this,Co)){const u=new Array(h.length);for(let f=0;f<h.length;f+=2)u[f]=e+h[f]*l,u[f+1]=r-h[f+1]*c;o.push(u)}return o}get box(){return d(this,Qc)}}Qc=new WeakMap,Co=new WeakMap;var ss,qs,Ro,To,is,Tt,Qr,Zr,Zc,td,Po,Lo,zi,ed,fu,pu,nd,jp;const Rs=class Rs{constructor({x:t,y:e},n,s,r,a,o=0){x(this,nd);x(this,ss);x(this,qs,[]);x(this,Ro);x(this,To);x(this,is,[]);x(this,Tt,new Float64Array(18));x(this,Qr);x(this,Zr);x(this,Zc);x(this,td);x(this,Po);x(this,Lo);x(this,zi,[]);y(this,ss,n),y(this,Lo,r*s),y(this,To,a),d(this,Tt).set([NaN,NaN,NaN,NaN,t,e],6),y(this,Ro,o),y(this,td,d(Rs,ed)*s),y(this,Zc,d(Rs,pu)*s),y(this,Po,s),d(this,zi).push(t,e)}get free(){return!0}isEmpty(){return isNaN(d(this,Tt)[8])}add({x:t,y:e}){var M;y(this,Qr,t),y(this,Zr,e);const[n,s,r,a]=d(this,ss);let[o,l,c,h]=d(this,Tt).subarray(8,12);const u=t-c,f=e-h,p=Math.hypot(u,f);if(p<d(this,Zc))return!1;const m=p-d(this,td),g=m/p,b=g*u,v=g*f;let A=o,E=l;o=c,l=h,c+=b,h+=v,(M=d(this,zi))==null||M.push(t,e);const k=-v/m,S=b/m,_=k*d(this,Lo),L=S*d(this,Lo);return d(this,Tt).set(d(this,Tt).subarray(2,8),0),d(this,Tt).set([c+_,h+L],4),d(this,Tt).set(d(this,Tt).subarray(14,18),12),d(this,Tt).set([c-_,h-L],16),isNaN(d(this,Tt)[6])?(d(this,is).length===0&&(d(this,Tt).set([o+_,l+L],2),d(this,is).push(NaN,NaN,NaN,NaN,(o+_-n)/r,(l+L-s)/a),d(this,Tt).set([o-_,l-L],14),d(this,qs).push(NaN,NaN,NaN,NaN,(o-_-n)/r,(l-L-s)/a)),d(this,Tt).set([A,E,o,l,c,h],6),!this.isEmpty()):(d(this,Tt).set([A,E,o,l,c,h],6),Math.abs(Math.atan2(E-l,A-o)-Math.atan2(v,b))<Math.PI/2?([o,l,c,h]=d(this,Tt).subarray(2,6),d(this,is).push(NaN,NaN,NaN,NaN,((o+c)/2-n)/r,((l+h)/2-s)/a),[o,l,A,E]=d(this,Tt).subarray(14,18),d(this,qs).push(NaN,NaN,NaN,NaN,((A+o)/2-n)/r,((E+l)/2-s)/a),!0):([A,E,o,l,c,h]=d(this,Tt).subarray(0,6),d(this,is).push(((A+5*o)/6-n)/r,((E+5*l)/6-s)/a,((5*o+c)/6-n)/r,((5*l+h)/6-s)/a,((o+c)/2-n)/r,((l+h)/2-s)/a),[c,h,o,l,A,E]=d(this,Tt).subarray(12,18),d(this,qs).push(((A+5*o)/6-n)/r,((E+5*l)/6-s)/a,((5*o+c)/6-n)/r,((5*l+h)/6-s)/a,((o+c)/2-n)/r,((l+h)/2-s)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const t=d(this,is),e=d(this,qs),n=d(this,Tt).subarray(4,6),s=d(this,Tt).subarray(16,18),[r,a,o,l]=d(this,ss),[c,h,u,f]=w(this,nd,jp).call(this);if(isNaN(d(this,Tt)[6])&&!this.isEmpty())return`M${(d(this,Tt)[2]-r)/o} ${(d(this,Tt)[3]-a)/l} L${(d(this,Tt)[4]-r)/o} ${(d(this,Tt)[5]-a)/l} L${c} ${h} L${u} ${f} L${(d(this,Tt)[16]-r)/o} ${(d(this,Tt)[17]-a)/l} L${(d(this,Tt)[14]-r)/o} ${(d(this,Tt)[15]-a)/l} Z`;const p=[];p.push(`M${t[4]} ${t[5]}`);for(let m=6;m<t.length;m+=6)isNaN(t[m])?p.push(`L${t[m+4]} ${t[m+5]}`):p.push(`C${t[m]} ${t[m+1]} ${t[m+2]} ${t[m+3]} ${t[m+4]} ${t[m+5]}`);p.push(`L${(n[0]-r)/o} ${(n[1]-a)/l} L${c} ${h} L${u} ${f} L${(s[0]-r)/o} ${(s[1]-a)/l}`);for(let m=e.length-6;m>=6;m-=6)isNaN(e[m])?p.push(`L${e[m+4]} ${e[m+5]}`):p.push(`C${e[m]} ${e[m+1]} ${e[m+2]} ${e[m+3]} ${e[m+4]} ${e[m+5]}`);return p.push(`L${e[4]} ${e[5]} Z`),p.join(" ")}getOutlines(){var v;const t=d(this,is),e=d(this,qs),n=d(this,Tt),s=n.subarray(4,6),r=n.subarray(16,18),[a,o,l,c]=d(this,ss),h=new Float64Array((((v=d(this,zi))==null?void 0:v.length)??0)+2);for(let A=0,E=h.length-2;A<E;A+=2)h[A]=(d(this,zi)[A]-a)/l,h[A+1]=(d(this,zi)[A+1]-o)/c;h[h.length-2]=(d(this,Qr)-a)/l,h[h.length-1]=(d(this,Zr)-o)/c;const[u,f,p,m]=w(this,nd,jp).call(this);if(isNaN(n[6])&&!this.isEmpty()){const A=new Float64Array(36);return A.set([NaN,NaN,NaN,NaN,(n[2]-a)/l,(n[3]-o)/c,NaN,NaN,NaN,NaN,(n[4]-a)/l,(n[5]-o)/c,NaN,NaN,NaN,NaN,u,f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(n[16]-a)/l,(n[17]-o)/c,NaN,NaN,NaN,NaN,(n[14]-a)/l,(n[15]-o)/c],0),new Up(A,h,d(this,ss),d(this,Po),d(this,Ro),d(this,To))}const g=new Float64Array(d(this,is).length+24+d(this,qs).length);let b=t.length;for(let A=0;A<b;A+=2){if(isNaN(t[A])){g[A]=g[A+1]=NaN;continue}g[A]=t[A],g[A+1]=t[A+1]}g.set([NaN,NaN,NaN,NaN,(s[0]-a)/l,(s[1]-o)/c,NaN,NaN,NaN,NaN,u,f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(r[0]-a)/l,(r[1]-o)/c],b),b+=24;for(let A=e.length-6;A>=6;A-=6)for(let E=0;E<6;E+=2){if(isNaN(e[A+E])){g[b]=g[b+1]=NaN,b+=2;continue}g[b]=e[A+E],g[b+1]=e[A+E+1],b+=2}return g.set([NaN,NaN,NaN,NaN,e[4],e[5]],b),new Up(g,h,d(this,ss),d(this,Po),d(this,Ro),d(this,To))}};ss=new WeakMap,qs=new WeakMap,Ro=new WeakMap,To=new WeakMap,is=new WeakMap,Tt=new WeakMap,Qr=new WeakMap,Zr=new WeakMap,Zc=new WeakMap,td=new WeakMap,Po=new WeakMap,Lo=new WeakMap,zi=new WeakMap,ed=new WeakMap,fu=new WeakMap,pu=new WeakMap,nd=new WeakSet,jp=function(){const t=d(this,Tt).subarray(4,6),e=d(this,Tt).subarray(16,18),[n,s,r,a]=d(this,ss);return[(d(this,Qr)+(t[0]-e[0])/2-n)/r,(d(this,Zr)+(t[1]-e[1])/2-s)/a,(d(this,Qr)+(e[0]-t[0])/2-n)/r,(d(this,Zr)+(e[1]-t[1])/2-s)/a]},x(Rs,ed,8),x(Rs,fu,2),x(Rs,pu,d(Rs,ed)+d(Rs,fu));let Xh=Rs;var Mo,ta,Gs,sd,cn,id,ne,Je,Al,xl,P0;class Up extends T0{constructor(e,n,s,r,a,o){super();x(this,Je);x(this,Mo);x(this,ta,null);x(this,Gs);x(this,sd);x(this,cn);x(this,id);x(this,ne);y(this,ne,e),y(this,cn,n),y(this,Mo,s),y(this,id,r),y(this,Gs,a),y(this,sd,o),w(this,Je,P0).call(this,o);const{x:l,y:c,width:h,height:u}=d(this,ta);for(let f=0,p=e.length;f<p;f+=2)e[f]=(e[f]-l)/h,e[f+1]=(e[f+1]-c)/u;for(let f=0,p=n.length;f<p;f+=2)n[f]=(n[f]-l)/h,n[f+1]=(n[f+1]-c)/u}toSVGPath(){const e=[`M${d(this,ne)[4]} ${d(this,ne)[5]}`];for(let n=6,s=d(this,ne).length;n<s;n+=6){if(isNaN(d(this,ne)[n])){e.push(`L${d(this,ne)[n+4]} ${d(this,ne)[n+5]}`);continue}e.push(`C${d(this,ne)[n]} ${d(this,ne)[n+1]} ${d(this,ne)[n+2]} ${d(this,ne)[n+3]} ${d(this,ne)[n+4]} ${d(this,ne)[n+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,n,s,r],a){const o=s-e,l=r-n;let c,h;switch(a){case 0:c=w(this,Je,Al).call(this,d(this,ne),e,r,o,-l),h=w(this,Je,Al).call(this,d(this,cn),e,r,o,-l);break;case 90:c=w(this,Je,xl).call(this,d(this,ne),e,n,o,l),h=w(this,Je,xl).call(this,d(this,cn),e,n,o,l);break;case 180:c=w(this,Je,Al).call(this,d(this,ne),s,n,-o,l),h=w(this,Je,Al).call(this,d(this,cn),s,n,-o,l);break;case 270:c=w(this,Je,xl).call(this,d(this,ne),s,r,-o,-l),h=w(this,Je,xl).call(this,d(this,cn),s,r,-o,-l);break}return{outline:Array.from(c),points:[Array.from(h)]}}get box(){return d(this,ta)}getNewOutline(e,n){const{x:s,y:r,width:a,height:o}=d(this,ta),[l,c,h,u]=d(this,Mo),f=a*h,p=o*u,m=s*h+l,g=r*u+c,b=new Xh({x:d(this,cn)[0]*f+m,y:d(this,cn)[1]*p+g},d(this,Mo),d(this,id),e,d(this,sd),n??d(this,Gs));for(let v=2;v<d(this,cn).length;v+=2)b.add({x:d(this,cn)[v]*f+m,y:d(this,cn)[v+1]*p+g});return b.getOutlines()}}Mo=new WeakMap,ta=new WeakMap,Gs=new WeakMap,sd=new WeakMap,cn=new WeakMap,id=new WeakMap,ne=new WeakMap,Je=new WeakSet,Al=function(e,n,s,r,a){const o=new Float64Array(e.length);for(let l=0,c=e.length;l<c;l+=2)o[l]=n+e[l]*r,o[l+1]=s+e[l+1]*a;return o},xl=function(e,n,s,r,a){const o=new Float64Array(e.length);for(let l=0,c=e.length;l<c;l+=2)o[l]=n+e[l+1]*r,o[l+1]=s+e[l]*a;return o},P0=function(e){const n=d(this,ne);let s=n[4],r=n[5],a=s,o=r,l=s,c=r,h=s,u=r;const f=e?Math.max:Math.min;for(let v=6,A=n.length;v<A;v+=6){if(isNaN(n[v]))a=Math.min(a,n[v+4]),o=Math.min(o,n[v+5]),l=Math.max(l,n[v+4]),c=Math.max(c,n[v+5]),u<n[v+5]?(h=n[v+4],u=n[v+5]):u===n[v+5]&&(h=f(h,n[v+4]));else{const E=st.bezierBoundingBox(s,r,...n.slice(v,v+6));a=Math.min(a,E[0]),o=Math.min(o,E[1]),l=Math.max(l,E[2]),c=Math.max(c,E[3]),u<E[3]?(h=E[2],u=E[3]):u===E[3]&&(h=f(h,E[2]))}s=n[v+4],r=n[v+5]}const p=a-d(this,Gs),m=o-d(this,Gs),g=l-a+2*d(this,Gs),b=c-o+2*d(this,Gs);y(this,ta,{x:p,y:m,width:g,height:b,lastPoint:[h,u]})};var rd,ad,$n,ea,Io,he,od,Oo,ld,cd,jn,No,qt,Wp,Vp,L0,fr,M0,Ai;const Ts=class Ts{constructor({editor:t=null,uiManager:e=null}){x(this,qt);x(this,rd,w(this,qt,L0).bind(this));x(this,ad,w(this,qt,M0).bind(this));x(this,$n,null);x(this,ea,null);x(this,Io);x(this,he,null);x(this,od,!1);x(this,Oo,!1);x(this,ld,null);x(this,cd);x(this,jn,null);x(this,No);var n;t?(y(this,Oo,!1),y(this,No,gt.HIGHLIGHT_COLOR),y(this,ld,t)):(y(this,Oo,!0),y(this,No,gt.HIGHLIGHT_DEFAULT_COLOR)),y(this,jn,(t==null?void 0:t._uiManager)||e),y(this,cd,d(this,jn)._eventBus),y(this,Io,(t==null?void 0:t.color)||((n=d(this,jn))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return Mt(this,"_keyboardManager",new kd([[["Escape","mac+Escape"],Ts.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ts.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ts.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ts.prototype._moveToPrevious],[["Home","mac+Home"],Ts.prototype._moveToBeginning],[["End","mac+End"],Ts.prototype._moveToEnd]]))}renderButton(){const t=y(this,$n,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=d(this,jn)._signal;t.addEventListener("click",w(this,qt,fr).bind(this),{signal:e}),t.addEventListener("keydown",d(this,rd),{signal:e});const n=y(this,ea,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=d(this,Io),t.append(n),t}renderMainDropdown(){const t=y(this,he,w(this,qt,Wp).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===d(this,$n)){w(this,qt,fr).call(this,t);return}const e=t.target.getAttribute("data-color");e&&w(this,qt,Vp).call(this,e,t)}_moveToNext(t){var e,n;if(!d(this,qt,Ai)){w(this,qt,fr).call(this,t);return}if(t.target===d(this,$n)){(e=d(this,he).firstChild)==null||e.focus();return}(n=t.target.nextSibling)==null||n.focus()}_moveToPrevious(t){var e,n;if(t.target===((e=d(this,he))==null?void 0:e.firstChild)||t.target===d(this,$n)){d(this,qt,Ai)&&this._hideDropdownFromKeyboard();return}d(this,qt,Ai)||w(this,qt,fr).call(this,t),(n=t.target.previousSibling)==null||n.focus()}_moveToBeginning(t){var e;if(!d(this,qt,Ai)){w(this,qt,fr).call(this,t);return}(e=d(this,he).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!d(this,qt,Ai)){w(this,qt,fr).call(this,t);return}(e=d(this,he).lastChild)==null||e.focus()}hideDropdown(){var t;(t=d(this,he))==null||t.classList.add("hidden"),window.removeEventListener("pointerdown",d(this,ad))}_hideDropdownFromKeyboard(){var t;if(!d(this,Oo)){if(!d(this,qt,Ai)){(t=d(this,ld))==null||t.unselect();return}this.hideDropdown(),d(this,$n).focus({preventScroll:!0,focusVisible:d(this,od)})}}updateColor(t){if(d(this,ea)&&(d(this,ea).style.backgroundColor=t),!d(this,he))return;const e=d(this,jn).highlightColors.values();for(const n of d(this,he).children)n.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=d(this,$n))==null||t.remove(),y(this,$n,null),y(this,ea,null),(e=d(this,he))==null||e.remove(),y(this,he,null)}};rd=new WeakMap,ad=new WeakMap,$n=new WeakMap,ea=new WeakMap,Io=new WeakMap,he=new WeakMap,od=new WeakMap,Oo=new WeakMap,ld=new WeakMap,cd=new WeakMap,jn=new WeakMap,No=new WeakMap,qt=new WeakSet,Wp=function(){const t=document.createElement("div"),e=d(this,jn)._signal;t.addEventListener("contextmenu",Qe,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,s]of d(this,jn).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",s),r.title=n,r.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${n}`);const a=document.createElement("span");r.append(a),a.className="swatch",a.style.backgroundColor=s,r.setAttribute("aria-selected",s===d(this,Io)),r.addEventListener("click",w(this,qt,Vp).bind(this,s),{signal:e}),t.append(r)}return t.addEventListener("keydown",d(this,rd),{signal:e}),t},Vp=function(t,e){e.stopPropagation(),d(this,cd).dispatch("switchannotationeditorparams",{source:this,type:d(this,No),value:t})},L0=function(t){Ts._keyboardManager.exec(this,t)},fr=function(t){if(d(this,qt,Ai)){this.hideDropdown();return}if(y(this,od,t.detail===0),window.addEventListener("pointerdown",d(this,ad),{signal:d(this,jn)._signal}),d(this,he)){d(this,he).classList.remove("hidden");return}const e=y(this,he,w(this,qt,Wp).call(this));d(this,$n).append(e)},M0=function(t){var e;(e=d(this,he))!=null&&e.contains(t.target)||this.hideDropdown()},Ai=function(){return d(this,he)&&!d(this,he).classList.contains("hidden")};let Yh=Ts;var Do,dd,Hi,na,Fo,En,hd,ud,sa,Un,Be,dn,gu,zo,ia,ue,Ho,rs,fd,_t,qp,Gp,I0,O0,N0,Xp,El,Cn,Da,D0,Eh,Sl,F0,z0,H0,B0;const Nt=class Nt extends Ht{constructor(e){super({...e,name:"highlightEditor"});x(this,_t);x(this,Do,null);x(this,dd,0);x(this,Hi);x(this,na,null);x(this,Fo,null);x(this,En,null);x(this,hd,null);x(this,ud,0);x(this,sa,null);x(this,Un,null);x(this,Be,null);x(this,dn,!1);x(this,gu,w(this,_t,D0).bind(this));x(this,zo,null);x(this,ia);x(this,ue,null);x(this,Ho,"");x(this,rs);x(this,fd,"");this.color=e.color||Nt._defaultColor,y(this,rs,e.thickness||Nt._defaultThickness),y(this,ia,e.opacity||Nt._defaultOpacity),y(this,Hi,e.boxes||null),y(this,fd,e.methodOfCreation||""),y(this,Ho,e.text||""),this._isDraggable=!1,e.highlightId>-1?(y(this,dn,!0),w(this,_t,Gp).call(this,e),w(this,_t,El).call(this)):(y(this,Do,e.anchorNode),y(this,dd,e.anchorOffset),y(this,hd,e.focusNode),y(this,ud,e.focusOffset),w(this,_t,qp).call(this),w(this,_t,El).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=Nt.prototype;return Mt(this,"_keyboardManager",new kd([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:d(this,dn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:d(this,rs),methodOfCreation:d(this,fd)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,n){var s;Ht.initialize(e,n),Nt._defaultColor||(Nt._defaultColor=((s=n.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(e,n){switch(e){case gt.HIGHLIGHT_DEFAULT_COLOR:Nt._defaultColor=n;break;case gt.HIGHLIGHT_THICKNESS:Nt._defaultThickness=n;break}}translateInPage(e,n){}get toolbarPosition(){return d(this,zo)}updateParams(e,n){switch(e){case gt.HIGHLIGHT_COLOR:w(this,_t,I0).call(this,n);break;case gt.HIGHLIGHT_THICKNESS:w(this,_t,O0).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[gt.HIGHLIGHT_DEFAULT_COLOR,Nt._defaultColor],[gt.HIGHLIGHT_THICKNESS,Nt._defaultThickness]]}get propertiesToUpdate(){return[[gt.HIGHLIGHT_COLOR,this.color||Nt._defaultColor],[gt.HIGHLIGHT_THICKNESS,d(this,rs)||Nt._defaultThickness],[gt.HIGHLIGHT_FREE,d(this,dn)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(y(this,Fo,new Yh({editor:this})),e.addColorPicker(d(this,Fo))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(w(this,_t,Sl).call(this))}getBaseTranslation(){return[0,0]}getRect(e,n){return super.getRect(e,n,w(this,_t,Sl).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){w(this,_t,Xp).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(w(this,_t,El).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var s;let n=!1;this.parent&&!e?w(this,_t,Xp).call(this):e&&(w(this,_t,El).call(this,e),n=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),n&&this.select()}rotate(e){var r,a,o;const{drawLayer:n}=this.parent;let s;d(this,dn)?(e=(e-this.rotation+360)%360,s=w(r=Nt,Cn,Da).call(r,d(this,Un).box,e)):s=w(a=Nt,Cn,Da).call(a,this,e),n.rotate(d(this,Be),e),n.rotate(d(this,ue),e),n.updateBox(d(this,Be),s),n.updateBox(d(this,ue),w(o=Nt,Cn,Da).call(o,d(this,En).box,e))}render(){if(this.div)return this.div;const e=super.render();d(this,Ho)&&(e.setAttribute("aria-label",d(this,Ho)),e.setAttribute("role","mark")),d(this,dn)?e.classList.add("free"):this.div.addEventListener("keydown",d(this,gu),{signal:this._uiManager._signal});const n=y(this,sa,document.createElement("div"));e.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=d(this,na);const[s,r]=this.parentDimensions;return this.setDims(this.width*s,this.height*r),Wh(this,d(this,sa),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.parent.drawLayer.addClass(d(this,ue),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(d(this,ue),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:w(this,_t,Eh).call(this,!0);break;case 1:case 3:w(this,_t,Eh).call(this,!1);break}}select(){var e,n;super.select(),d(this,ue)&&((e=this.parent)==null||e.drawLayer.removeClass(d(this,ue),"hovered"),(n=this.parent)==null||n.drawLayer.addClass(d(this,ue),"selected"))}unselect(){var e;super.unselect(),d(this,ue)&&((e=this.parent)==null||e.drawLayer.removeClass(d(this,ue),"selected"),d(this,dn)||w(this,_t,Eh).call(this,!1))}get _mustFixPosition(){return!d(this,dn)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(d(this,Be),e),this.parent.drawLayer.show(d(this,ue),e))}static startHighlighting(e,n,{target:s,x:r,y:a}){const{x:o,y:l,width:c,height:h}=s.getBoundingClientRect(),u=b=>{w(this,Cn,H0).call(this,e,b)},f=e._signal,p={capture:!0,passive:!1,signal:f},m=b=>{b.preventDefault(),b.stopPropagation()},g=b=>{s.removeEventListener("pointermove",u),window.removeEventListener("blur",g),window.removeEventListener("pointerup",g),window.removeEventListener("pointerdown",m,p),window.removeEventListener("contextmenu",Qe),w(this,Cn,B0).call(this,e,b)};window.addEventListener("blur",g,{signal:f}),window.addEventListener("pointerup",g,{signal:f}),window.addEventListener("pointerdown",m,p),window.addEventListener("contextmenu",Qe,{signal:f}),s.addEventListener("pointermove",u,{signal:f}),this._freeHighlight=new Xh({x:r,y:a},[o,l,c,h],e.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(e,n,s){var g;const r=super.deserialize(e,n,s),{rect:[a,o,l,c],color:h,quadPoints:u}=e;r.color=st.makeHexColor(...h),y(r,ia,e.opacity);const[f,p]=r.pageDimensions;r.width=(l-a)/f,r.height=(c-o)/p;const m=y(r,Hi,[]);for(let b=0;b<u.length;b+=8)m.push({x:(u[4]-l)/f,y:(c-(1-u[b+5]))/p,width:(u[b+2]-u[b])/f,height:(u[b+5]-u[b+1])/p});return w(g=r,_t,qp).call(g),r}serialize(e=!1){if(this.isEmpty()||e)return null;const n=this.getRect(0,0),s=Ht._colorManager.convert(this.color);return{annotationType:Pt.HIGHLIGHT,color:s,opacity:d(this,ia),thickness:d(this,rs),quadPoints:w(this,_t,F0).call(this),outlines:w(this,_t,z0).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:w(this,_t,Sl).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};Do=new WeakMap,dd=new WeakMap,Hi=new WeakMap,na=new WeakMap,Fo=new WeakMap,En=new WeakMap,hd=new WeakMap,ud=new WeakMap,sa=new WeakMap,Un=new WeakMap,Be=new WeakMap,dn=new WeakMap,gu=new WeakMap,zo=new WeakMap,ia=new WeakMap,ue=new WeakMap,Ho=new WeakMap,rs=new WeakMap,fd=new WeakMap,_t=new WeakSet,qp=function(){const e=new Bp(d(this,Hi),.001);y(this,Un,e.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=d(this,Un).box;const n=new Bp(d(this,Hi),.0025,.001,this._uiManager.direction==="ltr");y(this,En,n.getOutlines());const{lastPoint:s}=d(this,En).box;y(this,zo,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},Gp=function({highlightOutlines:e,highlightId:n,clipPathId:s}){var u,f;if(y(this,Un,e),y(this,En,e.getNewOutline(d(this,rs)/2+1.5,.0025)),n>=0)y(this,Be,n),y(this,na,s),this.parent.drawLayer.finalizeLine(n,e),y(this,ue,this.parent.drawLayer.highlightOutline(d(this,En)));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(d(this,Be),e),this.parent.drawLayer.updateBox(d(this,Be),w(u=Nt,Cn,Da).call(u,d(this,Un).box,(p-this.rotation+360)%360)),this.parent.drawLayer.updateLine(d(this,ue),d(this,En)),this.parent.drawLayer.updateBox(d(this,ue),w(f=Nt,Cn,Da).call(f,d(this,En).box,p))}const{x:a,y:o,width:l,height:c}=e.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=c;break;case 90:{const[p,m]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*m/p,this.height=c*p/m;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=c;break;case 270:{const[p,m]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*m/p,this.height=c*p/m;break}}const{lastPoint:h}=d(this,En).box;y(this,zo,[(h[0]-a)/l,(h[1]-o)/c])},I0=function(e){const n=r=>{var a,o;this.color=r,(a=this.parent)==null||a.drawLayer.changeColor(d(this,Be),r),(o=d(this,Fo))==null||o.updateColor(r)},s=this.color;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:gt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},O0=function(e){const n=d(this,rs),s=r=>{y(this,rs,r),w(this,_t,N0).call(this,r)};this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:gt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},N0=function(e){if(!d(this,dn))return;w(this,_t,Gp).call(this,{highlightOutlines:d(this,Un).getNewOutline(e/2)}),this.fixAndSetPosition();const[n,s]=this.parentDimensions;this.setDims(this.width*n,this.height*s)},Xp=function(){d(this,Be)===null||!this.parent||(this.parent.drawLayer.remove(d(this,Be)),y(this,Be,null),this.parent.drawLayer.remove(d(this,ue)),y(this,ue,null))},El=function(e=this.parent){d(this,Be)===null&&({id:tn(this,Be)._,clipPathId:tn(this,na)._}=e.drawLayer.highlight(d(this,Un),this.color,d(this,ia)),y(this,ue,e.drawLayer.highlightOutline(d(this,En))),d(this,sa)&&(d(this,sa).style.clipPath=d(this,na)))},Cn=new WeakSet,Da=function({x:e,y:n,width:s,height:r},a){switch(a){case 90:return{x:1-n-r,y:e,width:r,height:s};case 180:return{x:1-e-s,y:1-n-r,width:s,height:r};case 270:return{x:n,y:1-e-s,width:r,height:s}}return{x:e,y:n,width:s,height:r}},D0=function(e){Nt._keyboardManager.exec(this,e)},Eh=function(e){if(!d(this,Do))return;const n=window.getSelection();e?n.setPosition(d(this,Do),d(this,dd)):n.setPosition(d(this,hd),d(this,ud))},Sl=function(){return d(this,dn)?this.rotation:0},F0=function(){if(d(this,dn))return null;const[e,n]=this.pageDimensions,s=d(this,Hi),r=new Float32Array(s.length*8);let a=0;for(const{x:o,y:l,width:c,height:h}of s){const u=o*e,f=(1-l-h)*n;r[a]=r[a+4]=u,r[a+1]=r[a+3]=f,r[a+2]=r[a+6]=u+c*e,r[a+5]=r[a+7]=f+h*n,a+=8}return r},z0=function(e){return d(this,Un).serialize(e,w(this,_t,Sl).call(this))},H0=function(e,n){this._freeHighlight.add(n)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},B0=function(e,n){this._freeHighlight.isEmpty()?e.drawLayer.removeFreeHighlight(this._freeHighlightId):e.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},x(Nt,Cn),pt(Nt,"_defaultColor",null),pt(Nt,"_defaultOpacity",1),pt(Nt,"_defaultThickness",12),pt(Nt,"_l10nPromise"),pt(Nt,"_type","highlight"),pt(Nt,"_editorType",Pt.HIGHLIGHT),pt(Nt,"_freeHighlightId",-1),pt(Nt,"_freeHighlight",null),pt(Nt,"_freeHighlightClipId","");let Kh=Nt;var ra,aa,pd,gd,md,oa,as,Xs,Sn,la,ca,Ys,da,ha,Bi,Y,$0,j0,U0,W0,Kp,V0,Jp,q0,G0,X0,Y0,K0,pr,Qp,Sh,kh,Fa,Zp,_h,hi,J0,tg,Q0,Z0,eg,Ch,kl;const Kt=class Kt extends Ht{constructor(e){super({...e,name:"inkEditor"});x(this,Y);x(this,ra,0);x(this,aa,0);x(this,pd,this.canvasPointermove.bind(this));x(this,gd,this.canvasPointerleave.bind(this));x(this,md,this.canvasPointerup.bind(this));x(this,oa,this.canvasPointerdown.bind(this));x(this,as,null);x(this,Xs,new Path2D);x(this,Sn,!1);x(this,la,!1);x(this,ca,!1);x(this,Ys,null);x(this,da,0);x(this,ha,0);x(this,Bi,null);this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,n){Ht.initialize(e,n)}static updateDefaultParams(e,n){switch(e){case gt.INK_THICKNESS:Kt._defaultThickness=n;break;case gt.INK_COLOR:Kt._defaultColor=n;break;case gt.INK_OPACITY:Kt._defaultOpacity=n/100;break}}updateParams(e,n){switch(e){case gt.INK_THICKNESS:w(this,Y,$0).call(this,n);break;case gt.INK_COLOR:w(this,Y,j0).call(this,n);break;case gt.INK_OPACITY:w(this,Y,U0).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[gt.INK_THICKNESS,Kt._defaultThickness],[gt.INK_COLOR,Kt._defaultColor||Ht._defaultLineColor],[gt.INK_OPACITY,Math.round(Kt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[gt.INK_THICKNESS,this.thickness||Kt._defaultThickness],[gt.INK_COLOR,this.color||Kt._defaultColor||Ht._defaultLineColor],[gt.INK_OPACITY,Math.round(100*(this.opacity??Kt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(w(this,Y,Sh).call(this),w(this,Y,kh).call(this)),this.isAttachedToDOM||(this.parent.add(this),w(this,Y,Fa).call(this)),w(this,Y,kl).call(this)))}remove(){var e;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,d(this,as)&&(clearTimeout(d(this,as)),y(this,as,null)),(e=d(this,Ys))==null||e.disconnect(),y(this,Ys,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,n]=this.parentDimensions,s=this.width*e,r=this.height*n;this.setDimensions(s,r)}enableEditMode(){d(this,Sn)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",d(this,oa),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",d(this,oa)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){d(this,Sn)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),y(this,Sn,!0),this.div.classList.add("disabled"),w(this,Y,kl).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||d(this,Sn)||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),w(this,Y,V0).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),w(this,Y,Jp).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),w(this,Y,Qp).call(this,e)}canvasPointerleave(e){w(this,Y,Qp).call(this,e)}get isResizable(){return!this.isEmpty()&&d(this,Sn)}render(){if(this.div)return this.div;let e,n;this.width&&(e=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[s,r,a,o]=w(this,Y,W0).call(this);if(this.setAt(s,r,0,0),this.setDims(a,o),w(this,Y,Sh).call(this),this.width){const[l,c]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*c),this.setAt(e*l,n*c,this.width*l,this.height*c),y(this,ca,!0),w(this,Y,Fa).call(this),this.setDims(this.width*l,this.height*c),w(this,Y,pr).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return w(this,Y,kh).call(this),this.div}setDimensions(e,n){const s=Math.round(e),r=Math.round(n);if(d(this,da)===s&&d(this,ha)===r)return;y(this,da,s),y(this,ha,r),this.canvas.style.visibility="hidden";const[a,o]=this.parentDimensions;this.width=e/a,this.height=n/o,this.fixAndSetPosition(),d(this,Sn)&&w(this,Y,Zp).call(this,e,n),w(this,Y,Fa).call(this),w(this,Y,pr).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(e,n,s){var b,v,A;if(e instanceof b0)return null;const r=super.deserialize(e,n,s);r.thickness=e.thickness,r.color=st.makeHexColor(...e.color),r.opacity=e.opacity;const[a,o]=r.pageDimensions,l=r.width*a,c=r.height*o,h=r.parentScale,u=e.thickness/2;y(r,Sn,!0),y(r,da,Math.round(l)),y(r,ha,Math.round(c));const{paths:f,rect:p,rotation:m}=e;for(let{bezier:E}of f){E=w(b=Kt,hi,Q0).call(b,E,p,m);const k=[];r.paths.push(k);let S=h*(E[0]-u),_=h*(E[1]-u);for(let P=2,M=E.length;P<M;P+=6){const C=h*(E[P]-u),I=h*(E[P+1]-u),F=h*(E[P+2]-u),z=h*(E[P+3]-u),H=h*(E[P+4]-u),W=h*(E[P+5]-u);k.push([[S,_],[C,I],[F,z],[H,W]]),S=H,_=W}const L=w(this,hi,J0).call(this,k);r.bezierPath2D.push(L)}const g=w(v=r,Y,eg).call(v);return y(r,aa,Math.max(Ht.MIN_SIZE,g[2]-g[0])),y(r,ra,Math.max(Ht.MIN_SIZE,g[3]-g[1])),w(A=r,Y,Zp).call(A,l,c),r}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),n=Ht._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Pt.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:w(this,Y,Z0).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};ra=new WeakMap,aa=new WeakMap,pd=new WeakMap,gd=new WeakMap,md=new WeakMap,oa=new WeakMap,as=new WeakMap,Xs=new WeakMap,Sn=new WeakMap,la=new WeakMap,ca=new WeakMap,Ys=new WeakMap,da=new WeakMap,ha=new WeakMap,Bi=new WeakMap,Y=new WeakSet,$0=function(e){const n=r=>{this.thickness=r,w(this,Y,kl).call(this)},s=this.thickness;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:gt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},j0=function(e){const n=r=>{this.color=r,w(this,Y,pr).call(this)},s=this.color;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:gt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},U0=function(e){const n=r=>{this.opacity=r,w(this,Y,pr).call(this)};e/=100;const s=this.opacity;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:gt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},W0=function(){const{parentRotation:e,parentDimensions:[n,s]}=this;switch(e){case 90:return[0,s,s,n];case 180:return[n,s,n,s];case 270:return[n,0,s,n];default:return[0,0,n,s]}},Kp=function(){const{ctx:e,color:n,opacity:s,thickness:r,parentScale:a,scaleFactor:o}=this;e.lineWidth=r*a/o,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${n}${Q1(s)}`},V0=function(e,n){const s=this._uiManager._signal;this.canvas.addEventListener("contextmenu",Qe,{signal:s}),this.canvas.addEventListener("pointerleave",d(this,gd),{signal:s}),this.canvas.addEventListener("pointermove",d(this,pd),{signal:s}),this.canvas.addEventListener("pointerup",d(this,md),{signal:s}),this.canvas.removeEventListener("pointerdown",d(this,oa)),this.isEditing=!0,d(this,ca)||(y(this,ca,!0),w(this,Y,Fa).call(this),this.thickness||(this.thickness=Kt._defaultThickness),this.color||(this.color=Kt._defaultColor||Ht._defaultLineColor),this.opacity??(this.opacity=Kt._defaultOpacity)),this.currentPath.push([e,n]),y(this,la,!1),w(this,Y,Kp).call(this),y(this,Bi,()=>{w(this,Y,X0).call(this),d(this,Bi)&&window.requestAnimationFrame(d(this,Bi))}),window.requestAnimationFrame(d(this,Bi))},Jp=function(e,n){const[s,r]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===s&&n===r)return;const a=this.currentPath;let o=d(this,Xs);if(a.push([e,n]),y(this,la,!0),a.length<=2){o.moveTo(...a[0]),o.lineTo(e,n);return}a.length===3&&(y(this,Xs,o=new Path2D),o.moveTo(...a[0])),w(this,Y,Y0).call(this,o,...a.at(-3),...a.at(-2),e,n)},q0=function(){if(this.currentPath.length===0)return;const e=this.currentPath.at(-1);d(this,Xs).lineTo(...e)},G0=function(e,n){y(this,Bi,null),e=Math.min(Math.max(e,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),w(this,Y,Jp).call(this,e,n),w(this,Y,q0).call(this);let s;if(this.currentPath.length!==1)s=w(this,Y,K0).call(this);else{const c=[e,n];s=[[c,c.slice(),c.slice(),c]]}const r=d(this,Xs),a=this.currentPath;this.currentPath=[],y(this,Xs,new Path2D);const o=()=>{this.allRawPaths.push(a),this.paths.push(s),this.bezierPath2D.push(r),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(w(this,Y,Sh).call(this),w(this,Y,kh).call(this)),w(this,Y,kl).call(this))};this.addCommands({cmd:o,undo:l,mustExec:!0})},X0=function(){if(!d(this,la))return;y(this,la,!1);const e=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),s=n.map(o=>o[0]),r=n.map(o=>o[1]);Math.min(...s)-e,Math.max(...s)+e,Math.min(...r)-e,Math.max(...r)+e;const{ctx:a}=this;a.save(),a.clearRect(0,0,this.canvas.width,this.canvas.height);for(const o of this.bezierPath2D)a.stroke(o);a.stroke(d(this,Xs)),a.restore()},Y0=function(e,n,s,r,a,o,l){const c=(n+r)/2,h=(s+a)/2,u=(r+o)/2,f=(a+l)/2;e.bezierCurveTo(c+2*(r-c)/3,h+2*(a-h)/3,u+2*(r-u)/3,f+2*(a-f)/3,u,f)},K0=function(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const n=[];let s,[r,a]=e[0];for(s=1;s<e.length-2;s++){const[p,m]=e[s],[g,b]=e[s+1],v=(p+g)/2,A=(m+b)/2,E=[r+2*(p-r)/3,a+2*(m-a)/3],k=[v+2*(p-v)/3,A+2*(m-A)/3];n.push([[r,a],E,k,[v,A]]),[r,a]=[v,A]}const[o,l]=e[s],[c,h]=e[s+1],u=[r+2*(o-r)/3,a+2*(l-a)/3],f=[c+2*(o-c)/3,h+2*(l-h)/3];return n.push([[r,a],u,f,[c,h]]),n},pr=function(){if(this.isEmpty()){w(this,Y,_h).call(this);return}w(this,Y,Kp).call(this);const{canvas:e,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,e.width,e.height),w(this,Y,_h).call(this);for(const s of this.bezierPath2D)n.stroke(s)},Qp=function(e){this.canvas.removeEventListener("pointerleave",d(this,gd)),this.canvas.removeEventListener("pointermove",d(this,pd)),this.canvas.removeEventListener("pointerup",d(this,md)),this.canvas.addEventListener("pointerdown",d(this,oa),{signal:this._uiManager._signal}),d(this,as)&&clearTimeout(d(this,as)),y(this,as,setTimeout(()=>{y(this,as,null),this.canvas.removeEventListener("contextmenu",Qe)},10)),w(this,Y,G0).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Sh=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},kh=function(){y(this,Ys,new ResizeObserver(e=>{const n=e[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)})),d(this,Ys).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=d(this,Ys))==null||e.disconnect(),y(this,Ys,null)},{once:!0})},Fa=function(){if(!d(this,ca))return;const[e,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*n),w(this,Y,_h).call(this)},Zp=function(e,n){const s=w(this,Y,Ch).call(this),r=(e-s)/d(this,aa),a=(n-s)/d(this,ra);this.scaleFactor=Math.min(r,a)},_h=function(){const e=w(this,Y,Ch).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)},hi=new WeakSet,J0=function(e){const n=new Path2D;for(let s=0,r=e.length;s<r;s++){const[a,o,l,c]=e[s];s===0&&n.moveTo(...a),n.bezierCurveTo(o[0],o[1],l[0],l[1],c[0],c[1])}return n},tg=function(e,n,s){const[r,a,o,l]=n;switch(s){case 0:for(let c=0,h=e.length;c<h;c+=2)e[c]+=r,e[c+1]=l-e[c+1];break;case 90:for(let c=0,h=e.length;c<h;c+=2){const u=e[c];e[c]=e[c+1]+r,e[c+1]=u+a}break;case 180:for(let c=0,h=e.length;c<h;c+=2)e[c]=o-e[c],e[c+1]+=a;break;case 270:for(let c=0,h=e.length;c<h;c+=2){const u=e[c];e[c]=o-e[c+1],e[c+1]=l-u}break;default:throw new Error("Invalid rotation")}return e},Q0=function(e,n,s){const[r,a,o,l]=n;switch(s){case 0:for(let c=0,h=e.length;c<h;c+=2)e[c]-=r,e[c+1]=l-e[c+1];break;case 90:for(let c=0,h=e.length;c<h;c+=2){const u=e[c];e[c]=e[c+1]-a,e[c+1]=u-r}break;case 180:for(let c=0,h=e.length;c<h;c+=2)e[c]=o-e[c],e[c+1]-=a;break;case 270:for(let c=0,h=e.length;c<h;c+=2){const u=e[c];e[c]=l-e[c+1],e[c+1]=o-u}break;default:throw new Error("Invalid rotation")}return e},Z0=function(e,n,s,r){var h,u;const a=[],o=this.thickness/2,l=e*n+o,c=e*s+o;for(const f of this.paths){const p=[],m=[];for(let g=0,b=f.length;g<b;g++){const[v,A,E,k]=f[g];if(v[0]===k[0]&&v[1]===k[1]&&b===1){const z=e*v[0]+l,H=e*v[1]+c;p.push(z,H),m.push(z,H);break}const S=e*v[0]+l,_=e*v[1]+c,L=e*A[0]+l,P=e*A[1]+c,M=e*E[0]+l,C=e*E[1]+c,I=e*k[0]+l,F=e*k[1]+c;g===0&&(p.push(S,_),m.push(S,_)),p.push(L,P,M,C,I,F),m.push(L,P),g===b-1&&m.push(I,F)}a.push({bezier:w(h=Kt,hi,tg).call(h,p,r,this.rotation),points:w(u=Kt,hi,tg).call(u,m,r,this.rotation)})}return a},eg=function(){let e=1/0,n=-1/0,s=1/0,r=-1/0;for(const a of this.paths)for(const[o,l,c,h]of a){const u=st.bezierBoundingBox(...o,...l,...c,...h);e=Math.min(e,u[0]),s=Math.min(s,u[1]),n=Math.max(n,u[2]),r=Math.max(r,u[3])}return[e,s,n,r]},Ch=function(){return d(this,Sn)?Math.ceil(this.thickness*this.parentScale):0},kl=function(e=!1){if(this.isEmpty())return;if(!d(this,Sn)){w(this,Y,pr).call(this);return}const n=w(this,Y,eg).call(this),s=w(this,Y,Ch).call(this);y(this,aa,Math.max(Ht.MIN_SIZE,n[2]-n[0])),y(this,ra,Math.max(Ht.MIN_SIZE,n[3]-n[1]));const r=Math.ceil(s+d(this,aa)*this.scaleFactor),a=Math.ceil(s+d(this,ra)*this.scaleFactor),[o,l]=this.parentDimensions;this.width=r/o,this.height=a/l,this.setAspectRatio(r,a);const c=this.translationX,h=this.translationY;this.translationX=-n[0],this.translationY=-n[1],w(this,Y,Fa).call(this),w(this,Y,pr).call(this),y(this,da,r),y(this,ha,a),this.setDims(r,a);const u=e?s/this.scaleFactor/2:0;this.translate(c-this.translationX-u,h-this.translationY-u)},x(Kt,hi),pt(Kt,"_defaultColor",null),pt(Kt,"_defaultOpacity",1),pt(Kt,"_defaultThickness",1),pt(Kt,"_type","ink"),pt(Kt,"_editorType",Pt.INK);let Yp=Kt;var ke,_e,$i,Ks,ji,Bo,os,Js,ls,Wn,vd,It,_l,Cl,Rh,sg,tA,eA,ig,Th,nA;const Il=class Il extends Ht{constructor(e){super({...e,name:"stampEditor"});x(this,It);x(this,ke,null);x(this,_e,null);x(this,$i,null);x(this,Ks,null);x(this,ji,null);x(this,Bo,"");x(this,os,null);x(this,Js,null);x(this,ls,null);x(this,Wn,!1);x(this,vd,!1);y(this,Ks,e.bitmapUrl),y(this,ji,e.bitmapFile)}static initialize(e,n){Ht.initialize(e,n)}static get supportedTypes(){return Mt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return Mt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,n){n.pasteEditor(Pt.STAMP,{bitmapFile:e.getAsFile()})}remove(){var e,n;d(this,_e)&&(y(this,ke,null),this._uiManager.imageManager.deleteId(d(this,_e)),(e=d(this,os))==null||e.remove(),y(this,os,null),(n=d(this,Js))==null||n.disconnect(),y(this,Js,null),d(this,ls)&&(clearTimeout(d(this,ls)),y(this,ls,null))),super.remove()}rebuild(){if(!this.parent){d(this,_e)&&w(this,It,Rh).call(this);return}super.rebuild(),this.div!==null&&(d(this,_e)&&d(this,os)===null&&w(this,It,Rh).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(d(this,$i)||d(this,ke)||d(this,Ks)||d(this,ji)||d(this,_e))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,n;if(this.width&&(e=this.x,n=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),d(this,ke)?w(this,It,sg).call(this):w(this,It,Rh).call(this),this.width){const[s,r]=this.parentDimensions;this.setAt(e*s,n*r,this.width*s,this.height*r)}return this.div}getImageForAltText(){return d(this,os)}static deserialize(e,n,s){if(e instanceof y0)return null;const r=super.deserialize(e,n,s),{rect:a,bitmapUrl:o,bitmapId:l,isSvg:c,accessibilityData:h}=e;l&&s.imageManager.isValidId(l)?y(r,_e,l):y(r,Ks,o),y(r,Wn,c);const[u,f]=r.pageDimensions;return r.width=(a[2]-a[0])/u,r.height=(a[3]-a[1])/f,h&&(r.altTextData=h),r}serialize(e=!1,n=null){if(this.isEmpty())return null;const s={annotationType:Pt.STAMP,bitmapId:d(this,_e),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:d(this,Wn),structTreeParentId:this._structTreeParentId};if(e)return s.bitmapUrl=w(this,It,Th).call(this,!0),s.accessibilityData=this.altTextData,s;const{decorative:r,altText:a}=this.altTextData;if(!r&&a&&(s.accessibilityData={type:"Figure",alt:a}),n===null)return s;n.stamps||(n.stamps=new Map);const o=d(this,Wn)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!n.stamps.has(d(this,_e)))n.stamps.set(d(this,_e),{area:o,serialized:s}),s.bitmap=w(this,It,Th).call(this,!1);else if(d(this,Wn)){const l=n.stamps.get(d(this,_e));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=w(this,It,Th).call(this,!1))}return s}};ke=new WeakMap,_e=new WeakMap,$i=new WeakMap,Ks=new WeakMap,ji=new WeakMap,Bo=new WeakMap,os=new WeakMap,Js=new WeakMap,ls=new WeakMap,Wn=new WeakMap,vd=new WeakMap,It=new WeakSet,_l=function(e,n=!1){if(!e){this.remove();return}y(this,ke,e.bitmap),n||(y(this,_e,e.id),y(this,Wn,e.isSvg)),e.file&&y(this,Bo,e.file.name),w(this,It,sg).call(this)},Cl=function(){y(this,$i,null),this._uiManager.enableWaiting(!1),d(this,os)&&this.div.focus()},Rh=function(){if(d(this,_e)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(d(this,_e)).then(s=>w(this,It,_l).call(this,s,!0)).finally(()=>w(this,It,Cl).call(this));return}if(d(this,Ks)){const s=d(this,Ks);y(this,Ks,null),this._uiManager.enableWaiting(!0),y(this,$i,this._uiManager.imageManager.getFromUrl(s).then(r=>w(this,It,_l).call(this,r)).finally(()=>w(this,It,Cl).call(this)));return}if(d(this,ji)){const s=d(this,ji);y(this,ji,null),this._uiManager.enableWaiting(!0),y(this,$i,this._uiManager.imageManager.getFromFile(s).then(r=>w(this,It,_l).call(this,r)).finally(()=>w(this,It,Cl).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=Il.supportedTypesStr;const n=this._uiManager._signal;y(this,$i,new Promise(s=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(e.files[0]);w(this,It,_l).call(this,r)}s()},{signal:n}),e.addEventListener("cancel",()=>{this.remove(),s()},{signal:n})}).finally(()=>w(this,It,Cl).call(this))),e.click()},sg=function(){const{div:e}=this;let{width:n,height:s}=d(this,ke);const[r,a]=this.pageDimensions,o=.75;if(this.width)n=this.width*r,s=this.height*a;else if(n>o*r||s>o*a){const u=Math.min(o*r/n,o*a/s);n*=u,s*=u}const[l,c]=this.parentDimensions;this.setDims(n*l/r,s*c/a),this._uiManager.enableWaiting(!1);const h=y(this,os,document.createElement("canvas"));e.append(h),e.hidden=!1,w(this,It,ig).call(this,n,s),w(this,It,nA).call(this),d(this,vd)||(this.parent.addUndoableEditor(this),y(this,vd,!0)),this._reportTelemetry({action:"inserted_image"}),d(this,Bo)&&h.setAttribute("aria-label",d(this,Bo))},tA=function(e,n){var o;const[s,r]=this.parentDimensions;this.width=e/s,this.height=n/r,this.setDims(e,n),(o=this._initialOptions)!=null&&o.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,d(this,ls)!==null&&clearTimeout(d(this,ls)),y(this,ls,setTimeout(()=>{y(this,ls,null),w(this,It,ig).call(this,e,n)},200))},eA=function(e,n){const{width:s,height:r}=d(this,ke);let a=s,o=r,l=d(this,ke);for(;a>2*e||o>2*n;){const c=a,h=o;a>2*e&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*n&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const u=new OffscreenCanvas(a,o);u.getContext("2d").drawImage(l,0,0,c,h,0,0,a,o),l=u.transferToImageBitmap()}return l},ig=function(e,n){e=Math.ceil(e),n=Math.ceil(n);const s=d(this,os);if(!s||s.width===e&&s.height===n)return;s.width=e,s.height=n;const r=d(this,Wn)?d(this,ke):w(this,It,eA).call(this,e,n);if(this._uiManager.hasMLManager&&!this.hasAltText()){const l=new OffscreenCanvas(e,n).getContext("2d");l.drawImage(r,0,0,r.width,r.height,0,0,e,n),this._uiManager.mlGuess({service:"image-to-text",request:{data:l.getImageData(0,0,e,n).data,width:e,height:n,channels:4}}).then(c=>{const h=(c==null?void 0:c.output)||"";this.parent&&h&&!this.hasAltText()&&(this.altTextData={altText:h,decorative:!1})})}const a=s.getContext("2d");a.filter=this._uiManager.hcmFilter,a.drawImage(r,0,0,r.width,r.height,0,0,e,n)},Th=function(e){if(e){if(d(this,Wn)){const r=this._uiManager.imageManager.getSvgUrl(d(this,_e));if(r)return r}const n=document.createElement("canvas");return{width:n.width,height:n.height}=d(this,ke),n.getContext("2d").drawImage(d(this,ke),0,0),n.toDataURL()}if(d(this,Wn)){const[n,s]=this.pageDimensions,r=Math.round(this.width*n*Zi.PDF_TO_CSS_UNITS),a=Math.round(this.height*s*Zi.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(r,a);return o.getContext("2d").drawImage(d(this,ke),0,0,d(this,ke).width,d(this,ke).height,0,0,r,a),o.transferToImageBitmap()}return structuredClone(d(this,ke))},nA=function(){this._uiManager._signal&&(y(this,Js,new ResizeObserver(e=>{const n=e[0].contentRect;n.width&&n.height&&w(this,It,tA).call(this,n.width,n.height)})),d(this,Js).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=d(this,Js))==null||e.disconnect(),y(this,Js,null)},{once:!0}))},pt(Il,"_type","stamp"),pt(Il,"_editorType",Pt.STAMP);let ng=Il;var ua,$o,cs,fa,Qs,Zs,ti,hn,Ui,jo,Uo,$e,rt,Wi,Ce,sA,ag,og,lg,Ph;const Pn=class Pn{constructor({uiManager:t,pageIndex:e,div:n,accessibilityManager:s,annotationLayer:r,drawLayer:a,textLayer:o,viewport:l,l10n:c}){x(this,Ce);x(this,ua);x(this,$o,!1);x(this,cs,null);x(this,fa,null);x(this,Qs,null);x(this,Zs,null);x(this,ti,null);x(this,hn,new Map);x(this,Ui,!1);x(this,jo,!1);x(this,Uo,!1);x(this,$e,null);x(this,rt);const h=[...d(Pn,Wi).values()];if(!Pn._initialized){Pn._initialized=!0;for(const u of h)u.initialize(c,t)}t.registerEditorTypes(h),y(this,rt,t),this.pageIndex=e,this.div=n,y(this,ua,s),y(this,cs,r),this.viewport=l,y(this,$e,o),this.drawLayer=a,d(this,rt).addLayer(this)}get isEmpty(){return d(this,hn).size===0}get isInvisible(){return this.isEmpty&&d(this,rt).getMode()===Pt.NONE}updateToolbar(t){d(this,rt).updateToolbar(t)}updateMode(t=d(this,rt).getMode()){switch(w(this,Ce,Ph).call(this),t){case Pt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Pt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Pt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const n of d(Pn,Wi).values())e.toggle(`${n._type}Editing`,t===n._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=d(this,$e))==null?void 0:e.div)}addInkEditorIfNeeded(t){if(d(this,rt).getMode()!==Pt.INK)return;if(!t){for(const n of d(this,hn).values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){d(this,rt).setEditingState(t)}addCommands(t){d(this,rt).addCommands(t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=d(this,cs))==null||e.div.classList.toggle("disabled",!t)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const n of d(this,hn).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(d(this,rt).removeChangedExistingAnnotation(n),t.add(n.annotationElementId));if(!d(this,cs))return;const e=d(this,cs).getEditableAnnotations();for(const n of e){if(n.hide(),d(this,rt).isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const s=this.deserialize(n);s&&(this.addOrRebuild(s),s.enableEditing())}}disable(){var s;y(this,Uo,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const r of d(this,hn).values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){t.set(r.annotationElementId,r);continue}else e.set(r.annotationElementId,r);(s=this.getEditableAnnotation(r.annotationElementId))==null||s.show(),r.remove()}if(d(this,cs)){const r=d(this,cs).getEditableAnnotations();for(const a of r){const{id:o}=a.data;if(d(this,rt).isDeletedAnnotationElement(o))continue;let l=e.get(o);if(l){l.resetAnnotationElement(a),l.show(!1),a.show();continue}l=t.get(o),l&&(d(this,rt).addChangedExistingAnnotation(l),l.renderAnnotationElement(a),l.show(!1)),a.show()}}w(this,Ce,Ph).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const r of d(Pn,Wi).values())n.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),y(this,Uo,!1)}getEditableAnnotation(t){var e;return((e=d(this,cs))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){d(this,rt).getActive()!==t&&d(this,rt).setActiveEditor(t)}enableTextSelection(){var t;this.div.tabIndex=-1,(t=d(this,$e))!=null&&t.div&&!d(this,Zs)&&(y(this,Zs,w(this,Ce,sA).bind(this)),d(this,$e).div.addEventListener("pointerdown",d(this,Zs),{signal:d(this,rt)._signal}),d(this,$e).div.classList.add("highlighting"))}disableTextSelection(){var t;this.div.tabIndex=0,(t=d(this,$e))!=null&&t.div&&d(this,Zs)&&(d(this,$e).div.removeEventListener("pointerdown",d(this,Zs)),y(this,Zs,null),d(this,$e).div.classList.remove("highlighting"))}enableClick(){if(d(this,Qs))return;const t=d(this,rt)._signal;y(this,Qs,this.pointerdown.bind(this)),y(this,fa,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",d(this,Qs),{signal:t}),this.div.addEventListener("pointerup",d(this,fa),{signal:t})}disableClick(){d(this,Qs)&&(this.div.removeEventListener("pointerdown",d(this,Qs)),this.div.removeEventListener("pointerup",d(this,fa)),y(this,Qs,null),y(this,fa,null))}attach(t){d(this,hn).set(t.id,t);const{annotationElementId:e}=t;e&&d(this,rt).isDeletedAnnotationElement(e)&&d(this,rt).removeDeletedAnnotationElement(t)}detach(t){var e;d(this,hn).delete(t.id),(e=d(this,ua))==null||e.removePointerInTextLayer(t.contentDiv),!d(this,Uo)&&t.annotationElementId&&d(this,rt).addDeletedAnnotationElement(t)}remove(t){this.detach(t),d(this,rt).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,d(this,jo)||this.addInkEditorIfNeeded(!1)}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(d(this,rt).addDeletedAnnotationElement(t.annotationElementId),Ht.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),d(this,rt).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),d(this,rt).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var n;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!d(this,ti)&&(t._focusEventsAllowed=!1,y(this,ti,setTimeout(()=>{y(this,ti,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:d(this,rt)._signal}),e.focus())},0))),t._structTreeParentId=(n=d(this,ua))==null?void 0:n.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getNextId(){return d(this,rt).getId()}get _signal(){return d(this,rt)._signal}canCreateNewEmptyEditor(){var t;return(t=d(this,Ce,ag))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){d(this,rt).updateToolbar(t),d(this,rt).updateMode(t);const{offsetX:n,offsetY:s}=w(this,Ce,lg).call(this),r=this.getNextId(),a=w(this,Ce,og).call(this,{parent:this,id:r,x:n,y:s,uiManager:d(this,rt),isCentered:!0,...e});a&&this.add(a)}deserialize(t){var e;return((e=d(Pn,Wi).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,d(this,rt)))||null}createAndAddNewEditor(t,e,n={}){const s=this.getNextId(),r=w(this,Ce,og).call(this,{parent:this,id:s,x:t.offsetX,y:t.offsetY,uiManager:d(this,rt),isCentered:e,...n});return r&&this.add(r),r}addNewEditor(){this.createAndAddNewEditor(w(this,Ce,lg).call(this),!0)}setSelected(t){d(this,rt).setSelected(t)}toggleSelected(t){d(this,rt).toggleSelected(t)}isSelected(t){return d(this,rt).isSelected(t)}unselect(t){d(this,rt).unselect(t)}pointerup(t){const{isMac:e}=Ke.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&d(this,Ui)){if(y(this,Ui,!1),!d(this,$o)){y(this,$o,!0);return}if(d(this,rt).getMode()===Pt.STAMP){d(this,rt).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(d(this,rt).getMode()===Pt.HIGHLIGHT&&this.enableTextSelection(),d(this,Ui)){y(this,Ui,!1);return}const{isMac:e}=Ke.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;y(this,Ui,!0);const n=d(this,rt).getActive();y(this,$o,!n||n.isEmpty())}findNewParent(t,e,n){const s=d(this,rt).findParent(e,n);return s===null||s===this?!1:(s.changeParent(t),!0)}destroy(){var t,e;((t=d(this,rt).getActive())==null?void 0:t.parent)===this&&(d(this,rt).commitOrRemove(),d(this,rt).setActiveEditor(null)),d(this,ti)&&(clearTimeout(d(this,ti)),y(this,ti,null));for(const n of d(this,hn).values())(e=d(this,ua))==null||e.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,d(this,hn).clear(),d(this,rt).removeLayer(this)}render({viewport:t}){this.viewport=t,ya(this.div,t);for(const e of d(this,rt).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){d(this,rt).commitOrRemove(),w(this,Ce,Ph).call(this);const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,ya(this.div,{rotation:n}),e!==n)for(const s of d(this,hn).values())s.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return d(this,rt).viewParameters.realScale}};ua=new WeakMap,$o=new WeakMap,cs=new WeakMap,fa=new WeakMap,Qs=new WeakMap,Zs=new WeakMap,ti=new WeakMap,hn=new WeakMap,Ui=new WeakMap,jo=new WeakMap,Uo=new WeakMap,$e=new WeakMap,rt=new WeakMap,Wi=new WeakMap,Ce=new WeakSet,sA=function(t){if(d(this,rt).unselectAll(),t.target===d(this,$e).div){const{isMac:e}=Ke.platform;if(t.button!==0||t.ctrlKey&&e)return;d(this,rt).showAllEditors("highlight",!0,!0),d(this,$e).div.classList.add("free"),Kh.startHighlighting(this,d(this,rt).direction==="ltr",t),d(this,$e).div.addEventListener("pointerup",()=>{d(this,$e).div.classList.remove("free")},{once:!0,signal:d(this,rt)._signal}),t.preventDefault()}},ag=function(){return d(Pn,Wi).get(d(this,rt).getMode())},og=function(t){const e=d(this,Ce,ag);return e?new e.prototype.constructor(t):null},lg=function(){const{x:t,y:e,width:n,height:s}=this.div.getBoundingClientRect(),r=Math.max(0,t),a=Math.max(0,e),o=Math.min(window.innerWidth,t+n),l=Math.min(window.innerHeight,e+s),c=(r+o)/2-t,h=(a+l)/2-e,[u,f]=this.viewport.rotation%180===0?[c,h]:[h,c];return{offsetX:u,offsetY:f}},Ph=function(){y(this,jo,!0);for(const t of d(this,hn).values())t.isEmpty()&&t.remove();y(this,jo,!1)},pt(Pn,"_initialized",!1),x(Pn,Wi,new Map([zp,Yp,ng,Kh].map(t=>[t._editorType,t])));let rg=Pn;var ds,bd,fe,Vi,yd,dg,Sa,hg,iA;const we=class we{constructor({pageIndex:t}){x(this,Sa);x(this,ds,null);x(this,bd,0);x(this,fe,new Map);x(this,Vi,new Map);this.pageIndex=t}setParent(t){if(!d(this,ds)){y(this,ds,t);return}if(d(this,ds)!==t){if(d(this,fe).size>0)for(const e of d(this,fe).values())e.remove(),t.append(e);y(this,ds,t)}}static get _svgFactory(){return Mt(this,"_svgFactory",new qg)}highlight(t,e,n,s=!1){const r=tn(this,bd)._++,a=w(this,Sa,hg).call(this,t.box);a.classList.add("highlight"),t.free&&a.classList.add("free");const o=we._svgFactory.createElement("defs");a.append(o);const l=we._svgFactory.createElement("path");o.append(l);const c=`path_p${this.pageIndex}_${r}`;l.setAttribute("id",c),l.setAttribute("d",t.toSVGPath()),s&&d(this,Vi).set(r,l);const h=w(this,Sa,iA).call(this,o,c),u=we._svgFactory.createElement("use");return a.append(u),a.setAttribute("fill",e),a.setAttribute("fill-opacity",n),u.setAttribute("href",`#${c}`),d(this,fe).set(r,a),{id:r,clipPathId:`url(#${h})`}}highlightOutline(t){const e=tn(this,bd)._++,n=w(this,Sa,hg).call(this,t.box);n.classList.add("highlightOutline");const s=we._svgFactory.createElement("defs");n.append(s);const r=we._svgFactory.createElement("path");s.append(r);const a=`path_p${this.pageIndex}_${e}`;r.setAttribute("id",a),r.setAttribute("d",t.toSVGPath()),r.setAttribute("vector-effect","non-scaling-stroke");let o;if(t.free){n.classList.add("free");const h=we._svgFactory.createElement("mask");s.append(h),o=`mask_p${this.pageIndex}_${e}`,h.setAttribute("id",o),h.setAttribute("maskUnits","objectBoundingBox");const u=we._svgFactory.createElement("rect");h.append(u),u.setAttribute("width","1"),u.setAttribute("height","1"),u.setAttribute("fill","white");const f=we._svgFactory.createElement("use");h.append(f),f.setAttribute("href",`#${a}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const l=we._svgFactory.createElement("use");n.append(l),l.setAttribute("href",`#${a}`),o&&l.setAttribute("mask",`url(#${o})`);const c=l.cloneNode();return n.append(c),l.classList.add("mainOutline"),c.classList.add("secondaryOutline"),d(this,fe).set(e,n),e}finalizeLine(t,e){const n=d(this,Vi).get(t);d(this,Vi).delete(t),this.updateBox(t,e.box),n.setAttribute("d",e.toSVGPath())}updateLine(t,e){d(this,fe).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}removeFreeHighlight(t){this.remove(t),d(this,Vi).delete(t)}updatePath(t,e){d(this,Vi).get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){var n;w(n=we,yd,dg).call(n,d(this,fe).get(t),e)}show(t,e){d(this,fe).get(t).classList.toggle("hidden",!e)}rotate(t,e){d(this,fe).get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){d(this,fe).get(t).setAttribute("fill",e)}changeOpacity(t,e){d(this,fe).get(t).setAttribute("fill-opacity",e)}addClass(t,e){d(this,fe).get(t).classList.add(e)}removeClass(t,e){d(this,fe).get(t).classList.remove(e)}remove(t){d(this,ds)!==null&&(d(this,fe).get(t).remove(),d(this,fe).delete(t))}destroy(){y(this,ds,null);for(const t of d(this,fe).values())t.remove();d(this,fe).clear()}};ds=new WeakMap,bd=new WeakMap,fe=new WeakMap,Vi=new WeakMap,yd=new WeakSet,dg=function(t,{x:e=0,y:n=0,width:s=1,height:r=1}={}){const{style:a}=t;a.top=`${100*n}%`,a.left=`${100*e}%`,a.width=`${100*s}%`,a.height=`${100*r}%`},Sa=new WeakSet,hg=function(t){var n;const e=we._svgFactory.create(1,1,!0);return d(this,ds).append(e),e.setAttribute("aria-hidden",!0),w(n=we,yd,dg).call(n,e,t),e},iA=function(t,e){const n=we._svgFactory.createElement("clipPath");t.append(n);const s=`clip_${e}`;n.setAttribute("id",s),n.setAttribute("clipPathUnits","objectBoundingBox");const r=we._svgFactory.createElement("use");return n.append(r),r.setAttribute("href",`#${e}`),r.classList.add("clip"),s},x(we,yd);let cg=we;var TT=ut.AbortException,PT=ut.AnnotationEditorLayer,LT=ut.AnnotationEditorParamsType,MT=ut.AnnotationEditorType,IT=ut.AnnotationEditorUIManager,rA=ut.AnnotationLayer,aA=ut.AnnotationMode,OT=ut.CMapCompressionType,NT=ut.ColorPicker,DT=ut.DOMSVGFactory,FT=ut.DrawLayer,zT=ut.FeatureTest,tm=ut.GlobalWorkerOptions,HT=ut.ImageKind,BT=ut.InvalidPDFException,$T=ut.MissingPDFException,jT=ut.OPS,UT=ut.Outliner,WT=ut.PDFDataRangeTransport,VT=ut.PDFDateString,qT=ut.PDFWorker,GT=ut.PasswordResponses,XT=ut.PermissionFlag,YT=ut.PixelsPerInch,KT=ut.RenderingCancelledException,oA=ut.TextLayer,JT=ut.UnexpectedResponseException,QT=ut.Util,ZT=ut.VerbosityLevel,tP=ut.XfaLayer,eP=ut.build,nP=ut.createValidAbsoluteUrl,sP=ut.fetchData,lA=ut.getDocument,iP=ut.getFilenameFromUrl,rP=ut.getPdfFilenameFromUrl,aP=ut.getXfaPageViewport,oP=ut.isDataScheme,lP=ut.isPdfFile,cP=ut.noContextMenu,dP=ut.normalizeUnicode,hP=ut.renderTextLayer,uP=ut.setLayerDimensions,fP=ut.shadow,pP=ut.updateTextLayer,cA=ut.version;const gP=Object.freeze(Object.defineProperty({__proto__:null,AbortException:TT,AnnotationEditorLayer:PT,AnnotationEditorParamsType:LT,AnnotationEditorType:MT,AnnotationEditorUIManager:IT,AnnotationLayer:rA,AnnotationMode:aA,CMapCompressionType:OT,ColorPicker:NT,DOMSVGFactory:DT,DrawLayer:FT,FeatureTest:zT,GlobalWorkerOptions:tm,ImageKind:HT,InvalidPDFException:BT,MissingPDFException:$T,OPS:jT,Outliner:UT,PDFDataRangeTransport:WT,PDFDateString:VT,PDFWorker:qT,PasswordResponses:GT,PermissionFlag:XT,PixelsPerInch:YT,RenderingCancelledException:KT,TextLayer:oA,UnexpectedResponseException:JT,Util:QT,VerbosityLevel:ZT,XfaLayer:tP,build:eP,createValidAbsoluteUrl:nP,fetchData:sP,getDocument:lA,getFilenameFromUrl:iP,getPdfFilenameFromUrl:rP,getXfaPageViewport:aP,isDataScheme:oP,isPdfFile:lP,noContextMenu:cP,normalizeUnicode:dP,renderTextLayer:hP,setLayerDimensions:uP,shadow:fP,updateTextLayer:pP,version:cA},Symbol.toStringTag,{value:"Module"}));var ve=function(i,t,e){if(e||arguments.length===2)for(var n=0,s=t.length,r;n<s;n++)(r||!(n in t))&&(r||(r=Array.prototype.slice.call(t,0,n)),r[n]=t[n]);return i.concat(r||Array.prototype.slice.call(t))},mP=["onCopy","onCut","onPaste"],vP=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],bP=["onFocus","onBlur"],yP=["onInput","onInvalid","onReset","onSubmit"],wP=["onLoad","onError"],AP=["onKeyDown","onKeyPress","onKeyUp"],xP=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],EP=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],SP=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],kP=["onSelect"],_P=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],CP=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],RP=["onScroll"],TP=["onWheel"],PP=["onAnimationStart","onAnimationEnd","onAnimationIteration"],LP=["onTransitionEnd"],MP=["onToggle"],IP=["onChange"],OP=ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve([],mP,!0),vP,!0),bP,!0),yP,!0),wP,!0),AP,!0),xP,!0),EP,!0),SP,!0),kP,!0),_P,!0),CP,!0),RP,!0),TP,!0),PP,!0),LP,!0),IP,!0),MP,!0);function dA(i,t){var e={};return OP.forEach(function(n){var s=i[n];s&&(t?e[n]=function(r){return s(r,t(n))}:e[n]=s)}),e}function Rd(i){var t=!1,e=new Promise(function(n,s){i.then(function(r){return!t&&n(r)}).catch(function(r){return!t&&s(r)})});return{promise:e,cancel:function(){t=!0}}}var NP="Invariant failed";function Vt(i,t){if(!i)throw new Error(NP)}var vf,Yv;function DP(){if(Yv)return vf;Yv=1;var i=function(){};return vf=i,vf}var FP=DP();const Ne=lb(FP);var Kv=Object.prototype.hasOwnProperty;function Jv(i,t,e){for(e of i.keys())if(qa(e,t))return e}function qa(i,t){var e,n,s;if(i===t)return!0;if(i&&t&&(e=i.constructor)===t.constructor){if(e===Date)return i.getTime()===t.getTime();if(e===RegExp)return i.toString()===t.toString();if(e===Array){if((n=i.length)===t.length)for(;n--&&qa(i[n],t[n]););return n===-1}if(e===Set){if(i.size!==t.size)return!1;for(n of i)if(s=n,s&&typeof s=="object"&&(s=Jv(t,s),!s)||!t.has(s))return!1;return!0}if(e===Map){if(i.size!==t.size)return!1;for(n of i)if(s=n[0],s&&typeof s=="object"&&(s=Jv(t,s),!s)||!qa(n[1],t.get(s)))return!1;return!0}if(e===ArrayBuffer)i=new Uint8Array(i),t=new Uint8Array(t);else if(e===DataView){if((n=i.byteLength)===t.byteLength)for(;n--&&i.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(i)){if((n=i.byteLength)===t.byteLength)for(;n--&&i[n]===t[n];);return n===-1}if(!e||typeof i=="object"){n=0;for(e in i)if(Kv.call(i,e)&&++n&&!Kv.call(t,e)||!(e in t)||!qa(i[e],t[e]))return!1;return Object.keys(t).length===n}}return i!==i&&t!==t}const hA=R.createContext(null);function Ga({children:i,type:t}){return q.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:i})}const zP="noopener noreferrer nofollow";class HP{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Vt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){Vt(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{Vt(this.pdfDocument),Vt(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{Vt(Array.isArray(e));const n=e[0];new Promise(s=>{Vt(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(r=>{s(r)}).catch(()=>{Vt(!1)}):typeof n=="number"?s(n):Vt(!1)}).then(s=>{const r=s+1;Vt(this.pdfViewer),Vt(r>=1&&r<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:s,pageNumber:r})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;Vt(this.pdfViewer),Vt(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,n){t.href=e,t.rel=this.externalLinkRel||zP,t.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const Qv={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Hu=typeof window<"u",uA=Hu&&window.location.protocol==="file:";function BP(i){return typeof i<"u"}function hr(i){return BP(i)&&i!==null}function $P(i){return typeof i=="string"}function jP(i){return i instanceof ArrayBuffer}function UP(i){return Vt(Hu),i instanceof Blob}function ug(i){return $P(i)&&/^data:/.test(i)}function Zv(i){Vt(ug(i));const[t="",e=""]=i.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function WP(){return Hu&&window.devicePixelRatio||1}const fA="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function tb(){Ne(!uA,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${fA}`)}function VP(){Ne(!uA,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${fA}`)}function xa(i){i!=null&&i.cancel&&i.cancel()}function fg(i,t){return Object.defineProperty(i,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(i,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(i,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(i,"originalHeight",{get(){return this.view[3]},configurable:!0}),i}function qP(i){return i.name==="RenderingCancelledException"}function GP(i){return new Promise((t,e)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return e(new Error("Error while reading a file."));t(n.result)},n.onerror=s=>{if(!s.target)return e(new Error("Error while reading a file."));const{error:r}=s.target;if(!r)return e(new Error("Error while reading a file."));switch(r.code){case r.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case r.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case r.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},n.readAsArrayBuffer(i)})}function XP(i,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return i}}function Go(){return R.useReducer(XP,{value:void 0,error:void 0})}var YP=function(i,t,e,n){function s(r){return r instanceof e?r:new e(function(a){a(r)})}return new(e||(e=Promise))(function(r,a){function o(h){try{c(n.next(h))}catch(u){a(u)}}function l(h){try{c(n.throw(h))}catch(u){a(u)}}function c(h){h.done?r(h.value):s(h.value).then(o,l)}c((n=n.apply(i,t||[])).next())})},eb=function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};const{PDFDataRangeTransport:KP}=gP,JP=(i,t)=>{switch(t){case Qv.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");i(e);break}case Qv.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");i(e);break}}};function nb(i){return typeof i=="object"&&i!==null&&("data"in i||"range"in i||"url"in i)}const QP=R.forwardRef(function(t,e){var{children:n,className:s,error:r="Failed to load PDF file.",externalLinkRel:a,externalLinkTarget:o,file:l,inputRef:c,imageResourcesPath:h,loading:u="Loading PDF",noData:f="No PDF file specified.",onItemClick:p,onLoadError:m,onLoadProgress:g,onLoadSuccess:b,onPassword:v=JP,onSourceError:A,onSourceSuccess:E,options:k,renderMode:S,rotate:_}=t,L=eb(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[P,M]=Go(),{value:C,error:I}=P,[F,z]=Go(),{value:H,error:W}=F,j=R.useRef(new HP),D=R.useRef([]),N=R.useRef(void 0),ot=R.useRef(void 0);l&&l!==N.current&&nb(l)&&(Ne(!qa(l,N.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),N.current=l),k&&k!==ot.current&&(Ne(!qa(k,ot.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),ot.current=k);const lt=R.useRef({scrollPageIntoView:K=>{const{dest:ht,pageNumber:St,pageIndex:xt=St-1}=K;if(p){p({dest:ht,pageIndex:xt,pageNumber:St});return}const ee=D.current[xt];if(ee){ee.scrollIntoView();return}Ne(!1,`An internal link leading to page ${St} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});R.useImperativeHandle(e,()=>({linkService:j,pages:D,viewer:lt}),[]);function Rt(){E&&E()}function At(){I&&(Ne(!1,I.toString()),A&&A(I))}function nt(){M({type:"RESET"})}R.useEffect(nt,[l,M]);const mt=R.useCallback(()=>YP(this,void 0,void 0,function*(){if(!l)return null;if(typeof l=="string")return ug(l)?{data:Zv(l)}:(tb(),{url:l});if(l instanceof KP)return{range:l};if(jP(l))return{data:l};if(Hu&&UP(l))return{data:yield GP(l)};if(Vt(typeof l=="object"),Vt(nb(l)),"url"in l&&typeof l.url=="string"){if(ug(l.url)){const{url:K}=l,ht=eb(l,["url"]),St=Zv(K);return Object.assign({data:St},ht)}tb()}return l}),[l]);R.useEffect(()=>{const K=Rd(mt());return K.promise.then(ht=>{M({type:"RESOLVE",value:ht})}).catch(ht=>{M({type:"REJECT",error:ht})}),()=>{xa(K)}},[mt,M]),R.useEffect(()=>{if(!(typeof C>"u")){if(C===!1){At();return}Rt()}},[C]);function Dt(){H&&(b&&b(H),D.current=new Array(H.numPages),j.current.setDocument(H))}function Ot(){W&&(Ne(!1,W.toString()),m&&m(W))}R.useEffect(function(){z({type:"RESET"})},[z,C]),R.useEffect(function(){if(!C)return;const ht=k?Object.assign(Object.assign({},C),k):C,St=lA(ht);g&&(St.onProgress=g),v&&(St.onPassword=v);const xt=St,ee=xt.promise.then(ie=>{z({type:"RESOLVE",value:ie})}).catch(ie=>{xt.destroyed||z({type:"REJECT",error:ie})});return()=>{ee.finally(()=>xt.destroy())}},[k,z,C]),R.useEffect(()=>{if(!(typeof H>"u")){if(H===!1){Ot();return}Dt()}},[H]),R.useEffect(function(){j.current.setViewer(lt.current),j.current.setExternalLinkRel(a),j.current.setExternalLinkTarget(o)},[a,o]);const Q=R.useCallback((K,ht)=>{D.current[K]=ht},[]),vt=R.useCallback(K=>{delete D.current[K]},[]),Lt=R.useMemo(()=>({imageResourcesPath:h,linkService:j.current,onItemClick:p,pdf:H,registerPage:Q,renderMode:S,rotate:_,unregisterPage:vt}),[h,p,H,Q,S,_,vt]),ft=R.useMemo(()=>dA(L,()=>H),[L,H]);function bt(){return q.jsx(hA.Provider,{value:Lt,children:n})}function G(){return l?H==null?q.jsx(Ga,{type:"loading",children:typeof u=="function"?u():u}):H===!1?q.jsx(Ga,{type:"error",children:typeof r=="function"?r():r}):bt():q.jsx(Ga,{type:"no-data",children:typeof f=="function"?f():f})}return q.jsx("div",Object.assign({className:Ko("react-pdf__Document",s),ref:c,style:{"--scale-factor":"1"}},ft,{children:G()}))});function pA(){return R.useContext(hA)}function gA(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];var e=i.filter(Boolean);if(e.length<=1){var n=e[0];return n||null}return function(r){e.forEach(function(a){typeof a=="function"?a(r):a&&(a.current=r)})}}const mA=R.createContext(null),vA={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},ZP=/^H(\d+)$/;function tL(i){return i in vA}function Bu(i){return"children"in i}function bA(i){return Bu(i)?i.children.length===1&&0 in i.children&&"id"in i.children[0]:!1}function eL(i){const t={};if(Bu(i)){const{role:e}=i,n=e.match(ZP);if(n)t.role="heading",t["aria-level"]=Number(n[1]);else if(tL(e)){const s=vA[e];s&&(t.role=s)}}return t}function yA(i){const t={};if(Bu(i)){if(i.alt!==void 0&&(t["aria-label"]=i.alt),i.lang!==void 0&&(t.lang=i.lang),bA(i)){const[e]=i.children;if(e){const n=yA(e);return Object.assign(Object.assign({},t),n)}}}else"id"in i&&(t["aria-owns"]=i.id);return t}function nL(i){return i?Object.assign(Object.assign({},eL(i)),yA(i)):null}function wA({className:i,node:t}){const e=R.useMemo(()=>nL(t),[t]),n=R.useMemo(()=>!Bu(t)||bA(t)?null:t.children.map((s,r)=>q.jsx(wA,{node:s},r)),[t]);return q.jsx("span",Object.assign({className:i},e,{children:n}))}function $u(){return R.useContext(mA)}function sL(){const i=$u();Vt(i);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=i,[n,s]=Go(),{value:r,error:a}=n,{customTextRenderer:o,page:l}=i;function c(){r&&e&&e(r)}function h(){a&&(Ne(!1,a.toString()),t&&t(a))}return R.useEffect(function(){s({type:"RESET"})},[s,l]),R.useEffect(function(){if(o||!l)return;const f=Rd(l.getStructTree()),p=f;return f.promise.then(m=>{s({type:"RESOLVE",value:m})}).catch(m=>{s({type:"REJECT",error:m})}),()=>xa(p)},[o,l,s]),R.useEffect(()=>{if(r!==void 0){if(r===!1){h();return}c()}},[r]),r?q.jsx(wA,{className:"react-pdf__Page__structTree structTree",node:r}):null}const sb=aA;function iL(i){const t=$u();Vt(t);const e=Object.assign(Object.assign({},t),i),{_className:n,canvasBackground:s,devicePixelRatio:r=WP(),onRenderError:a,onRenderSuccess:o,page:l,renderForms:c,renderTextLayer:h,rotate:u,scale:f}=e,{canvasRef:p}=i;Vt(l);const m=R.useRef(null);function g(){l&&o&&o(fg(l,f))}function b(k){qP(k)||(Ne(!1,k.toString()),a&&a(k))}const v=R.useMemo(()=>l.getViewport({scale:f*r,rotation:u}),[r,l,u,f]),A=R.useMemo(()=>l.getViewport({scale:f,rotation:u}),[l,u,f]);R.useEffect(function(){if(!l)return;l.cleanup();const{current:S}=m;if(!S)return;S.width=v.width,S.height=v.height,S.style.width=`${Math.floor(A.width)}px`,S.style.height=`${Math.floor(A.height)}px`,S.style.visibility="hidden";const _={annotationMode:c?sb.ENABLE_FORMS:sb.ENABLE,canvasContext:S.getContext("2d",{alpha:!1}),viewport:v};s&&(_.background=s);const L=l.render(_),P=L;return L.promise.then(()=>{S.style.visibility="",g()}).catch(b),()=>xa(P)},[s,l,c,v,A]);const E=R.useCallback(()=>{const{current:k}=m;k&&(k.width=0,k.height=0)},[]);return R.useEffect(()=>E,[E]),q.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:gA(p,m),style:{display:"block",userSelect:"none"},children:h?q.jsx(sL,{}):null})}function rL(i){return"str"in i}function aL(){const i=$u();Vt(i);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:n,onRenderTextLayerError:s,onRenderTextLayerSuccess:r,page:a,pageIndex:o,pageNumber:l,rotate:c,scale:h}=i;Vt(a);const[u,f]=Go(),{value:p,error:m}=u,g=R.useRef(null),b=R.useRef(void 0);Ne(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function v(){p&&n&&n(p)}function A(){m&&(Ne(!1,m.toString()),e&&e(m))}R.useEffect(function(){f({type:"RESET"})},[a,f]),R.useEffect(function(){if(!a)return;const M=Rd(a.getTextContent()),C=M;return M.promise.then(I=>{f({type:"RESOLVE",value:I})}).catch(I=>{f({type:"REJECT",error:I})}),()=>xa(C)},[a,f]),R.useEffect(()=>{if(p!==void 0){if(p===!1){A();return}v()}},[p]);const E=R.useCallback(()=>{r&&r()},[r]),k=R.useCallback(P=>{Ne(!1,P.toString()),s&&s(P)},[s]);function S(){const P=b.current;P&&P.classList.add("active")}function _(){const P=b.current;P&&P.classList.remove("active")}const L=R.useMemo(()=>a.getViewport({scale:h,rotation:c}),[a,c,h]);return R.useLayoutEffect(function(){if(!a||!p)return;const{current:M}=g;if(!M)return;M.innerHTML="";const C=a.streamTextContent({includeMarkedContent:!0}),I={container:M,textContentSource:C,viewport:L},F=new oA(I),z=F;return F.render().then(()=>{const H=document.createElement("div");H.className="endOfContent",M.append(H),b.current=H;const W=M.querySelectorAll('[role="presentation"]');if(t){let j=0;p.items.forEach((D,N)=>{if(!rL(D))return;const ot=W[j];if(!ot)return;const lt=t(Object.assign({pageIndex:o,pageNumber:l,itemIndex:N},D));ot.innerHTML=lt,j+=D.str&&D.hasEOL?2:1})}E()}).catch(k),()=>xa(z)},[t,k,E,a,o,l,p,L]),q.jsx("div",{className:Ko("react-pdf__Page__textContent","textLayer"),onMouseUp:_,onMouseDown:S,ref:g})}function oL(){const i=pA(),t=$u();Vt(t);const e=Object.assign(Object.assign({},i),t),{imageResourcesPath:n,linkService:s,onGetAnnotationsError:r,onGetAnnotationsSuccess:a,onRenderAnnotationLayerError:o,onRenderAnnotationLayerSuccess:l,page:c,pdf:h,renderForms:u,rotate:f,scale:p=1}=e;Vt(h),Vt(c),Vt(s);const[m,g]=Go(),{value:b,error:v}=m,A=R.useRef(null);Ne(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function E(){b&&a&&a(b)}function k(){v&&(Ne(!1,v.toString()),r&&r(v))}R.useEffect(function(){g({type:"RESET"})},[g,c]),R.useEffect(function(){if(!c)return;const M=Rd(c.getAnnotations()),C=M;return M.promise.then(I=>{g({type:"RESOLVE",value:I})}).catch(I=>{g({type:"REJECT",error:I})}),()=>{xa(C)}},[g,c]),R.useEffect(()=>{if(b!==void 0){if(b===!1){k();return}E()}},[b]);function S(){l&&l()}function _(P){Ne(!1,`${P}`),o&&o(P)}const L=R.useMemo(()=>c.getViewport({scale:p,rotation:f}),[c,f,p]);return R.useEffect(function(){if(!h||!c||!s||!b)return;const{current:M}=A;if(!M)return;const C=L.clone({dontFlip:!0}),I={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:M,l10n:null,page:c,viewport:C},F={annotations:b,annotationStorage:h.annotationStorage,div:M,imageResourcesPath:n,linkService:s,page:c,renderForms:u,viewport:C};M.innerHTML="";try{new rA(I).render(F),S()}catch(z){_(z)}return()=>{}},[b,n,s,c,h,u,L]),q.jsx("div",{className:Ko("react-pdf__Page__annotations","annotationLayer"),ref:A})}var lL=function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};const ib=1;function cL(i){const t=pA(),e=Object.assign(Object.assign({},t),i),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:r,canvasRef:a,children:o,className:l,customRenderer:c,customTextRenderer:h,devicePixelRatio:u,error:f="Failed to load the page.",height:p,inputRef:m,loading:g="Loading page",noData:b="No page specified.",onGetAnnotationsError:v,onGetAnnotationsSuccess:A,onGetStructTreeError:E,onGetStructTreeSuccess:k,onGetTextError:S,onGetTextSuccess:_,onLoadError:L,onLoadSuccess:P,onRenderAnnotationLayerError:M,onRenderAnnotationLayerSuccess:C,onRenderError:I,onRenderSuccess:F,onRenderTextLayerError:z,onRenderTextLayerSuccess:H,pageIndex:W,pageNumber:j,pdf:D,registerPage:N,renderAnnotationLayer:ot=!0,renderForms:lt=!1,renderMode:Rt="canvas",renderTextLayer:At=!0,rotate:nt,scale:mt=ib,unregisterPage:Dt,width:Ot}=e,Q=lL(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[vt,Lt]=Go(),{value:ft,error:bt}=vt,G=R.useRef(null);Vt(D);const K=hr(j)?j-1:W??null,ht=j??(hr(W)?W+1:null),St=nt??(ft?ft.rotate:null),xt=R.useMemo(()=>{if(!ft)return null;let bn=1;const yn=mt??ib;if(Ot||p){const oe=ft.getViewport({scale:1,rotation:St});Ot?bn=Ot/oe.width:p&&(bn=p/oe.height)}return yn*bn},[p,ft,St,mt,Ot]);R.useEffect(function(){return()=>{hr(K)&&s&&Dt&&Dt(K)}},[s,D,K,Dt]);function ee(){if(P){if(!ft||!xt)return;P(fg(ft,xt))}if(s&&N){if(!hr(K)||!G.current)return;N(K,G.current)}}function ie(){bt&&(Ne(!1,bt.toString()),L&&L(bt))}R.useEffect(function(){Lt({type:"RESET"})},[Lt,D,K]),R.useEffect(function(){if(!D||!ht)return;const yn=Rd(D.getPage(ht)),oe=yn;return yn.promise.then(Ve=>{Lt({type:"RESOLVE",value:Ve})}).catch(Ve=>{Lt({type:"REJECT",error:Ve})}),()=>xa(oe)},[Lt,D,ht]),R.useEffect(()=>{if(ft!==void 0){if(ft===!1){ie();return}ee()}},[ft,xt]);const me=R.useMemo(()=>ft&&hr(K)&&ht&&hr(St)&&hr(xt)?{_className:n,canvasBackground:r,customTextRenderer:h,devicePixelRatio:u,onGetAnnotationsError:v,onGetAnnotationsSuccess:A,onGetStructTreeError:E,onGetStructTreeSuccess:k,onGetTextError:S,onGetTextSuccess:_,onRenderAnnotationLayerError:M,onRenderAnnotationLayerSuccess:C,onRenderError:I,onRenderSuccess:F,onRenderTextLayerError:z,onRenderTextLayerSuccess:H,page:ft,pageIndex:K,pageNumber:ht,renderForms:lt,renderTextLayer:At,rotate:St,scale:xt}:null,[n,r,h,u,v,A,E,k,S,_,M,C,I,F,z,H,ft,K,ht,lt,At,St,xt]),vn=R.useMemo(()=>dA(Q,()=>ft&&(xt?fg(ft,xt):void 0)),[Q,ft,xt]),Re=`${K}@${xt}/${St}`;function fi(){switch(Rt){case"custom":return Vt(c),q.jsx(c,{},`${Re}_custom`);case"none":return null;case"canvas":default:return q.jsx(iL,{canvasRef:a},`${Re}_canvas`)}}function pi(){return At?q.jsx(aL,{},`${Re}_text`):null}function gi(){return ot?q.jsx(oL,{},`${Re}_annotations`):null}function rr(){return q.jsxs(mA.Provider,{value:me,children:[fi(),pi(),gi(),o]})}function As(){return ht?D===null||ft===void 0||ft===null?q.jsx(Ga,{type:"loading",children:typeof g=="function"?g():g}):D===!1||ft===!1?q.jsx(Ga,{type:"error",children:typeof f=="function"?f():f}):rr():q.jsx(Ga,{type:"no-data",children:typeof b=="function"?b():b})}return q.jsx("div",Object.assign({className:Ko(n,l),"data-page-number":ht,ref:gA(m,G),style:{"--scale-factor":`${xt}`,backgroundColor:r||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},vn,{children:As()}))}VP();tm.workerSrc="pdf.worker.mjs";tm.workerSrc=`//unpkg.com/pdfjs-dist@${cA}/build/pdf.worker.min.mjs`;function HL({src:i}){const[t,e]=R.useState(),[n,s]=R.useState(1),{width:r}=dS(),a=({numPages:c})=>e(c),o=()=>s(c=>++c),l=()=>s(c=>--c);return q.jsxs(q.Fragment,{children:[q.jsxs("div",{className:"flex flex-row w-full text-center justify-center",children:[q.jsx("button",{onClick:l,disabled:n<=1,className:"p-5",children:q.jsx(CE,{className:n<=1?"hidden":""})}),q.jsx(QP,{file:i,onLoadSuccess:a,children:q.jsx(cL,{pageNumber:n,scale:r>576?.8:.5})}),q.jsx("button",{onClick:o,disabled:n>=(t??-1),className:"p-5",children:q.jsx(TE,{})})]}),q.jsxs("p",{className:"text-center",children:["Page ",n," of ",t]})]})}export{hE as A,kg as B,TE as C,fb as D,db as E,Jy as F,CE as G,yL as J,DL as N,sr as P,fL as R,dr as X,hS as a,oi as b,wu as c,AL as d,pg as e,nr as f,pn as g,zb as h,hb as i,uL as j,HL as k,dS as l,Wo as m,gL as n,gk as o,mk as p,vk as q,yk as r,bk as s,pL as t,RA as u,mu as v,Tb as w,zA as x,uE as y,fE as z};
